<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Hang&#39;s Blog">
<meta property="og:url" content="https://example.com/page/134/index.html">
<meta property="og:site_name" content="Hang&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Hang Zhang">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://example.com/page/134/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Hang's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hang's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/14/AZ-204-Running-a-Container-on-Azure-App-Service-10/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/14/AZ-204-Running-a-Container-on-Azure-App-Service-10/" class="post-title-link" itemprop="url">AZ-204-Running-a-Container-on-Azure-App-Service-10</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-11-14 11:07:09 / Modified: 23:25:28" itemprop="dateCreated datePublished" datetime="2022-11-14T11:07:09-04:00">2022-11-14</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/14/AZ-204-Running-a-Container-on-Azure-App-Service-10/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/14/AZ-204-Running-a-Container-on-Azure-App-Service-10/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Running-a-Container-on-Azure-App-Service"><a href="#Running-a-Container-on-Azure-App-Service" class="headerlink" title="Running a Container on Azure App Service"></a>Running a Container on Azure App Service</h1><p>Welcome to “Running a Container on Azure App Service”. To get the most from this course, you should already have some basic experience using App Service. If you don’t, then you can take our “Introduction to Azure App Service” course.</p>
<p>In this course, I’ll give you a demonstration of how to build and run a Docker container on App Service. If you want to do the demo yourself, as well, then you’ll need to have an Azure account. If you don’t already have one, then you can create a free trial account.</p>
<p>Although App Service supports many different programming languages and frameworks, such as .NET, Java, and Python, sometimes you might need a different development stack that isn’t directly supported by App Service. In these cases, the solution is to create a custom Docker container that has all of the software you need preinstalled.</p>
<p>A Docker container is a self-contained software environment that includes an application and all of its dependencies. Because it includes everything it needs, the container is portable. That is, it can run on any system that supports Docker without having to worry about what’s installed in the underlying operating system.</p>
<p>Container images are normally stored in a central location, which makes it easier to manage them and deploy them. Microsoft offers a service called Azure Container Registry that provides this central location.</p>
<p>To deploy a container to App Service, here are the steps you need to take. First, create an instance of Azure Container Registry. Then build a container image. Next, upload it to your container registry. Then deploy it from the container registry to Azure App Service. And finally, try to connect to the application to make sure it worked.</p>
<p>Okay, let’s go through the steps. First, we’ll create the container registry. In the Azure Portal, type “container” in the search bar, and choose “Container registries”. Then click “Create”. We can choose an existing resource group, but let’s create a new one, which will make it easier to delete everything when we’re done. I’ll call it “demorg”.</p>
<p>The registry name has to be unique across all Azure customers, so I’ll call it “ca” for “Cloud Academy” and then “reg”. You’ll have to choose a different name if you do this yourself. For the SKU, choose “Basic”, which is cheaper. Then click “Review + Create” and “Create”.</p>
<p>When it’s done, click “Go to resource”. Then go to “Access keys” and set “Admin user” to “Enabled”. This is required for deploying to App Service.</p>
<p>Next, we need to build the container image, so you need to have Docker installed and running on your desktop. If you don’t already have it, then you can download it from docs.docker.com&#x2F;get-docker.</p>
<p>Once you have Docker running, you can build the container image in a variety of different ways, but we’re going to do it from Visual Studio Code, which is a free development tool from Microsoft. You can download it from code.visualstudio.com.</p>
<p>You’ll also need to install the Azure Tools extension. To install it, click on Extensions, search for “azure”, and install Azure Tools. When it’s done, the Azure logo and the Docker logo will show up over here.</p>
<p>Click the Azure logo, then click “Sign in to Azure”. It’ll bring up a browser tab where you have to select your Microsoft account. This came up on a different screen for me, which is why you can’t see it. Okay, I selected my account, so I’m logged in.</p>
<p>Now we need to connect to Azure Container Registry. Click the Docker logo. Then click “Connect Registry”, and select “Azure”.</p>
<p>Next, we need to create a Dockerfile, which is a file that tells Docker how to build a specific container. Normally, we’d need to type some instructions that tell Docker what base image to use and how to install our application and all of its dependencies, but this isn’t a Docker course, so we’re going to take a shortcut. We’re just going to copy an example container image that Microsoft has already created.</p>
<p>Click on the “Explorer” icon. Then click “Open Folder”, and create a new folder called “dockerdemo”. Now click “New File”. To save you the trouble of typing in the contents of this file, I’ve put the text in a readme file in a GitHub repository. You can find a <a target="_blank" rel="noopener" href="https://github.com/cloudacademy/azure-container-app">link</a> to the repository at the bottom of the Overview tab below this video. Copy this text, paste it into the editor, and save it. Call it “Dockerfile”.</p>
<p>These instructions tell Docker to get a .NET Core container image from the Microsoft Container Registry, which is Microsoft’s own registry. The last line tells Docker where the app is in the container, so it can start it when it runs the container.</p>
<p>Now we’re going to build the container image. Hit the F1 key. Then type “docker images”, and select “Build image”. This is what we want to name the image plus the tag to apply to it. We need to tell it that we’re going to put this image in our container registry, so we need to prefix this with the URL of the container registry. I called mine “careg”. Then type “.azurecr.io” because that’s where Azure Container Registry hosts it. Then slash and the name of the image. Then leave the tag as “latest” which means that this is the latest version of the container.</p>
<p>Okay, it’s done. Now we’re going to push the image to the container registry. Click the Docker logo. The image name shows up here. If you click on it, the “latest” tag appears, which means this is the version of the image that we just built. Now, right-click on the image and select “Push”. It brings up the image name and tag again up here, so hit “Enter”. It takes quite a while to push the image to the registry, so I’ll fast-forward.</p>
<p>All right, it’s done. To check that it worked, click the Refresh button next to “Registries”, and the image name should show up under your registry. If you click on it, the tagged version of the image is there.</p>
<p>Now that the container image is in our registry, we can finally deploy it to Azure App Service. Right-click the tagged image, and select “Deploy image to Azure App Service”. Choose a globally unique name for the app. I’m going to use “ca” and the “dockerdemo”. You’ll have to choose something else. Then select the resource group you created before. I called mine “demorg”. Then select a region.</p>
<p>Finally, select an App Service Plan. If you haven’t created one already, then you can create one from here. The pricing tier for your service plan has to be at least Basic because you can’t deploy a container to a Free plan.</p>
<p>If you have an App Service Plan and it’s not showing up here, it might be because it’s for the wrong operating system. This Docker image runs on Linux, so you can only select a Linux App Service Plan. It’s possible to deploy a Windows container to App Service, but most people use Linux.</p>
<p>Now, it’s pulling the image from the container registry and deploying it to the App Service Plan. Okay, it’s finished. Now we can make sure it worked by clicking “Open Site”. If you need to do this after the popup disappears, you can click on the Azure logo. Here’s the app we just pushed to App Service in a container. If you right-click, you can select “Browse Website”. It came up on my other monitor, so I’ll bring it over. It opened the URL of the app we just deployed on App Service. This is Microsoft’s sample app, so it worked.</p>
<p>That’s the end of this demo. If you want to avoid incurring any additional charges, then the easiest way to delete everything is to delete the resource group you created. I’ll do that with my demorg resource group.</p>
<p>And that’s it for running a container on Azure App Service. Please give this course a rating, and if you have any questions or comments, please let us know. Thanks!</p>
<h2 id="Running-a-Container-on-Azure-App-Service-1"><a href="#Running-a-Container-on-Azure-App-Service-1" class="headerlink" title="Running a Container on Azure App Service"></a><strong>Running a Container on Azure App Service</strong></h2><p><a target="_blank" rel="noopener" href="https://github.com/cloudacademy/azure-container-app">Course GitHub repo</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/14/AZ-204-Configuring-Networking-in-Azure-App-Service-9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/14/AZ-204-Configuring-Networking-in-Azure-App-Service-9/" class="post-title-link" itemprop="url">AZ-204-Configuring-Networking-in-Azure-App-Service-9</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-11-14 11:06:07 / Modified: 23:20:18" itemprop="dateCreated datePublished" datetime="2022-11-14T11:06:07-04:00">2022-11-14</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/14/AZ-204-Configuring-Networking-in-Azure-App-Service-9/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/14/AZ-204-Configuring-Networking-in-Azure-App-Service-9/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Configuring-Networking-in-Azure-App-Service-Introduction"><a href="#Configuring-Networking-in-Azure-App-Service-Introduction" class="headerlink" title="Configuring Networking in Azure App Service - Introduction"></a>Configuring Networking in Azure App Service - Introduction</h1><p>Welcome to “Configuring Networking in Azure App Service”. In this course, I’ll cover the most commonly used networking configurations in App Service. First, I’ll explain how to create a custom domain name for your app. Then, I’ll show you how to enable TLS&#x2F;SSL so people can reach your app using HTTPS. Finally, I’ll explain different ways of controlling inbound and outbound connections to and from your app.</p>
<p>To get the most from this course, you should already have some basic knowledge of both App Service and Azure networking. It would also help to have some knowledge of DNS, that is, the Domain Name System.</p>
<p>Okay, let’s get started.</p>
<h1 id="Custom-Domains"><a href="#Custom-Domains" class="headerlink" title="Custom Domains"></a>Custom Domains</h1><p>One of the most common things you’ll need to do when you create an app using Azure App Service is to set it up with a custom domain name. That’s because, by default, an App Service app has a URL that ends with the “.azurewebsites.net” domain, which probably isn’t what you want for a commercial website. For example, if you have an app that should be hosted at a site called contoso.com, then you’ll need to tell App Service to use that custom domain name. </p>
<p>Here’s how to do that. First, you need to make sure your App Service Plan is using a paid tier because custom domains are not supported in the free F1 tier.</p>
<p>Next, let’s assume that you’ve already registered your domain name with a domain provider and that you can edit the DNS records for your domain. This isn’t a DNS course, so I’m not going to go into detail about how DNS works. I’ll just explain what you need to do to set up a custom domain for an App Service app. If you’re not familiar with DNS, then it would be a good idea to learn more about it before you make changes to your DNS records.</p>
<p>Okay, now go into the Custom Domain settings for your app in App Service and find the Custom Domain Verification ID. This is something that you’ll add to your domain records to prove to Microsoft that you own the domain. Copy the verification ID and paste it into a text editor. You’ll also need to copy the IP address of your app and the existing URL of the app from the Custom Domains page. The existing URL will end in “.azurewebsites.net”. Paste both of these values into a text editor as well.</p>
<p>Now go to your domain provider’s website and open your DNS records. If you’re going to use a root domain, such as contoso.com, for your app, then create an A record. If you’re going to use a subdomain, such as <a target="_blank" rel="noopener" href="http://www.contoso.com/">www.contoso.com</a>, then create a CNAME record. You’ll often want to do both.</p>
<p>In the A record, set the name to ‘@’ (which means the root domain), and set the value to the IP address of your app. In the CNAME record, set the name to the subdomain, such as www, and set the value to the existing URL of your app.</p>
<p>Now to prove to Microsoft that you own this domain and its subdomain, you need to create a TXT record for each of them. A TXT record is just an informational record that doesn’t affect the resolution of your domain name. For the root domain, set the name to asuid, which I’m assuming stands for “App Service Unique Identifier”, and set the value to the Custom Domain Verification ID that you copied from App Service. For the subdomain, set the name to asuid dot and the subdomain, so it would be asuid.www in our example. And set the value to the Custom Domain Verification ID.</p>
<p>Now you need to go back to the Custom Domains page for your App Service app and add your custom domain. You just need to put in the name of the domain and the DNS record type, which will be either A or CNAME, depending on whether you’re adding the root domain or a subdomain. Then you click the “Validate” button, and Azure checks for the DNS records that you added. If it works, then your app is now accessible using your custom domain name.</p>
<h1 id="Enabling-TLS-x2F-SSL"><a href="#Enabling-TLS-x2F-SSL" class="headerlink" title="Enabling TLS&#x2F;SSL"></a>Enabling TLS&#x2F;SSL</h1><p>After you’ve configured a custom domain for your app, it will only be accessible at a URL starting with “http”, which is an insecure protocol. These days, every website should be able to respond to requests over HTTPS, which is the secure version of HTTP. To set that up, you need to enable TLS&#x2F;SSL, which takes a bit of work.</p>
<p>First, you need to make sure that the tier of your App Service Plan is at least Basic because the Free and Shared tiers don’t support TLS&#x2F;SSL for custom domains.</p>
<p>Second, you need to have a TLS&#x2F;SSL certificate file. This type of file contains a private key and a certificate with a public key. These are needed for a couple of reasons. First, the public&#x2F;private key pair is used to encrypt and decrypt traffic between the website and the browser of anyone visiting the site. Second, the certificate verifies that the browser is interacting directly with the website.</p>
<p>This might seem like an unnecessary step, but it helps prevent something called a man-in-the-middle attack. This is where another computer is intercepting messages between two parties (the web server and the browser in this case) and listening in on the conversation. In some cases, it will even change the messages. However, if the web server starts an encrypted conversation by presenting a certificate that is verified by a trusted certificate authority, then the browser can be sure that it’s communicating directly with the webserver.</p>
<p>Third, you need to create a TLS binding to your custom domain.</p>
<p>Now let’s get into the details of how to do steps 2 and 3. So where do you get a certificate file? The easiest way is to use the free App Service managed certificate. It’s provided by Digicert, which is the certificate authority that verifies the authenticity of the certificate. This solution won’t work in all cases, but it works for most situations, and it’s free, so it’s hard to beat that. If you need to do something special, then you can import a certificate file that you obtained from somewhere else.</p>
<p>To create a free certificate, go into the TLS&#x2F;SSL settings for your App Service app, then select Private Key Certificates, and click Create App Service Managed Certificate. Then tell it which custom domain you want to create the certificate for, and that’s it.</p>
<p>Once you have a private key certificate, whether it’s a free one or one that you imported from elsewhere, then you can bind TLS&#x2F;SSL to your domain.</p>
<p>Other than specifying the custom domain and the certificate, you need to tell it whether to use SNI SSL or IP SSL. SNI SSL binds the certificate using the website’s hostname, while IP SSL binds the certificate to the website’s IP address. SNI SSL gives you more flexibility, and it’s easier to configure, so it’s usually the best choice. The only disadvantage is that it doesn’t work on really old browsers, and when I say “really old”, I mean it. All major browsers have provided support for SNI SSL since 2007.</p>
<p>Once you’ve bound your certificate to your custom domain, people will be able to access your app using HTTPS. However, they’ll still be able to access it using HTTP, which is not encrypted, so if you want to ensure that everyone will access your site over HTTPS, then you can select the “HTTPS only” option in your app’s TLS&#x2F;SSL settings. There’s also a “Minimum TLS Version” option. By default, it’s set to 1.2, which is the recommended version, but you can set it to 1.0 or 1.1 if you want to support older browsers. It’s usually best to leave it set to 1.2, though.</p>
<p>As I mentioned earlier, one of the benefits of binding a certificate to a custom domain is that it lets a client device know that it’s communicating with a legitimate website and not a hacker. But the website has no way of knowing that’s it’s communicating with a legitimate client and not a hacker. If you require that level of security, then you can enable TLS mutual authentication. This is also known as client certificate authentication. It’s typically used only within an individual organization because it requires that all client devices have a client certificate.</p>
<p>To enable this, you need to go into the general configuration settings for your app, and set “Client certificate mode” to “Require”. You have to do more to make it work, though, because App Service doesn’t handle the client authentication. It just forwards the client certificate to your app. So, you need to add code to your app to handle the authentication. App Service forwards the client certificate as a base-64 encoded value in an X-ARR-ClientCert request header.</p>
<p>And that’s it for enabling TLS&#x2F;SSL.</p>
<h1 id="Inbound-and-Outbound-Connections"><a href="#Inbound-and-Outbound-Connections" class="headerlink" title="Inbound and Outbound Connections"></a>Inbound and Outbound Connections</h1><p>By default, a web app created using App Service can only be accessed through the internet. But there are many cases when you’d want to be able to connect to an app in different ways. For example, you might want an app to only be accessible internally rather than over the internet, or you might want to connect the app to a database in either Azure or an on-premises environment.</p>
<p>There are many different ways to connect to or from an app, depending on exactly what you need to do. These methods can be divided into two groups: inbound (for connecting to an app) and outbound (for connecting from an app to other resources).</p>
<p>We’ll start with the inbound methods. If you’re okay with your app communicating over the internet, but you want to restrict which IP addresses can connect to it, then the easiest way to do that is to add access restriction rules to your app. Each rule either allows or denies access to a single IP address or a block of IP addresses.</p>
<p>If you have resources in an Azure virtual network that need to connect to your app over the Microsoft backbone network rather than over the internet, then you can restrict access to your app using a service endpoint rather than an IP address. A service endpoint is something you can enable on a subnet. So you can create a service-endpoint-based rule that allows access to your app from a particular subnet in a VNet.</p>
<p>A newer way of doing this is to create a private endpoint for your app. This is a private IP address in your VNet that gets attached to your app. One advantage of using a private endpoint is that it makes it easy to connect to your app from an on-premises environment. If you already have a connection from your on-premises environment to your Azure VNet using a method such as Azure ExpressRoute or Azure VPN, then you can connect to the app through the private endpoint in the VNet. This is more difficult to do with a service endpoint. For this and other reasons, Microsoft recommends using private endpoints rather than service endpoints.</p>
<p>All of the methods I’ve mentioned so far have been for controlling inbound connections to your app. To allow your app to initiate outbound connections to various resources, we need to use different methods. An outbound connection is typically used to connect an app to a database or other type of supporting resource.</p>
<p>App Service Hybrid Connections is a feature that allows an app to connect to a resource in an Azure virtual network or an on-premises environment. To make it work, you need to install Hybrid Connection Manager on a Windows Server that has access to both networks over port 443. App Service then uses this as a relay to connect to the other environment. The advantage of using Hybrid Connections is that it provides secure access even if you don’t have an ExpressRoute or VPN connection between your on-premises environment and Azure.</p>
<p>Another method is called VNet Integration. There are two different types: Regional VNet Integration and Gateway-required VNet Integration. The great thing about the Regional method is that you don’t need to install anything.</p>
<p>To configure it in App Service, you go into the Networking section of your app’s configuration and select VNet Integration. Then you just need to tell it which VNet you want to add. If the VNet that you want to integrate with is in the same region as the app, then the only requirement is that the VNet has to have an empty subnet that the Integration feature can use.</p>
<p>Once you’ve configured Regional VNet Integration, then your app can connect to resources in the VNet or in an on-premises network that’s connected to the VNet through ExpressRoute or a VPN. It can even connect to a VNet in a different region if there’s a peering connection between that VNet and the regional VNet.</p>
<p>Pretty much the only reason you’d need to use Gateway-required VNet Integration is if your app needs to connect to a VNet in another region that isn’t peered with a regional VNet. In that case, you’d need to install a virtual network gateway in the remote VNet. This method has a number of disadvantages, though, such as not allowing connections to on-premises environments over ExpressRoute. So, in most cases, it’s better to use Regional VNet Integration than Gateway-required VNet Integration.</p>
<p>And that’s it for configuring networking in Azure App Service. Please give this course a rating, and if you have any questions or comments, please let us know. Thanks!</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/14/AZ-204-Deploying-Code-From-GitHub-to-Azure-App-Service-8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/14/AZ-204-Deploying-Code-From-GitHub-to-Azure-App-Service-8/" class="post-title-link" itemprop="url">AZ-204-Deploying-Code-From-GitHub-to-Azure-App-Service-8</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-11-14 11:04:48 / Modified: 23:23:26" itemprop="dateCreated datePublished" datetime="2022-11-14T11:04:48-04:00">2022-11-14</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/14/AZ-204-Deploying-Code-From-GitHub-to-Azure-App-Service-8/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/14/AZ-204-Deploying-Code-From-GitHub-to-Azure-App-Service-8/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Deploying-Code-From-GitHub-to-Azure-App-Service"><a href="#Deploying-Code-From-GitHub-to-Azure-App-Service" class="headerlink" title="Deploying Code From GitHub to Azure App Service"></a>Deploying Code From GitHub to Azure App Service</h1><p>Welcome to “Deploying Code from GitHub to Azure App Service”. To get the most from this course, you should already have some experience using App Service. If you don’t, then you can take our “<a target="_blank" rel="noopener" href="https://cloudacademy.com/course/introduction-azure-app-service-2185/introduction/">Introduction to Azure App Service</a>” and “<a target="_blank" rel="noopener" href="https://cloudacademy.com/course/using-deployment-slots-azure-app-service-2359/using-deployment-slots-in-azure-app-service/">Using Deployment Slots in Azure App Service</a>” courses. It would also be helpful to have some experience with GitHub, although it’s not a requirement.</p>
<p>Microsoft provides many ways to deploy code to App Service, but one of the best ways is to deploy from a source code repository, such as GitHub, Bitbucket, or Azure Repos. This is useful whether you need to upload your code once or need to implement continuous deployment in a DevOps environment.</p>
<p>In this short course, I’ll show you how to deploy code from GitHub to App Service both manually and using continuous deployment. Although it’s possible to do both using the Azure Portal’s graphical user interface, I’m going to use the command-line interface to do the manual deployment for a couple of reasons. First, you can use Azure commands in automation scripts. Second, Microsoft often asks command-line questions in its Azure Developer certification exam, so if you’re preparing to take that exam, it’s good to know these commands.</p>
<p>In this demo, I’m going to show you all of the commands you’ll need to use if you don’t have any App Service resources yet. First, I’m going to create a resource group to hold the resources. Then, I’ll create an App Service Plan to host the app. Next, I’ll create a webapp in the plan. And finally, I’ll deploy a sample app from one of Microsoft’s GitHub repositories to the webapp in App Service. The sample app is called “html-docs-hello-world”. It doesn’t do much, but it’ll be fine for demonstration purposes.</p>
<p>To use the command-line interface from your desktop, you need to install the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/overview-of-azure-services/using-azure-cli/">Azure CLI</a>. But an alternative is to use Azure Cloud Shell, which has the Azure CLI preinstalled. Click here to start it. If it’s your first time running Cloud Shell, then it’ll ask you to create a storage account that it can use. I’ve used Cloud Shell before, so mine already has a storage account.</p>
<p>Okay, first let’s create a resource group. You need to use the “az group create” command. Add the name parameter and call it “webapprg” for “webapp resource group”. Then add the location parameter and specify an Azure region. I’ll use “westus”.</p>
<p>As you’d expect in a course about GitHub, I put all of the commands from this demo in a readme file in a GitHub repository so you can copy and paste them. You can find a <a target="_blank" rel="noopener" href="https://github.com/cloudacademy/azure-app-service-github">link</a> to the repository in the Overview tab below this video.</p>
<p>All right, now we need to create an App Service plan using the “az appservice plan create” command. For the name parameter, I’ll call it “asplan” for “App Service Plan”. For the resource group, we need to say “webapprg”, which is the resource group we just created. For the location, we’ll use the same region as we did for the resource group. And finally, we have to specify the SKU, which means the pricing tier for the App Service Plan. F1 is the free tier, so we won’t have to pay anything.</p>
<p>Okay, now we need to create a webapp in the plan. This will essentially be a place to put our app when the time comes, so when we first create the webapp, it’ll be empty. We use the “az webapp create” command. The name has to be globally unique, so I’ll call it “ca” for “Cloud Academy”, “webapp”. You’ll have to call it something else. Then tell it to use the webapprg resource group and the App Service plan we just created, which we called asplan.</p>
<p>All right, now we have everything we need to deploy the app. The command we need is “az webapp deployment source config”. We need to give it a lot of parameters. You can put them in any order, but I’ll put them in the order that I think is most logical.</p>
<p>First, we’ll use the “repo-url” parameter to tell it where the GitHub repository is. This is the URL for the “html-docs-hello-world” sample app. Then we need to tell it which branch of the repository contains the code we want to deploy. In most cases, you’ll probably just want to deploy the master branch, but if you need to deploy a different branch, this is where you do it.</p>
<p>Next, we need to specify the “manual-integration” parameter. This means that we’re deploying the code manually rather than telling it to automatically deploy the app every time the code changes.</p>
<p>Then we tell it the name of the webapp where we want to deploy the code. And finally, we tell it which resource group the webapp is in. This’ll take a while, so I’ll fast-forward.</p>
<p>Okay, it’s done. Now we can see if it worked by going to the URL of the webapp, which is the name of the webapp and then “.azurewebsites.net”.</p>
<p>Yes, this is the sample hello world app, so it worked.</p>
<p>If you want to configure continuous deployment, which is where the app automatically gets deployed every time the code in the repository changes, then Microsoft recommends using the Azure Portal.</p>
<p>First, I’ll find my app in the portal. Here it is. Now, we need to go to the Deployment Center. Since we already did a deployment from GitHub, it shows the configuration we used. Here’s the URL of the GitHub repository. If we wanted to do another deployment manually, then we’d just click on “Sync” up here. But we’re going to set up continuous deployment, so first we need to get rid of this manual configuration, which we can do by clicking “Disconnect”.</p>
<p>It says, “You’re now in the production slot, which is not recommended for setting up continuous integration &#x2F; continuous deployment. That’s because if a new version of the app got deployed to the production slot, it would cause the app to be unavailable until the deployment is finished, which is not something you want to do to your users. The solution is to configure continuous deployment in a non-production deployment slot.</p>
<p>Since our App Service Plan is using the Free tier, which doesn’t support deployment slots, we’ll need to upgrade our plan to the Standard tier. To do that, we go to “Scale up”, choose the S1 tier, which means “Standard”, and click “Apply”.</p>
<p>There. Now we need to create a deployment slot, so we select “Deployment slots” in the menu, and then click “Add Slot”. We’ll call it “staging” and tell it to clone settings from the production slot.</p>
<p>Then we click on the slot, and now we can go back to the Deployment Center. Good, the warning is gone because now we’re in the staging slot, which is a non-production deployment slot.</p>
<p>In the “Source” dropdown, it gives us the option to set up either continuous deployment or manual deployment. Let’s select “GitHub” in the continuous deployment section.</p>
<p>Before it can deploy the app, it needs to build it. By default, it uses GitHub Actions to do the build, but it’s usually easier to change this to “App Service Build Service”. This means that App Service will take care of building it.</p>
<p>Now I need to authorize App Service to access my GitHub account.</p>
<p>Then I need to choose the organization, the repository, and the branch. I don’t have privileged access to Microsoft’s sample repository, so it’s not something I can select here. Instead, I copied Microsoft’s repository to my own organization, where I do have privileged access. Then I’ll click “Save”.</p>
<p>That worked, so now whenever the code in the master branch of my copy of the repository changes, it will automatically build and deploy the app to the staging slot. Then I could swap the staging slot with the production slot to upgrade the production version of the app. Alternatively, I could configure auto swap on the staging slot, so it would automatically swap the slot with production once the app is running.</p>
<p>If you’ve been following along on your own, make sure to either downgrade the App Service Plan to the free tier or delete the whole resource group. That way, you won’t incur any more charges.</p>
<p>And that’s it for deploying code from GitHub to Azure App Service. Please give this course a rating, and if you have any questions or comments, please let us know. Thanks!</p>
<h2 id="Deploying-Code-From-GitHub-to-Azure-App-Service-1"><a href="#Deploying-Code-From-GitHub-to-Azure-App-Service-1" class="headerlink" title="Deploying Code From GitHub to Azure App Service"></a><strong>Deploying Code From GitHub to Azure App Service</strong></h2><p><a target="_blank" rel="noopener" href="https://github.com/cloudacademy/azure-app-service-github">Course GitHub repo</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/14/AZ-204-Lab-Deploying-And-Monitoring-Azure-App-Service-Web-Apps-7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/14/AZ-204-Lab-Deploying-And-Monitoring-Azure-App-Service-Web-Apps-7/" class="post-title-link" itemprop="url">AZ-204-Lab-Deploying-And-Monitoring-Azure-App-Service-Web-Apps-7</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-11-14 11:04:07 / Modified: 11:04:08" itemprop="dateCreated datePublished" datetime="2022-11-14T11:04:07-04:00">2022-11-14</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/14/AZ-204-Lab-Deploying-And-Monitoring-Azure-App-Service-Web-Apps-7/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/14/AZ-204-Lab-Deploying-And-Monitoring-Azure-App-Service-Web-Apps-7/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/14/AZ-204-Using-Deployment-Slots-in-Azure-App-Service-6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/14/AZ-204-Using-Deployment-Slots-in-Azure-App-Service-6/" class="post-title-link" itemprop="url">AZ-204-Using-Deployment-Slots-in-Azure-App-Service-6</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-11-14 06:40:15 / Modified: 23:15:40" itemprop="dateCreated datePublished" datetime="2022-11-14T06:40:15-04:00">2022-11-14</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/14/AZ-204-Using-Deployment-Slots-in-Azure-App-Service-6/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/14/AZ-204-Using-Deployment-Slots-in-Azure-App-Service-6/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Using-Deployment-Slots-in-Azure-App-Service"><a href="#Using-Deployment-Slots-in-Azure-App-Service" class="headerlink" title="Using Deployment Slots in Azure App Service"></a>Using Deployment Slots in Azure App Service</h1><p>Welcome to “Using Deployment Slots in Azure App Service”. To get the most from this course, you should already have some basic experience using App Service. If you don’t, then you can take our “Introduction to Azure App Service” course.</p>
<p>App Service makes it easy to deploy a new version of an app to production. All you have to do is run the “az webapp up” command. But you’d normally want to test a new version thoroughly before putting it into production. So you need a testing environment that’s as close as possible to your production environment.</p>
<p>App Service has a great solution. It’s called a deployment slot. By default, an app has one deployment slot called “Production”. But you can create other deployment slots, too, and give them names like “testing” and “staging”. Then when you deploy an app, you can choose which deployment slot to put it in.</p>
<p>Here’s a typical way to do it. First, you clone your production slot to a staging slot. When you do this, you can choose to clone the production slot’s configuration, including app settings, connection strings, the language framework, and many other settings. That way your staging slot’s configuration will be as close as possible to your production slot’s configuration, which will make your testing more valid.</p>
<p>Once you’ve cloned the slot to a new one, though, you can change any of those settings in the new slot if you need to. For example, you might change the version of the language framework to a newer version, such as going from Java 8 to Java 11.</p>
<p>You might expect it to clone the actual app as well, and not just the settings, but it doesn’t. That’s because it expects you to upload a new version of the app to the staging slot, so there’s no point in cloning the production app.</p>
<p>Note that if you use the command line to upload the app to the staging slot, you can’t use the “az webapp up” command. Instead, you have to use the “az webapp deployment source” command, which takes a bit more work. The most common deployment source is a git repository.</p>
<p>Once you’ve tested the new version in your staging slot, the next step is to swap the staging slot with the production slot. You start by setting the source slot and the target slot. The source slot contains the new version of the app, so it’s the staging slot. The target slot is the one that will be running the new version once the swap has been completed, so it’s the production slot.</p>
<p>When you tell it to swap the source and target slots, it swaps not only the two different versions of your app but also any settings that you changed in the staging slot, such as the language framework if you changed that.</p>
<p>However, there is an exception to this. You can create slot-specific settings. For example, it’s usually a good idea to have a separate test database so you don’t mess up the production one when you’re testing a new version of your app in the staging slot. In this case, you’d need to have a different connection string for the database in each slot, and you wouldn’t want this setting to be swapped. It would need to stay with the slot rather than the app, which is why it’s called slot-specific. So when you add or change an application setting or a connection string in a non-production slot, you have the option of making it a slot-specific setting.</p>
<p>Aside from giving you the ability to properly test a new version before putting it into production, there are a couple of other big advantages to using a swap to deploy an app. First, when you deploy a new version of an app, it will often cause a reboot of the virtual machines that are used to host the app. During the warm-up period when the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/what-is-a-virtual-machine/">VM instances</a> are spinning up, the app is not available, so if you were to simply deploy the new version of the app to production, it would cause downtime. But if you deploy to a staging slot first, then the VM instances have a chance to warm up before you swap the slot with production.</p>
<p>Second, if there’s a problem after you swap the new version into production, you can easily roll back and revert to the previous version. All you have to do is swap the two slots again. If you’ve ever had to quickly roll back a new version that you’ve deployed, then I’m sure you can appreciate how helpful this feature is.</p>
<p>There’s also an option that makes the swap even safer if you have slot-specific settings. It’s called “swap with preview”. This does the swap in two phases. First, it temporarily copies the slot-specific settings from the target slot (that is, the production slot) to the source slot (that is, the staging slot). It then gives you a chance to test the new version of the app with all of the settings it will have after the swap is completed.</p>
<p>If it doesn’t work, then you can cancel the swap. If it does work, then you can tell it to complete the swap. At that point, it swaps the app and the other settings between the two slots. But it leaves the slot-specific settings with each slot. So the version of the app that was previously in production and is now in the staging slot has the connection string for the test database, for example.</p>
<p>There’s also a riskier option for doing a swap. If you enable “auto swap” on a slot, then every time you push a new version of your app to that slot, it will automatically swap it with whichever slot you specify. So, for example, if you enable “auto swap” on the staging slot, and you set the “Auto swap deployment slot” to the Production slot, then every time you upload a new version of the app to the staging slot, it will automatically be swapped into Production.</p>
<p>Why on earth would you do such a thing? Well, you might want to do this as part of an <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/implementing-a-build-strategy-for-continuous-integration-with-azure-devops/introduction/">automated DevOps process</a>. If you have a continuous integration system that automatically tests your app every time you commit new changes to the source code repository, then you might feel comfortable putting new versions into production without doing any manual testing.</p>
<p>So, if that’s the case, then why bother pushing it to the staging slot first and then auto-swapping it into production? Why not just push it straight to production? Well, as I mentioned earlier, when you push an app to the staging slot first, it has a chance to warm up before going into production.</p>
<p>In fact, it’s even possible to create a custom warm-up. If your app needs to be initialized before it can serve requests from users, then you can create a custom warm-up that makes sure the initialization is complete before it performs the swap. There are two ways to set this up. If your app is running on an IIS web server, then you can configure the applicationInitialization element in the web.config file. Alternatively, regardless of the web server you’re using, you can set WEBSITE_SWAP_WARMUP_PING_PATH and WEBSITE_SWAP_WARMUP_PING_STATUSES in the app settings in <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-app-service-949/introduction/">Azure App Service</a>.</p>
<p>So far, I’ve only talked about having two slots and having all of your end-user traffic go to the production slot. But you can have more complicated configurations if you want. First, you can have more than two slots. For example, you might want to have separate development, testing, staging, and production slots to handle the different stages of your software development process.</p>
<p>Second, you can make things really interesting by sending some of your end-user traffic to non-production slots. For example, suppose you want to do canary testing, which means that you want to reduce the risk involved with deploying a new version of your app by releasing the new version to only a small percentage of your users. Then if those users don’t have any problems with it, you can release it to the rest of your users.</p>
<p>App Service supports this type of testing by allowing you to set a different percentage of traffic for each slot. Normally, the production slot is set to take 100% of the traffic and all other slots are set to take 0%. But if you wanted to do a canary test, you could set the staging slot to 5% and the production slot to 95%. Then after you’ve done your testing, you could swap the two slots, which would put the staging version into production, and then set the production slot to take 100% of the traffic again.</p>
<p>I should mention that the total number of slots you can use depends on the pricing tier of the App Service Plan you’re using. Deployment slots are only supported in the Standard, Premium, and Isolated tiers. The Standard tier supports up to 5 slots, but the Premium and Isolated tiers support up to 20. So if you’re using the Standard tier, and for some reason, you need more than 5 slots, you can just scale up your service plan to the Premium tier.</p>
<p>And that’s it for deployment slots in Azure App Service. Please give this course a rating, and if you have any questions or comments, please let us know. Thanks!</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/14/AZ-204-Autoscaling-on-Azure-App-Service-5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/14/AZ-204-Autoscaling-on-Azure-App-Service-5/" class="post-title-link" itemprop="url">AZ-204-Autoscaling-on-Azure-App-Service-5</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-11-14 06:38:51 / Modified: 23:22:36" itemprop="dateCreated datePublished" datetime="2022-11-14T06:38:51-04:00">2022-11-14</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/14/AZ-204-Autoscaling-on-Azure-App-Service-5/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/14/AZ-204-Autoscaling-on-Azure-App-Service-5/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Autoscaling-on-Azure-App-Service"><a href="#Autoscaling-on-Azure-App-Service" class="headerlink" title="Autoscaling on Azure App Service"></a>Autoscaling on Azure App Service</h1><p>Welcome to “Autoscaling on Azure App Service”. To get the most from this course, you should already have some basic experience using App Service. If you don’t, then you can take our “<a target="_blank" rel="noopener" href="https://cloudacademy.com/course/introduction-azure-app-service-2185/introduction/">Introduction to Azure App Service</a>” course.</p>
<p>All right, let’s get started. If you need to add more resources to an app running on App Service, one way is to scale up its resources by switching its App Service Plan to a higher pricing tier. This is very easy to do, and it only takes a few seconds, but it’s not a very dynamic solution. For example, what if your app gets used a lot more on weekdays than on weekends? You wouldn’t want to scale up and scale down your app’s service plan every week.</p>
<p>A more elegant solution is to have Azure add more virtual machines when your app is busier and remove VMs when it’s less busy. This is known as scaling out and scaling in rather than scaling up and scaling down. It’s only available on Basic plans and higher. It’s not available on Free or Shared plans.</p>
<p>Keep in mind, though, that even the Basic tier probably won’t give you what you need. That’s because it only allows you to scale in and out manually. If you want Azure to scale without manual intervention, then you need autoscaling, which is only available on Standard plans and higher.</p>
<p>The service that actually handles autoscaling is Azure Monitor. So, you can get to the autoscale settings either by selecting “Scale out” from the menu in your Service Plan or by going to Azure Monitor and selecting “Autoscale” and then selecting your Service Plan.</p>
<p>The way it works is that you can create one or more scale conditions that specify exactly what will trigger Azure to add or remove virtual machines. In each scale condition, you need to add one or more rules. For example, you could say that if the average CPU percentage of the VMs in your Service Plan is over 75% for at least 10 minutes, then it should increase the number of VM instances by one.</p>
<p>There are a huge number of variations in the rules that you can create. First, there are different metrics to choose from. Aside from CPU percentage, there’s also memory percentage, data in, data out, disk queue length, and a wide variety of network metrics, such as “Socket count for inbound requests”.</p>
<p>You can also tell it to look for the minimum or maximum value of a metric rather than the average. For example, you could tell it to scale out if the CPU percentage reaches 75% at any time during a 10-minute period.</p>
<p>It doesn’t have to be a 10-minute period either. You can set it to aggregate the metric over any number of minutes you want. And, of course, it doesn’t need to be 75%. You can set that to whatever percentage you want, too.</p>
<p>Then there’s the scaling action that you want it to take. You can tell it to scale out by exactly a certain number of VM instances, such as 1 in our example, or scale out to a total number of instances, such as 3, or you can tell it to scale out by a percentage. For example, you can tell it to scale out the number of instances by 50% if the condition is met.</p>
<p>You can also set something called a “cool down” period. This is the number of minutes to wait after a scaling operation before it can scale again. By default, it’s set to 5 minutes. This gives the metrics a chance to stabilize again after the scaling operation.</p>
<p>For example, suppose you have a rule saying that if the average CPU percentage is over 70% for 5 minutes, then add an instance. Then suppose you have 2 instances, and the average CPU percentage reaches 90%, which causes it to add another instance. If you didn’t have a cool-down period, the CPU percentage might still be above 70% for a little while until the new instance has spun up and taken some load off of the other instances, which could trigger the unnecessary addition of yet another instance.</p>
<p>So far, I’ve only mentioned scaling out, but you can create rules for scaling in as well. They work the same way except that everything is reversed. For example, you could tell it to scale in by one instance if the average CPU percentage is below 25% during a 10-minute period.</p>
<p>Now, things really get interesting when you have multiple rules. For example, suppose that you have these rules:</p>
<ul>
<li>Scale out by one instance if CPU utilization is above 65 percent</li>
<li>Scale out by one instance if disk queue length reaches more than 1700</li>
<li>Scale in by one instance if CPU utilization drops below 35 percent</li>
</ul>
<p>Now suppose that your instances are at 30 percent CPU utilization, and the disk queue length is 1900 messages. Will it scale in or scale out or stay the same? The answer isn’t obvious because there are conflicting rules. The CPU utilization is below 35 percent, so maybe it will scale in by one instance. But the disk queue length is more than 1700, so maybe it will scale out by one instance. Do the two rules cancel each other out, or does one of them have priority? Well, Azure autoscaling has a very sensible policy in these situations. Scale-out rules always win over scale-in rules. That’s because if any aspect of the system needs more resources, then it should scale out. Scaling in would just make performance worse.</p>
<p>Okay, that was a lot of information, but believe it or not, there are a couple of other important autoscaling options that I haven’t mentioned yet: scaling to a specific instance count and scheduling.</p>
<p>Previously, I showed scaling based on a metric, such as CPU percentage, but it’s also possible to create a scale condition that doesn’t involve metrics. To do this, you select “Scale to a specific instance count” instead of “Scale based on a metric” when you create a scale condition. This is much simpler than the metric-based process. You just tell it the number of instances you want it to scale to.</p>
<p>Of course, this doesn’t really sound like autoscaling, does it? Without a metric, how will it know when to scale to a specific instance? That’s where scheduling comes in. You simply set a start time and an end time for when this condition should be in effect. If you want it to happen on a recurring basis, you can select “Repeat specific days” and tell it which days you want it to happen every week. For example, you could scale out to a specific instance count on weekdays.</p>
<p>It’s also possible to use a schedule for a metric-based condition. For example, you could configure it to scale based on CPU percentage only on weekends but scale out to a specific instance count during weekdays. In this example, you’d have both metric-based and specific instance-based conditions in the same Service Plan, but since you scheduled them for different days, there wouldn’t be a conflict.</p>
<p>And that’s it for autoscaling on Azure App Service. Please give this course a rating, and if you have any questions or comments, please let us know. Thanks!</p>
<h2 id="1Autoscaling-on-Azure-App-Service"><a href="#1Autoscaling-on-Azure-App-Service" class="headerlink" title="1Autoscaling on Azure App Service"></a>1<strong>Autoscaling on Azure App Service</strong></h2><p><a target="_blank" rel="noopener" href="https://cloudacademy.com/course/introduction-azure-app-service-2185/introduction/">Course: Introduction to Azure App Service</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/14/AZ-204-Introduction-to-Azure-App-Service-4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/14/AZ-204-Introduction-to-Azure-App-Service-4/" class="post-title-link" itemprop="url">AZ-204-Introduction-to-Azure-App-Service-4</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-11-14 06:38:17 / Modified: 23:12:06" itemprop="dateCreated datePublished" datetime="2022-11-14T06:38:17-04:00">2022-11-14</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/14/AZ-204-Introduction-to-Azure-App-Service-4/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/14/AZ-204-Introduction-to-Azure-App-Service-4/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>Welcome to “Introduction to Azure App Service”. I’m Guy Hummel, and I’m a certified Azure Developer and Solutions Architect.</p>
<p>In this course, I’ll start with an overview of Azure App Service, and then I’ll show you how to create a simple app. Finally, I’ll go over App Service Plans. This course is not intended to explain every aspect of Azure App Service, which is quite a complex product. Instead, it’s intended to help you get started with hosting web apps on Azure. We cover additional aspects of App Service, such as autoscaling, deployment slots, networking, and security, in other courses.</p>
<p>To get the most from this course, you should already have some basic experience using Azure. If you don’t have any experience with Azure, then you can take our “Microsoft Azure Fundamentals” learning path.</p>
<p>We’d love to get your feedback on this course, so please give it a rating when you’re finished. Thanks!</p>
<h1 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h1><p>When you need to host a website on Azure, there are lots of potential choices. If it’s a static website that doesn’t require any interactions with users, then you can just store your website in Azure Storage and serve it from there. If you need to host something more sophisticated, then you could deploy it on an Azure virtual machine that’s running a content management system, such as WordPress. If you’ve built a microservices-based application in Docker containers, then you could run it on Azure Kubernetes Service.</p>
<p>But the most popular way to do it is to use Azure App Service. Why? Well, because App Service tries to make deploying a web application as easy as possible while still providing lots of flexibility and features. It’s considered to be a platform-as-a-service rather than infrastructure-as-a-service because it manages the underlying infrastructure for you. This means you don’t have to worry about things like patching the operating system.</p>
<p>App Service supports a wide variety of programming languages and frameworks, including ASP.NET, ASP.NET Core, Java, Ruby, Node.js, PHP, and Python. Not only do these come preinstalled, but they’re also updated when new patches or releases are available. For most of these frameworks, you can choose whether to run it on Windows or Linux (although that’s not the case with ASP.NET Framework 4.8, which can only run on Windows).</p>
<p>Even if you want to use a different programming language, you can still use App Service if you put your application in a Docker container that has the right dependencies installed in it.</p>
<p>There are other key development and deployment features, too. First, it’s well-integrated with Visual Studio and Visual Studio Code, which are the preferred programming environments for many software developers. It’s also integrated with continuous integration &#x2F; continuous delivery tools, such as Azure DevOps, GitHub, and BitBucket. You can also use App Service to host mobile backends and application programming interfaces.</p>
<p>Aside from the ease of deployment and maintenance, one of the biggest advantages of using App Service is its enterprise-class features. First, there’s high availability. Microsoft guarantees 99.95% uptime in most cases for apps running on this service. Then there’s scalability. You can configure it to automatically add more resources to your application when demand increases.</p>
<p>Of course, security is important, too, so Microsoft provides authentication capabilities if you only want authorized users to be able to access your apps. It also lets you control which IP addresses are allowed or denied access to your site if you want.</p>
<p>There are other features as well, but this should give you a good idea of why App Service is the preferred choice for hosting web apps on Azure.</p>
<h1 id="Creating-a-Simple-App"><a href="#Creating-a-Simple-App" class="headerlink" title="Creating a Simple App"></a>Creating a Simple App</h1><p>Now I’ll show you how easy it is to deploy an application on Azure App Service. In fact, it only takes one command to do it.</p>
<p>There are a few different options for where we could deploy it from. We could use Visual Studio, Visual Studio Code, or the Azure Command-Line Interface. I’m going to use the Azure CLI because it’s possible to use it without having to install anything. Microsoft provides something called the Cloud Shell that brings up a small virtual machine that has the Azure CLI and other tools installed on it.</p>
<p>To open it, you click here in the Azure Portal. If you haven’t used it before, then it’ll ask you for permission to create a storage account that the Cloud Shell VM can use. But I’ve used it before, so it comes right up.</p>
<p>Before we can deploy an app, we need to get one from somewhere. I’m going to use a sample .NET application. To get it, you can type this command.[dotnet new webapp -n MyFirstAzureWebApp -f net6.0 &amp;&amp; cd MyFirstAzureWebApp] To save you some typing, I’ve included this command in the transcript below. This command also moves you into the MyFirstAzureWebApp folder, which is where the app was downloaded.</p>
<p>Now that we have the app, we can deploy it to App Service using this command.[az webapp up –sku F1 –name <app-name>] The “az” means it’s an Azure command. “webapp” is the command for App Service. “up” tells it to create the web app using the code in the current directory. “sku F1” means that we want to use the free tier so we won’t be charged for this service. I’ll explain more about service tiers later. Then we say “–name” and what we want to call the app. I’m calling it “ca” for Cloud Academy”, “webapp”. You’ll have to call it something else because the name has to be unique among all of the App Service names across all Azure customers.</app-name></p>
<p>There are quite a few other options we can add, but we can get away with only including these ones. Some of the other most common options are:</p>
<ul>
<li>–resource-group for the resource group that it will put your App Service instance in</li>
<li>–location to specify the Azure region where your app will be hosted</li>
<li>–plan to specify which App Service Plan to use. I’ll tell you more about this in the next lecture.</li>
<li>–os-type, which can be either Windows or Linux. If you don’t specify one, then it’ll default to “Windows”.</li>
</ul>
<p>Since we didn’t specify any of these options, it’s going to create a new resource group and a new App Service Plan using default names, it will put everything in your default location, and it will use Windows for the operating system.</p>
<p>[Hit Enter]Okay, this is going to take a while, so I’ll fast-forward.</p>
<p>All right, it’s done. You can see the choices it made for the options we left out. For example, here’s what it called the App Service Plan, and here’s what it called the resource group.</p>
<p>Now to bring up the app we just deployed, we can use this link. We can click on it, but notice that it’s going to include the quote at the end, so it’ll give us an error. That’s okay because we can just remove the extra bit at the end.</p>
<p>That’s better. This is a very simple web page because that’s all that’s in the sample app. Now, suppose we wanted to make a change to the app. Normally, you’d probably do that in either Visual Studio or Visual Studio Code, but we can actually do it from Cloud Shell, too.</p>
<p>If you click here, it’ll bring up an editor. First, we’ll go into the MyFirstAzureWebApp folder, and then go into the Pages folder, which is where we’ll find the home page for our app. It’s called Index.cshtml.</p>
<p>Right now, the main text on the home page is just “Welcome”. Let’s change it to “Welcome to Azure”. Now we’ll save it and then close the editor.</p>
<p>Okay, we’re back at the command line. If we hit the up arrow, it’ll bring back our previous command. To update our app, we’ll use the “az webapp up” command again, but this time, we don’t need to specify the sku or the name.[Erase them and hit Enter.] I’ll fast-forward again.</p>
<p>All right, it’s done. Now if we go back to the web page and hit refresh, you’ll see that the message changed to “Welcome to Azure”, so it worked.</p>
<p>And that’s it for creating and updating a simple app.</p>
<h1 id="App-Service-Plans"><a href="#App-Service-Plans" class="headerlink" title="App Service Plans"></a>App Service Plans</h1><p>Although Azure App Service takes care of managing the underlying infrastructure for you, you still need to decide what type of infrastructure it should use. To do that, you need to create an App Service Plan.</p>
<p>The three main settings you have to choose in an App Service Plan are the operating system, the region, and the pricing tier. The operating system can be either Windows or Linux. For the region, you typically choose the one that’s closest to where most of your users are located, such as East US. Bear in mind that you can’t change a service plan’s region. So if you decide to move an app to another region later, you’ll have to make a copy of it and put it in a new App Service Plan.</p>
<p>Those first two settings are usually pretty easy to choose, but the pricing tier is much more complex. This is where you decide what type of compute resources to allocate and what App Service features you want. This table shows a summary of the different tiers, although it doesn’t actually show all of the options and features in each tier. I’ll walk you through some of the highlights.</p>
<p>If you’ll be using this plan for development and testing, then you can probably get away with using a low-powered and inexpensive option. The Free tier is a good choice as long as you only need 60 CPU minutes per day. If you need more CPU time than that, then you’ll have to go with a plan that costs money.</p>
<p>The next step up is the Shared tier, which is also known as the D1 tier. It gives you up to 240 CPU minutes per day. It’s called the Shared tier because you have to share compute resources with other Azure customers. That’s the case with the Free tier as well. Both of these tiers have just one gig of RAM and one gig of storage, so you can’t do too much with them. The Shared tier also allows you to use a custom domain name for your app’s website, which isn’t something you can do with the Free tier.</p>
<p>If you need more resources, then you can go with the Basic tier, which puts your apps on dedicated virtual machines instead of shared VMs. There are several options that vary based on the number of virtual CPU cores and the amount of memory. All of the options come with 10 gig of storage.</p>
<p>The next step up is the Standard tier, but although it has 50 gig of storage instead of 10 gig, the CPU and memory options are exactly the same as the Basic tier. The big difference is that the Standard tier supports autoscaling, which means it can automatically add more virtual machines to handle increased traffic. It lets you use up to 10 VM instances. That’s significantly more than the Basic tier, which has a maximum of 3 VM instances.</p>
<p>The Premium tier has options for more CPU, memory, and storage, and it lets you use up to 30 VM instances in most Azure regions.</p>
<p>The Isolated tier gives you a private, dedicated environment that’s in its own virtual network. While the Standard and Premium tiers allow you to connect your dedicated VMs to a virtual network, the Isolated tier actually puts your VMs in a private virtual network so they’re isolated from other App Service instances. It lets you have up to 100 VM instances.</p>
<p>Regardless of which pricing tier you choose, it’s possible to put multiple apps in your service plan. But all of those apps will share the same compute resources, so if you put too many apps in the same service plan, then you’ll run into performance issues.</p>
<p>One potential way to resolve this problem would be to add more virtual machine instances up to the limit of the number of instances allowed in the pricing tier you’ve chosen. This is known as scaling out. It’s also possible to set up autoscaling, which is such a complex topic that we cover it in a separate course.</p>
<p>If scaling out doesn’t solve the problem, then you can switch your plan to a pricing tier that has more powerful instances and&#x2F;or a higher limit on the number of instances you can have. This is called scaling up, and it’s very easy to do. You can simply select the new pricing tier, and it will only take seconds to go into effect.</p>
<p>And that’s it for App Service Plans.</p>
<h1 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h1><p>All right, let’s do a quick review of what you’ve learned.</p>
<p>Azure App Service tries to make deploying a web application as easy as possible by managing the underlying infrastructure for you.</p>
<p>It supports a wide variety of programming languages and frameworks, including ASP.NET, ASP.NET Core, Java, Ruby, Node.js, PHP, and Python. For most of these frameworks, you can choose whether to run it on Windows or Linux (although that’s not the case with ASP.NET Framework 4.8, which can only run on Windows).</p>
<p>To use a different programming language, put your application in a Docker container that has the right dependencies installed in it.</p>
<p>You can deploy apps to App Service from Visual Studio, Visual Studio Code, or the Azure Command-Line Interface. To do it from the command line, use “az webapp up”.</p>
<p>The three main settings you have to choose in an App Service Plan are the operating system, the region, and the pricing tier.</p>
<p>If you choose the Free tier or the Shared tier, you have to share compute resources with other Azure customers.</p>
<p>If you choose the Basic tier or higher, your apps will be put on dedicated virtual machines instead of on shared VMs.</p>
<p>Autoscaling is supported on the Standard tier and higher.</p>
<p>The Premium tier has options for more CPU, memory, and storage.</p>
<p>The Isolated tier gives you a private, dedicated environment that’s in its own virtual network.</p>
<p>Regardless of which pricing tier you choose, you can put multiple apps in your service plan. But all of those apps will share the same compute resources.</p>
<p>You can scale up the resources in your service plan by switching to a higher pricing tier. You can scale out your service plan’s resources by adding more VMs.</p>
<p>That’s all for now. Please give this course a rating, and if you have any questions or comments, please let us know. Thanks!</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/14/AZ-204-Knowledge-Check-Overview-of-Azure-Services-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/14/AZ-204-Knowledge-Check-Overview-of-Azure-Services-3/" class="post-title-link" itemprop="url">AZ-204-Knowledge-Check-Overview-of-Azure-Services-3</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-11-14 06:37:13 / Modified: 19:32:46" itemprop="dateCreated datePublished" datetime="2022-11-14T06:37:13-04:00">2022-11-14</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/14/AZ-204-Knowledge-Check-Overview-of-Azure-Services-3/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/14/AZ-204-Knowledge-Check-Overview-of-Azure-Services-3/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><object data="1.pdf" type="application/pdf" width="100%" height="600"></object></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/14/AZ-204-Overview-of-Azure-Services-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/14/AZ-204-Overview-of-Azure-Services-2/" class="post-title-link" itemprop="url">AZ-204-Overview-of-Azure-Services-2</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-11-14 06:36:42 / Modified: 23:21:18" itemprop="dateCreated datePublished" datetime="2022-11-14T06:36:42-04:00">2022-11-14</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/14/AZ-204-Overview-of-Azure-Services-2/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/14/AZ-204-Overview-of-Azure-Services-2/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Course-Introduction"><a href="#Course-Introduction" class="headerlink" title="Course Introduction"></a>Course Introduction</h1><p>Welcome to Overview of Azure Services. My name’s Guy Hummel and I’m a Microsoft-certified Azure Expert. If you have any questions, feel free to connect with me on LinkedIn and send me a message, or send an email to <a href="mailto:support@cloudacademy.com">support@cloudacademy.com</a>.</p>
<p>This course is an introduction to Microsoft Azure. It’ll give you a broad overview of the types of services available in Azure without going too deeply into any of them.</p>
<p>This course is intended for anyone who’d like to learn more about Azure, so you don’t need to have any experience with it before taking this course. It would be helpful to have some general technical knowledge though because I don’t explain basic terms like <em>file server</em> or <em>operating system</em>.</p>
<p>The best way to learn is by doing, so I recommend that you try performing these tasks yourself on your own Azure account. If you don’t already have one, then you can create a free trial account.</p>
<p>To save you the trouble of typing in the URLs and commands shown in this course, I’ve put them in a readme file in a GitHub repository. You can find a link to the repository at the bottom of the Overview tab below this video.</p>
<p>By the end of this course, you should be able to describe some of the Azure services available in various categories, use the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/overview-of-azure-services/using-azure-portal/">Azure Portal</a>, and use the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/overview-of-azure-services/using-azure-cli/">Azure command line</a>. We’d love to get your feedback on this course, so please give it a rating when you’re finished.</p>
<p>Now, if you’re ready to learn about what you can do with Microsoft Azure, then let’s get started.</p>
<h1 id="Azure-Overview"><a href="#Azure-Overview" class="headerlink" title="Azure Overview"></a>Azure Overview</h1><p>So what is <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/overview-of-azure-services/course-introduction/">Microsoft Azure</a>? To put it simply, it’s a collection of online services that organizations can use to build, host, and deliver applications. The best part is that you don’t need to have your own data center or even any servers because Azure runs in Microsoft’s data centers around the world, which your users can access over the internet.</p>
<p>Not only does this approach save you the trouble of having to build and maintain your own on-premises IT infrastructure, but it can also save you money because you only have to pay for what you use, and you can scale your Azure resources up and down as needed.</p>
<p>For most applications, you need three core elements: compute, storage, and networking. Let’s start with compute. In Azure’s early days, Microsoft offered only one type of compute service: virtual machines, or VMs for short. These are machines that run either Windows or Linux. If you currently have an application running on a Windows or Linux server, then the most straightforward way to migrate it to Azure is to do what’s called a “lift and shift” migration. That is, you simply lift the application from your on-premises server and shift it to a virtual server in the cloud. Azure VMs are known as Infrastructure-as-a-Service because they’re traditional IT infrastructure components that are offered as a service.</p>
<p>Later, Microsoft came out with what’s known as a Platform-as-a-Service offering called Azure App Service. This platform lets you host web and mobile applications without having to worry about the underlying infrastructure. After doing a minor amount of configuration, you can just upload your code to an App Service instance and let Azure take care of the details. In most cases, this is a better solution than using virtual machines, but there are times when it makes more sense to use VMs. For example, if you have an application that’s not a web or mobile app, then you can’t use App Service, so you’ll have to use a VM.</p>
<p>These days, the hottest compute technology is containers. These are self-contained software environments. For example, a container might include a complete application plus all of the third-party packages it needs. Containers are somewhat like virtual machines except they don’t include the operating system. This makes it easy to deploy them because they’re very lightweight compared to virtual machines. In fact, containers run on virtual machines.</p>
<p>Microsoft provides a variety of ways to run containers. The simplest way is to use Azure Container Instances. This service lets you run a container using a single command. If you have a more complex application that involves multiple containers, then you’ll probably want to use Azure Kubernetes Service, which is what’s known as a container orchestrator. It makes it easy to deploy and manage multi-container applications.</p>
<p>Before we move on, I should mention one more compute service. It’s called Azure Functions, and it’s Microsoft’s main “serverless” offering. Azure Functions is kind of like Azure App Service except that it executes individual functions rather than entire applications, and you only pay for it when it gets used. When you provision an App Service instance, it runs until you shut it down, and you pay for it the whole time it’s running. Although it’s possible to configure Azure Functions in the same way, it’s usually better to use the Consumption plan, which means that it only uses resources when a function is running, so you only pay when a function is running.</p>
<p>Okay, that was a lot of compute options. Now let’s move on to storage. Believe it or not, there are even more options for storage than for compute. That’s because I’m also including databases and other data stores in the storage category.</p>
<p>The simplest form of storage is called Blob storage. It’s referred to as object storage, but really it’s just a collection of files. It’s not like a normal file system, though, because it doesn’t have a hierarchical folder structure. It has a flat structure. It’s typically used for unstructured data, such as images, videos, and log files.</p>
<p>One of the great things about it is that it has multiple access tiers: hot, cool, and archive. The hot tier is for frequently accessed files. The cool tier is for files you expect to access only about once a month or less. The advantage is that it costs less than the hot tier as long as you don’t access it frequently. The archive tier is for files that are rarely accessed, such as backup files. It has the lowest storage costs but the highest retrieval costs. It also takes several hours to retrieve files from the archive tier.</p>
<p>If you need hierarchical file storage, there are a couple of options. The one that will probably seem more familiar is Azure File Storage, which is like a typical SMB file server. It serves up file shares that you can mount on Windows servers. The less familiar option is Azure Data Lake Storage Gen2. This is Hadoop-compatible storage for use with data analytics applications. </p>
<p>Okay, now how about relational databases? In an on-premises Microsoft environment, SQL Server is the most commonly used database. The cloud equivalent is Azure SQL Database. It’s very similar to SQL Server, although it’s not 100% compatible. If you need to run an open source database, then Microsoft still has you covered. It offers Azure Database for MySQL, MariaDB, and PostgreSQL.</p>
<p>All of these databases, including both SQL Database and the open source options, are suitable for online transaction processing. On the other hand, if you need to build a data warehouse, then Azure Synapse Analytics is the best choice.</p>
<p>If you release an application that attracts a very large number of users, you may find that a traditional relational database can’t scale to meet the demand. One common solution is to use a so-called NoSQL database. These databases are designed to handle far more data than relational databases. However, in order to achieve that massive scalability, they have to sacrifice something, so they don’t support all of the features of relational databases. Nonetheless, they have become a cornerstone of many cloud-based applications.</p>
<p>Microsoft’s main NoSQL offering is called Cosmos DB. It’s an amazing database service that can scale globally. Another NoSQL service is Azure Cache for Redis, which is typically used to speed up applications by caching frequently requested data.</p>
<p>That’s a lot of storage options, and I still didn’t cover them all, but you don’t need to know every single option at this point, so let’s move on to network services.</p>
<p>When you create a virtual machine on Azure, you have to put it in a virtual network, or VNet. A virtual network is very similar to an on-premises network. Each virtual machine in a VNet gets an IP address, and it can communicate with other VMs in the same VNet. You can also divide a VNet into subnets and define routes to specify how traffic should flow between them. </p>
<p>By default, all outbound traffic from a VM to the internet is allowed. If you also want to allow inbound traffic, then you need to assign a public IP address to the VM.</p>
<p>If you want VMs in one VNet to be able to communicate with VMs in another VNet, then you can connect the VNets together using VNet peering. By the way, so far, I’ve only been talking about virtual machines, but other resources, such as Kubernetes clusters, can be in VNets, too.</p>
<p>If you want to create a secure connection between a VNet and an on-premises network, then you can use either a VPN, which stands for Virtual Private Network, or Azure ExpressRoute. A VPN sends encrypted traffic over the public internet, whereas ExpressRoute communicates over a private, dedicated connection between your site and Microsoft’s Azure network. ExpressRoute is much more expensive than a VPN, but it provides higher speed and reliability since it’s a dedicated connection.</p>
<p>There are plenty of other network services available as well, but the ones I’ve covered are enough to give you a good high-level understanding of Azure networking.</p>
<p>Azure also provides a wide variety of other services outside of the core compute, storage, and networking categories, such as in hot areas like artificial intelligence and DevOps. I’ll go over some of those later.</p>
<p>The easiest way to understand how Azure works is to actually use it, so in the next lesson, we’ll create a virtual machine. If you’re ready, then go to the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/overview-of-azure-services/using-azure-portal/">next video</a>.</p>
<h1 id="Using-the-Azure-Portal"><a href="#Using-the-Azure-Portal" class="headerlink" title="Using the Azure Portal"></a>Using the Azure Portal</h1><p>Now we’re going to dive into using <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/overview-of-azure-services/course-introduction/">Azure</a>. Suppose you have a server application that you want to migrate to the cloud. As I mentioned earlier, the most straightforward way to do this is to move the application to a virtual machine on Azure.</p>
<p>There are many ways to interact with Azure, the Azure portal runs in a browser, so you don’t need to install anything to use it. Alternatively, you can install the CLI, which stands for command-line interface, or Azure PowerShell or the SDK, which stands for Software Development Kit.</p>
<p>If you want to use a command-based interface, and you have a lot of experience with PowerShell, then that’s probably your best bet. Otherwise, use the CLI, which is easier to learn than PowerShell. It’s actually possible to use the CLI and PowerShell from inside the browser too without having to install anything on your desktop. I’ll show you how to do that in the next lesson.</p>
<p>The SDK is what you need to use if you’re going to add code in your applications to interact with Azure.</p>
<p>It’s even possible to interact with Azure from a mobile device by using the Azure mobile app. You can even use the CLI and PowerShell from the mobile app.</p>
<p>The easiest way to get started, though, is to use the Azure portal. So if you’re following along on your own account, go to portal.azure.com. There are a few different ways to get to the place where you can create a VM. In this search box, you can start typing virtual machine and you’ll see it come up at the top of the search results.</p>
<p>Another way is to go into the menu on the left and select virtual machines. It takes you to the same place. Once you’re here, you can click Add.</p>
<p>The first thing it wants to know is what subscription to put this VM in. It always sets this to your default subscription, so you can usually just leave it that way. But I should explain what a subscription is.</p>
<p>When you sign up for an Azure account, Microsoft creates both a billing account and a subscription. It’s easy to get the two mixed up because they’re both involved in billing. A <em>billing account</em> is an agreement you or your organization sign to use Microsoft services. A <em>subscription</em> is actually just a collection of Azure resources. But all of the resources in a subscription are on the same monthly bill, so it’s also a unit of billing.</p>
<p>So why do you need to have both a billing account and a subscription? Well, you might want to have multiple subscriptions in your billing account. Since each subscription generates a separate invoice, it can be useful to have a separate subscription for each department in your organization. Also, since the resources in different subscriptions are isolated from each other, you might want to have multiple subscriptions for security or compliance reasons.</p>
<p>Okay, so we’ll leave the subscription with the default. Next, it’s asking for the resource group. Like a subscription, a resource group is a collection of resources, but a subscription can have multiple resource groups so it’s a way of further grouping the resources within a subscription.</p>
<p>There are a variety of ways to divide resources into resource groups. But the best practice is to group related resources together, such as a VM and its associated storage account. Generally speaking, the resources in a group should be created and deleted at the same time, which makes sense if they’re components that work together to provide a solution.</p>
<p>All right, so let’s create a new resource group to hold this VM. I’ll call it example-RG. Now we need to give the VM a name. I’ll call it example-VM. Next we need to decide which region the VM should run in.</p>
<p>Microsoft has data centers on every continent except Antarctica. Each of these dots is a region, and each region contains multiple Azure data centers. You usually want to choose a region that’s closest to where your users are located. I’ll choose West US 2. Notice that it has a diamond in it. That’s because it has availability zones. I’ll explain what those are in a minute.</p>
<p>You need to set an availability option if you want to make sure your application will still be available, even if Azure experiences an outage that affects this VM. The first option is “Availability zone”, which is what I just showed you on the map. A region that supports availability zones has at least three data centers, each of which is called a zone. If you put VMs in multiple zones, then a data center outage won’t take down your application, because your VMs and other zones will still be running.</p>
<p>It added another field called “Availability zone”. We can choose 1, 2, or 3. It doesn’t really matter which one we choose for this VM, but if we were to create a second VM, we’d need to put it in a different availability zone. I’ll choose “1”. </p>
<p>Next, we need to choose a VM image. This is a copy of the disk that will be used for the VM. The choices are different versions of Linux and Windows, such as Ubuntu, Red Hat, and Windows Server. This is only a small subset of the images that are available. You can click on this link to see more. For example, suppose you want an image that includes not only Windows Server but also SQL Server, click on Databases and then type “sql server”. Surprisingly, there are images of SQL Server on Linux first. I’ll add windows to the search to narrow it down. There we go. There are lots of SQL Server image options. For this example, we’ll just go back and pick one of the basic options though. I’ll pick the Ubuntu server option.</p>
<p>If you use an Azure spot instance for this VM, then the cost will be dramatically lower, but the VM might be shut down with only 30 seconds’ notice. So you should only use this option for non-critical workloads.</p>
<p>There are lots of options for the size of the VM. At the top of the list, there’s a size with only one virtual CPU, half a gig of memory, and four gigs of temporary storage. You can see that the cost per month is very low. Some of these other options are much bigger, but so is the cost. Since we’re not actually going to use this VM, I’ll choose the cheapest option.</p>
<p>Here, we need to create the administrator account. In most cases, you should use an SSH public key for authenticating to the VM. But to keep it simple for this demo, I’ll use a password. You can name your administrator account almost anything.</p>
<p>The inbound port rules let you open up the VM to access from the internet. If this VM will be acting as a web server, then you’ll want to open up ports 80 and 443. There’s also an option to open up the SSH port so you can log into the VM remotely. The problem with opening up the SSH port here is that it will allow access from all internet addresses, which is dangerous. There are other more secure ways to give yourself access to the VM. So you shouldn’t select this unless you’re just doing some testing. I’m going to set this to “None”.</p>
<p>That’s it for the basic settings, but there are a few more settings we should have a look at. We’ll click this button to go to the disks tab. The operating system disk is set to premium SSD by default. That option has the highest performance, but it’s much more expensive than the other two. I’ll set it to Standard SSD. You can also add data disks if you want.</p>
<p>And now let’s have a look at the networking options. By default, it creates a virtual network, a subnet inside that virtual network, and a public IP address. If we already had another virtual network, we could put it in there instead if we wanted to.</p>
<p>Okay, that takes care of the compute, storage, and networking options for this VM. So let’s create it. First, click “Review + Create”. It says that our settings have passed validation testing. Then it summarizes all of our settings. Now click the Create button.</p>
<p>It’ll take a little while to create, so I’ll fast forward. All right, it’s done. We can click on “Go to resource” to have a look at the VM. </p>
<p>Here it shows the details of this VM, such as its status, and its public IP address. Up here it has some controls that let you stop and restart the VM or even delete it. If we had set up SSH authentication, then we could connect to it from here too. In the menu on the left, there are all kinds of options for things like activity logs, security, backups, and monitoring.</p>
<p>That’s it for this demo, you should have a pretty good idea of how to create resources in the portal now, because the process is fairly similar, regardless of what kind of Azure resources you’re creating. If you’re following along on your own Azure account, you might want to look around and see what you can do with your new VM.</p>
<p>When you’re done, make sure you delete the VM so you don’t incur any ongoing charges. The best way to delete everything associated with the VM, including the public IP address, etc., is to delete its resource group. Select Resource groups in this menu, and then click on “example-rg”. Here’s a list of all the resources associated with the VM. Now click “Delete resource group”. Then type the name of the resource group. Then click the Delete button.</p>
<p>Now if you’re ready to see how to work with Azure using the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/overview-of-azure-services/using-azure-cli/"><em>command-line interface</em></a>, then please go to the next video.</p>
<h1 id="Using-the-Azure-CLI"><a href="#Using-the-Azure-CLI" class="headerlink" title="Using the Azure CLI"></a>Using the Azure CLI</h1><p>As you saw in the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/overview-of-azure-services/using-azure-portal/">last demo</a>, it’s pretty easy to use the portal to create Azure resources but it’s definitely not the most efficient way to do it because it requires a lot of pointing and clicking. An alternative is to use the command line. Although it can be more difficult since you have to know the exact names of all the command line options. Once you’ve mastered it, you can often create and manage resources much more quickly.</p>
<p>In this demo, I’m going to show you how to create a website using Azure App Service. Do you remember when I said that it’s possible to use the command line without having to install anything on your desktop? Well, now that you’re familiar with the portal, I’ll show you how.</p>
<p>You see this icon to the right of the search bar? That’s how you start something called the Cloud Shell. It’s a very small virtual machine that you can use to run Azure commands. Click on it.</p>
<p>The first time you run Cloud Shell, it’ll ask you for permission to create a storage account that the Cloud Shell VM can use. This isn’t the first time I’ve used Cloud Shell, so my storage account is already set up. If you do get a dialogue box asking for permission, then click the option to create a storage account.</p>
<p>Cloud Shell supports both PowerShell and the Bash shell. You can switch between them using this menu. We’re going to use the Bash Shell because the commands are simpler. If you’re familiar with Linux commands, then it will be especially easy.</p>
<p>First, we need to download the files for a sample website. The command to do that is pretty long, so it’s easiest to copy and paste it. You can get it from the read me file in the GitHub repository for <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/overview-of-azure-services/course-introduction/">this course</a>. You can find a link to the repository at the bottom of the overview tab below this video.</p>
<p>Okay, copy this <code>git clone</code> command and paste it into the Cloud Shell window. It created a directory (which is the Linux term for folder) called html-docs-hello-world. Change into that directory with the <code>cd</code> command. I’m just going to use keyboard shortcuts to do the copying and pasting now. Now we can create an Azure App Service Web App using one command. Here it is.</p>
<p>It starts with <code>az</code> which means it’s an Azure command. Then we say <code>webapp</code> which is the command for Azure App Service. Then <code>up</code> which means to create the web app using the code in the current directory. Then we say <code>--location</code> and the name of the region where we want to deploy the web app. I’ve set it to <code>westus</code>. Then we say <code>--name</code> and what we want to call the app. I’m calling it <code>ca-example,</code> but you’ll have to call it something else because the name has to be unique among all of the out service names across all Azure customers. Then we say <code>--html</code> to tell it that we’re creating a static HTML website. Now hit Enter.</p>
<p>That’s all you have to do to create a website running on Azure App Service. It’ll take a little while to deploy so I’ll fast forward.</p>
<p>Okay, it’s done. Now we can make sure the website is working by going to this URL. Remember to change this name to the one you used. Great, there’s the sample website.</p>
<p>All right, now let’s delete the web app, so we don’t incur any more charges. In the VM demo, we deleted everything associated with the VM by deleting its resource group. We can do the same thing here but since we didn’t specify a resource group name in the command, how do we do that? App Service created a resource group for us. You’ll see it in the output from the command. Type <code>az group delete --name</code> then copy and paste the resource group name from here. Type “y”.</p>
<p>While that’s getting deleted, I should mention that there are many ways to deploy a web app. For example, both Visual Studio and Visual Studio Code can publish an app directly to Azure App Service without you needing to use the Azure portal or the command line. Once the app is deployed, though, you’ll need to use the portal or the CLI to manage it.</p>
<p>And that’s it for using the CLI.</p>
<h1 id="Service-Categories"><a href="#Service-Categories" class="headerlink" title="Service Categories"></a>Service Categories</h1><p>So far, I’ve only talked about compute, storage, and networking services, but Microsoft offers services in many other categories as well. I won’t talk about all of the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/overview-of-azure-services/course-introduction/">Azure services</a> available, but I’ll go over some of the highlights.</p>
<p>If your organization is just getting started with Azure, then one of the first things you’ll want to do is figure out how you can migrate at least some of your existing applications to Azure. Microsoft provides a great tool for this called Azure Migrate.</p>
<p>First, it discovers your on-premises servers, both physical and virtual. On the virtual side, this includes both Hyper-V and VMware. Then it assesses these machines. For each one, it tells you whether or not it’s ready to migrate, how big the Azure VM will be, how much it will cost, and any dependent servers that will also need to be migrated. When you’re ready, it will even help you do the migration. Azure Migrate is also integrated with other tools to help you migrate SQL Server databases, web apps, and data. Also, if you have a virtual desktop infrastructure, there’s a tool that will do an assessment to help you migrate it to Windows Virtual Desktop, which is hosted on Azure.</p>
<p>Another question that always comes up is, “How do we integrate our on-premises identities with Azure?” In most cases, organizations are using Active Directory for identity management. Naturally, Microsoft has a good solution for these customers. And, not surprisingly, it’s called Azure Active Directory. This is a managed identity service that takes care of authentication. It’s not exactly the same as Active Directory, but it’s very similar, and there are many options for synchronizing your on-premises directory with your Azure directory.</p>
<p>Let’s move on to the development area. The DevOps approach has spread rapidly in organizations around the world. If you’re not familiar with it, the idea is that you can automate large portions of the building, testing, and releasing of application updates. Microsoft offers a suite of services called Azure DevOps to help you implement these processes. The most important service in this suite is called Azure Pipelines. It lets you create automated workflows to continuously build, test, and deploy code.</p>
<p>Another service that helps with the development process is Azure DevTest Labs, which makes it easy to spin up non-production environments. You could do this in other ways, but DevTest Labs gives you some extra capabilities, such as allowing administrators to control costs by setting limits on how many VMs can be deployed at once and ensuring that VMs are shut down when they’re not in use.</p>
<p>One really helpful service for speeding up the responsiveness of your applications is Azure Content Delivery Network, which lets you take advantage of Microsoft’s extensive global network. It caches your most frequently accessed content in locations around the world so your end-users will retrieve it from the closest point on the network. This really helps with making your web applications feel more like local applications.</p>
<p>Although there are billions of computers connected to the internet, they’re dwarfed by the number of other devices connected to the internet, such as smart thermostats or power meters. This is often referred to as the Internet of Things or IoT.</p>
<p>Microsoft offers a suite of services to help organizations connect, monitor, and control IoT devices. The simplest way to get started is to use Azure IoT Central, which is a fully managed SaaS solution that takes care of the technical details for you. It lets you create IoT applications without writing any code.</p>
<p>If you need something more customized, then you can integrate your applications with Azure IoT Hub. It’s a service that handles secure communications with thousands, or even millions, of IoT devices. In fact, it’s the service that IoT Central uses behind the scenes.</p>
<p>Microsoft also offers a solution called Azure Sphere to make your IoT devices more secure. It includes certified chips, the Azure Sphere operating system, and the Azure Sphere Security Service, all of which provide layers of protection for your IoT devices.</p>
<p>When you have a large volume of data coming in, whether it’s from IoT devices or applications, you’ll probably want to perform analytics on it. Microsoft’s analytics offerings have evolved over time, which is why you’ll see a variety of services in this area.</p>
<p>The oldest one is HDInsight. It supports a wide variety of open-source big data frameworks, including Hadoop, Spark, Hive, Storm, and many others. Azure Databricks is a similar service because it runs Spark as well, but it’s more user-friendly and easier to manage than HDInsight. Azure Synapse Analytics is the new version of Azure SQL Data Warehouse. It includes all of the old data warehouse functionality, but it also supports Spark analytics. Have you noticed a common theme? Apache Spark seems to be the king of big data analytics, and it’s just a question of which service you want to use to run it.</p>
<p>A more sophisticated type of analytics is artificial intelligence. You’ve probably heard about the amazing advances in AI that have enabled computers to do everything from language translation to facial recognition to beating humans at games like chess and Go.</p>
<p>Even though AI seems like it must be incredibly complex, the basic idea is fairly simple. The most common method is called machine learning. The way it works is you feed lots of real-world data into a program and the program tries to make generalizations about the data. This is known as training a model. It then uses these generalizations to make predictions when it’s given new data. For example, it can analyze the viewing habits of millions of Netflix customers and make generalizations about the kinds of movies that different types of people like to watch. Then it can look at movies you’ve watched in the past and predict which movie you’d like to watch now. That’s how Netflix makes its recommendations.</p>
<p>Microsoft offers lots of different AI services. If you’re new to AI, then the best place to start is Azure Cognitive Services. This is a collection of pre-built artificial intelligence tools. These services let you add AI capabilities to applications even if you don’t know anything about machine learning.</p>
<p>They’re grouped into five categories: decision, language, speech, vision, and web search. For example, the vision category includes the Computer Vision API, which can classify images, and the Face API, which can detect faces in images.</p>
<p>A related offering is Azure Bot Service, which gives you the tools to create a chatbot. This is an intelligent agent that can answer questions. For example, you could create a chatbot to handle simple support requests from customers.</p>
<p>If you have some basic knowledge of machine learning, then you might want to try Azure Machine Learning Studio. It lets you train and deploy machine learning models without any coding, using a drag-and-drop interface. I highly recommend it for learning the basics of machine learning.</p>
<p>A much more sophisticated option is Azure Machine Learning Services, which gives you full control over every stage of the machine learning process. You can use any Python-based machine learning framework, such as TensorFlow or PyTorch, train models using services such as Azure Databricks, and deploy models using services such as Azure Kubernetes Service. Azure Machine Learning Services is usually the best solution when you need to build your own custom artificial intelligence application.</p>
<p>The last category I’ll mention is integration tools. Since we use so many applications and services, it would be nice to be able to perform certain tasks on them automatically. For example, suppose you have an Azure blob container that your customer uploads documents to, and you’d like to be notified by email as soon as one arrives so that you can respond to it as quickly as possible. Microsoft offers a service called Azure Logic Apps that lets you automate this sort of task without writing any code. You can create a logic app using a drag-and-drop interface. </p>
<p>In this example, the logic app would be able to detect events that occur in Blob storage, but in most cases, you’d need to use another service called Azure Event Grid to notify your logic app of particular events. For example, if you want to get an email every time a virtual machine is created in a subscription, then you would configure Event Grid to send a message to your logic app whenever this occurs.</p>
<p>These examples are actually pretty trivial. Azure Logic Apps can be used to build complex workflows involving not only Azure services but also third-party services, such as Twitter and Dropbox.</p>
<p>I’ve covered some of the most important Azure services, but there are many more that I didn’t cover. So if you have a need that doesn’t seem to fit with any of these services, there are plenty of other options. First, you can look through Microsoft’s Azure Products page. Another way is to select all services from the main menu in the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/overview-of-azure-services/using-azure-portal/">Azure Portal</a> and then search for what you need. If you still can’t find what you’re looking for, then you can search the Azure Marketplace from the search bar at the top of the portal. The Marketplace includes a wide variety of third-party solutions that work with Azure, such as Docker Enterprise or Barracuda Firewall.</p>
<p>Okay, that’s it for my services overview.</p>
<h1 id="Designing-a-Solution"><a href="#Designing-a-Solution" class="headerlink" title="Designing a Solution"></a>Designing a Solution</h1><p>Now that we have a good idea of what <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/overview-of-azure-services/course-introduction/">services are available in Azure</a>, let’s see how we can put them together to create a more complex solution. One of the best ways to get started is to look at the examples in the Azure Architecture Center. If you click on reference architectures, you’ll see some recommended architectures for particular types of solutions. You can also check out these example workloads for specific business and technical challenges. I’m going to walk you through this e-commerce example.</p>
<p>The scenario in this example is that we need to build an Azure-based solution for customers who want to buy concert tickets. The diagram they use is a bit confusing, so we’ll use our own. </p>
<p>The first service we need to use is Azure App Service because it’s the easiest way to host a web app. To buy concert tickets, our customers will connect to our website, which will be hosted on Azure App Service.</p>
<p>The website won’t be able to do very much, though, until we add more services. For example, it would be pretty difficult to have a continually updated list of concerts without using a database. We could connect our website to a variety of databases, such as MySQL or Cosmos DB. But the most obvious choice is to use Azure SQL database. We can store concert information there and then have a list of upcoming concerts appear on the website.</p>
<p>If we’re going to have a lot of concerts to choose from, then we should also allow customers to search for specific concerts. Azure Cognitive Search is a good choice for that. It indexes your content so it can provide quick responses to search queries.</p>
<p>Next, we’ll want to give customers the ability to purchase tickets. This example solution for Microsoft doesn’t include the actual payment handling part of the transaction, but it does include a couple of the important pieces. First, we’ll want to give customers the option to create an account so they don’t have to re-enter their information every time they use our app to purchase tickets. The good solution is to use Azure Active Directory, B2C. The B2C stands for business to consumer. It provides everything you need to handle authentication for people outside of your organization.</p>
<p>When we receive custom orders, we should put them in a queue. Then we can have a separate component that pulls orders from the queue and processes them. This is one of the best ways to pass data from one component to another because it makes applications more reliable and scalable. Even if a component goes down, the data will be buffered in the queue until that component comes back up. Microsoft has a special type of storage to handle this need, and it’s called, not surprisingly, Queue Storage. It scales up and down as needed.</p>
<p>To retrieve orders from the queue and process them, we can use an Azure Function. The function will be triggered automatically whenever a new item is added to the queue. The function then creates a printable concert ticket for the customer. When it’s done, it stores the ticket in Blob Storage, which is the perfect place for image files. The ticket will then be sent to the customer, although that’s not shown in this example app.</p>
<p>Okay, now we have a complete solution (other than the couple of missing pieces that I mentioned), but we can add more functionality to our app. Another feature we can add is to allow people to post a review after they’ve seen a concert.</p>
<p>This can be handled in a similar way to the order processing feature. We’ll add new concert reviews to another queue and have an Azure Function that retrieves those concert reviews from the queue. And then it will store the reviews in SQL Database so they can be displayed on the website.</p>
<p>All right, now we have all the functionality we need, but we can add some more services to make our app better.</p>
<p>First, we can add Azure Cache for Redis and use it to cache concert information. This will make searches faster when customers are looking for concerts.</p>
<p>Another important way to make our app faster is to use the Azure Content Delivery Network. It’ll cache our website static files, so they’ll come up faster when customers access our site. </p>
<p>Yet another way to improve responsiveness is to use a service called Azure Traffic Manager. If we create multiple copies of our web app and host them in different regions around the world, then we can configure traffic manager to serve each customer from the web app instance that’s closest to the customer on the internet. So now not only do they get the static website files from the closest point on the content delivery network, but they also interact with the web app using the nearest instance.</p>
<p>To ensure that our app is functioning properly, we can use the application insight service. It takes care of monitoring the app and alerting us if there are issues. It also provides us with analytics to help diagnose issues and to understand how users are interacting with our app.</p>
<p>Finally, if we want to automatically classify concert reviews as positive or negative, we can use the Text Analytics component of cognitive services. We’ll have an Azure Function that runs a sentiment analysis on each concert review and then updates the concert review in the database to show whether it’s positive or negative.</p>
<p>That’s a lot of services for one application. So how much will everything cost? Thankfully, Microsoft provides sample pricing on the solution example page. It even has options for small, medium, and large implementations, depending on how much customer traffic we think we’ll get. Let’s try the medium option, which can handle up to 100,000 users per month.</p>
<p>This brings up the pricing calculator, which is a really handy feature for estimating the price of nearly any Azure service. I’m going to click the “Collapse all button” so we can see a summary of all the costs. The total is up here. It’s around $900 per month for everything.</p>
<p>If you look through the breakdown of the price, you might be surprised to see that app service is not the number one cost on this list. Considering that it hosts the core application, it seems like it should have the highest cost. But actually Azure Active Directory, B2C, and Azure Cognitive Search are higher. That’s a bit misleading, though, because this pricing example only includes app service hosting in one region. If we want to host the app in multiple regions and use traffic manager to make it more responsive for users around the world, then we’ll pay at least this much for each region, which would easily make app service the most expensive component.</p>
<p>And that’s it for designing a solution.</p>
<h1 id="Managing-Services"><a href="#Managing-Services" class="headerlink" title="Managing Services"></a>Managing Services</h1><p><a target="_blank" rel="noopener" href="https://cloudacademy.com/course/overview-of-azure-services/designing-solution/">Building a solution</a> is one thing, but making sure it continues to run properly and cost-efficiently is another. And, of course, you also need to make sure everything is secure and compliant. Fortunately, Microsoft has lots of services to help you with these tasks, too.</p>
<p>Azure Monitor is your one-stop shop for keeping track of what’s happening with your Azure resources. It’s a collection of a variety of monitoring tools. Remember when I mentioned Application Insights in the last lesson? That’s actually just one component of Azure Monitor. Another is Log Analytics, which lets you run complex queries on multiple logs collected from your Azure resources.</p>
<p>But the core features of Azure Monitor are metrics and alerts. Metrics are basically statistics on various aspects of your resources, such as CPU usage on virtual machines and space used on Blob Storage. Azure Monitor creates graphs showing how these metrics have changed over time. It can also watch critical metrics you specify and send you an alert if there’s a problem. For example, it could text you if a database is overwhelmed by a sudden spike in activity.</p>
<p>Microsoft also provides a dashboard called Service Health where you can find out about problems with the Azure platform itself as well as upcoming maintenance events. You can even create alerts so you’ll be notified of both planned and unplanned outages.</p>
<p>Speaking of outages, it’s always a good idea to have backups of your critical resources to help recover from service failures. Most Azure services, such as Cosmos DB, have their own built-in backup capabilities. Azure VMs are a little different because you back them up using a service called Azure Backup. Surprisingly, you can even use this service to back up your on-premises systems.</p>
<p>Even if you’re doing a good job of maintaining your Azure systems, you might still be able to make some improvements. Microsoft provides a very helpful service called Azure Advisor that will not only suggest ways to improve the performance and availability of your applications, but it will even suggest ways to reduce your costs. For example, if it finds underutilized virtual machines, it will recommend that you use smaller (and less expensive) VMs to perform the same tasks.</p>
<p>Azure Advisor also provides security recommendations. It actually gets these recommendations from an important service called Microsoft Defender for Cloud, which was formerly known as Azure Security Center. So if you want to get more details, that’s the place to go. It’s a dashboard that gathers security information from resources across your subscriptions and assesses your vulnerabilities.</p>
<p>First, it shows you your secure score, which is an assessment of how secure your Azure resources are. You can click on it to see a list of recommendations to improve the security of your compute, storage, networking, and identity resources. Each recommendation shows you how much your secure score would be improved if you were to implement the recommendation. You don’t have to implement these recommendations, but it’s usually a good idea.</p>
<p>Then it shows you how well the resources in your Azure subscriptions meet regulatory compliance standards. By default, it will measure your compliance with a set of policies called the Azure Security Benchmark. You can customize these default policies if you want, or you can create your own custom policies from scratch in a service called, naturally, Azure Policy. For example, you could create a policy saying that all storage resources must reside in the European Union, and then if someone in your organization created a storage resource outside of the EU, it would show up in this compliance panel. You can also add other regulatory compliance standards, such as ISO 27001.</p>
<p>Finally, the Workloads protection panel shows you how many security alerts you have. These are potential threats that were detected by Microsoft Threat Intelligence. You can click on it to see the actual alerts so you can address them.</p>
<p>Be aware that only secure score and its recommendations are free. To get the other features, you need to enable enhanced security. This’ll give you lots of additional features as well. One really important feature is the ability to add your on-premises environments to the set of resources that are protected. Another enhanced feature is called just-in-time VM access. This blocks access to a virtual machine until an administrator allows specific users or IP addresses to get in for a limited period of time.</p>
<p>So far in <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/overview-of-azure-services/course-introduction/">this course</a>, I’ve only talked about creating Azure resources manually, but once you’re happy with a particular configuration for a resource, such as a virtual machine, you’ll probably want to create nearly identical resources in a more automated way. The solution is something called an ARM template. ARM is short for Azure Resource Manager.</p>
<p>First, you create an ARM template that specifies all of the configuration details for one or more resources. For example, suppose you create an ARM template for a specific VM configuration. Then, whenever you need to create a VM with those characteristics, you can just run a certain command using that template, and voila, it takes care of all of the details for you. The best part is that Microsoft makes it really easy to create an ARM template. All you have to do is go to an existing resource that has the configuration you want and select “Export template” from the menu.</p>
<p>An even more powerful tool is Azure Blueprints, which lets you automate the deployment of entire Azure environments. A blueprint is a collection of ARM templates plus a few other details, such as policies and user permissions. When a blueprint is assigned to a subscription, it not only automates the creation of an environment, but it also keeps a record of the deployment. This makes it a critical governance tool because it enables the tracking and auditing of deployments.</p>
<p>We’ve covered a lot of Azure management tools, and that’s not even all of them. You can rest assured that Microsoft has the services you need to manage your Azure infrastructure.</p>
<h1 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h1><p>I hope you enjoyed <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/overview-of-azure-services/course-introduction/">learning about Azure</a>. Let’s do a quick review of what you learned.</p>
<p>Azure is a collection of online services that organizations can use to build, host, and deliver applications, and it runs in Microsoft’s data centers around the world.</p>
<p>Azure’s primary compute offerings are virtual machines, App Service, Azure Kubernetes Service, and Azure Functions.</p>
<p>In the raw storage area, Microsoft provides Blob storage for unstructured objects, File Storage for traditional file sharing, and Data Lake Storage Gen2 for Hadoop-compatible data analytics.</p>
<p>Azure’s relational database offerings are SQL Database, which is similar to SQL Server, and Azure Database for MySQL, MariaDB, and PostgreSQL for people who need those particular open source alternatives.</p>
<p>Microsoft’s main NoSQL offering is Cosmos DB. Another NoSQL service is Azure Cache for Redis, which is typically used to speed up applications by caching frequently requested data. </p>
<p>Azure’s equivalent of an on-premises network is a virtual network, or Vnet. You can connect VNets together using VNet peering. To create a secure connection between a VNet and an on-premises network, you can either use a VPN, which stands for Virtual Private Network, or Azure ExpressRoute, which is a dedicated, private connection.</p>
<p>Azure Migrate will help you move applications from your on-premises environment to Azure.</p>
<p>Azure Active Directory is a managed identity service that takes care of authentication and integrates with on-premises Active Directory servers.</p>
<p>Azure DevOps can help you automate large portions of the building, testing, and releasing of application updates. Azure DevTest Labs makes it easy to spin up non-production environments.</p>
<p>Azure Content Delivery Network caches your most frequently accessed content in locations around the world so your end-users will retrieve it from the closest point on the network.</p>
<p>Azure IoT Central lets you create Internet of Things applications without writing any code. If you need something more customized, then you can integrate your applications with Azure IoT Hub. Azure Sphere provides extra layers of protection for your IoT devices.</p>
<p>Some of Microsoft’s data analytics services include Azure Databricks, Azure Synapse Analytics, and HDInsight. All of these services can run Apache Spark.</p>
<p>Azure Cognitive Services is a collection of pre-built artificial intelligence tools. Azure Bot Service is a framework for creating chatbots. Azure Machine Learning Studio lets you train and deploy machine learning models without any coding. Azure Machine Learning Services is more sophisticated and gives you full control over every stage of the machine learning process. </p>
<p>Azure Logic Apps lets you automate integration tasks using a drag-and-drop interface.</p>
<p>Azure Monitor is a centralized place for keeping track of what’s happening with your Azure resources. Azure Security Center is a dashboard that gathers security information from your resources and assesses your vulnerabilities.</p>
<p>You can automate your deployments using Azure Resource Manager templates and Azure Blueprints.</p>
<p>You can access Azure using the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/overview-of-azure-services/using-azure-portal/">Azure Portal</a>, the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/overview-of-azure-services/using-azure-cli/">command-line interface</a>, PowerShell, the Azure Software Development Kit, or the Azure Mobile App. You can run CLI or PowerShell commands in a browser by using Cloud Shell in the Azure Portal.</p>
<p>When you sign up for an Azure account, Microsoft creates both a billing account and a subscription. A billing account can contain multiple subscriptions, each of which contains its own isolated set of resources. Within a subscription, each resource is part of a resource group.</p>
<p>Azure has many regions around the world, and each region contains multiple data centers. You can provide high availability by distributing virtual machines across availability zones, which are in separate data centers.</p>
<p>Whew! I think that’s by far the most times I’ve said the word Azure in one video. Okay, now I’m going to say it just a few more times.</p>
<p>To learn more about Azure, please look through our Azure Library. We have courses, labs, and practice exams on nearly every Azure topic, and we have more content coming out all the time.</p>
<p>Please give this course a rating, and if you have any questions or comments, please let us know. Thanks and have fun with Microsoft Azure!</p>
<h2 id="1Course-Introduction"><a href="#1Course-Introduction" class="headerlink" title="1Course Introduction"></a>1<strong>Course Introduction</strong></h2><p><a target="_blank" rel="noopener" href="https://github.com/cloudacademy/azure-overview">Course GitHub repo</a></p>
<h2 id="4Using-the-Azure-CLI"><a href="#4Using-the-Azure-CLI" class="headerlink" title="4Using the Azure CLI"></a>4<strong>Using the Azure CLI</strong></h2><p><a target="_blank" rel="noopener" href="https://github.com/cloudacademy/azure-overview">Course GitHub repo</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/13/AZ-140-Cert-Prep-Configuring-and-Operating-Microsoft-Azure-Virtual-Desktop-AZ-140-26/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/13/AZ-140-Cert-Prep-Configuring-and-Operating-Microsoft-Azure-Virtual-Desktop-AZ-140-26/" class="post-title-link" itemprop="url">AZ-140-Cert-Prep-Configuring-and-Operating-Microsoft-Azure-Virtual-Desktop-AZ-140-26</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-11-13 19:14:31 / Modified: 20:01:24" itemprop="dateCreated datePublished" datetime="2022-11-13T19:14:31-04:00">2022-11-13</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/13/AZ-140-Cert-Prep-Configuring-and-Operating-Microsoft-Azure-Virtual-Desktop-AZ-140-26/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/13/AZ-140-Cert-Prep-Configuring-and-Operating-Microsoft-Azure-Virtual-Desktop-AZ-140-26/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><object data="9.pdf" type="application/pdf" width="100%" height="600"></object></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/133/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/133/">133</a><span class="page-number current">134</span><a class="page-number" href="/page/135/">135</a><span class="space">&hellip;</span><a class="page-number" href="/page/266/">266</a><a class="extend next" rel="next" href="/page/135/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Hang Zhang"
      src="/images/123456.gif">
  <p class="site-author-name" itemprop="name">Hang Zhang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">2653</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/zh375636" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zh375636" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:hang.zhang.network@gmail.com" title="E-Mail → mailto:hang.zhang.network@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hang Zhang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>



// 在最后添加
<script src="/js/code-unfold.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : '40GUvOAaitQh1SZe7ua9cvss-MdYXbMMI',
      appKey     : 'iUO2yON0j55WMdu59zx12dCG',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
