<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Hang&#39;s Blog">
<meta property="og:url" content="https://example.com/page/67/index.html">
<meta property="og:site_name" content="Hang&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Hang Zhang">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://example.com/page/67/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Hang's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hang's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/18/AZ-900-Zero-Trust-and-Defense-in-Depth-on-Azure-15/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/18/AZ-900-Zero-Trust-and-Defense-in-Depth-on-Azure-15/" class="post-title-link" itemprop="url">AZ-900-Zero-Trust-and-Defense-in-Depth-on-Azure-15</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-18 20:29:41" itemprop="dateCreated datePublished" datetime="2022-11-18T20:29:41-04:00">2022-11-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-20 00:29:36" itemprop="dateModified" datetime="2022-11-20T00:29:36-04:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AZ-900/" itemprop="url" rel="index"><span itemprop="name">AZ-900</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/18/AZ-900-Zero-Trust-and-Defense-in-Depth-on-Azure-15/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/18/AZ-900-Zero-Trust-and-Defense-in-Depth-on-Azure-15/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <span id="more"></span>

<h1 id="Zero-Trust"><a href="#Zero-Trust" class="headerlink" title="Zero Trust"></a>Zero Trust</h1><p>Welcome to “Zero Trust and Defense in Depth on Azure”. I’m Guy Hummel. To get the most from this course, you should already have some knowledge of Azure’s security services. If you don’t, then you can take our “Overview of Azure Active Directory” and “A Quick Introduction to Role-Based Access Control on Azure”.</p>
<p>In the past, many organizations focused their security efforts on keeping hackers out of their networks by relying on firewalls and other security systems on the perimeter of their networks. Users and devices that were inside the perimeter were treated with a certain level of trust because they were assumed to be legitimate.</p>
<p>This approach is flawed because if a hacker manages to get past your perimeter security, they can do a lot of damage. Even if you manage to keep hackers out, you’ll still face a threat from employees who act in bad faith.</p>
<p>A better approach is called “zero trust”, which means you don’t trust anyone, regardless of whether they’re inside or outside your perimeter. There are different principles you could use for designing and implementing a zero-trust architecture, but here are the ones that Microsoft uses:</p>
<ul>
<li>Verify explicitly</li>
<li>Use “least privilege” access, and</li>
<li>Assume breach</li>
</ul>
<p>What they mean by “verify explicitly” is to verify a user’s identity and access permissions based on all relevant data points. For example, rather than just relying on a user entering the right user ID and password, you should also enforce conditional access based on the user’s device and location. You should also take into account the user’s behavior before granting access by using a tool such as Identity Protection. And you should take extra precautions before granting administrator access by using services such as Privileged Identity Management.</p>
<p>Next, the principle of least privilege says that you should only grant the bare minimum level of access that’s needed for a particular task. For example, if a user or application needs access to an Azure SQL Database instance, they should be granted the SQL DB Contributor role rather than the more general Contributor role, and they should be granted that role only for that specific database instance rather than assigning that role at the resource group, subscription, or management group level. </p>
<p>Once again, you should be very careful when granting administrator access. One way to limit the risk is to use just-in-time access, which is a feature of Privileged Identity Management.</p>
<p>Finally, the phrase “assume breach” sounds kind of weird, but what it means is: assume that your network and&#x2F;or your identities have been breached (that is, compromised). If you make this assumption, then you’ll design your architecture in such a way that it will limit the damage caused by an attack on your infrastructure. This is known as minimizing the blast radius.</p>
<p>The idea is that access is controlled for each element of your infrastructure, so just because an attacker has access to one element, it doesn’t mean they’ll have access to other elements. You can also use other methods to make it more difficult for attackers, such as running threat detection services and ensuring that all of your network traffic is encrypted.</p>
<p>And that’s it for zero trust.</p>
<h1 id="Defense-in-Depth"><a href="#Defense-in-Depth" class="headerlink" title="Defense in Depth"></a>Defense in Depth</h1><p>If you adopt a zero trust philosophy when designing your Azure infrastructure, then one useful way of slowing down your attackers is a strategy called defense in depth. It’s particularly effective at protecting your data. This includes three types of protection:</p>
<ol>
<li>Confidentiality, meaning that only authorized users can access the data,</li>
<li>Integrity, meaning that the data has not been altered by malicious users, and</li>
<li>Availability, meaning that authorized users can access it. One way an attacker could make the data unavailable is to launch a denial-of-service attack.</li>
</ol>
<p>The central principle of defense in depth is to protect your data using a series of layers, so even if one layer is breached, the other layers still offer protection for your data. Not only does this slow down the attacker, but it also increases the probability that you’ll detect the attack.</p>
<p>Here’s a quick summary of the layers and how they can be protected in Azure. First up is physical security. Microsoft takes care of this by maintaining physical security at its datacenters. This layer is probably the least likely for an attacker to attempt to breach.</p>
<p>Next, there’s identity and access. These are provided by Azure Active Directory and role-based access control. There are many ways to increase your security using these services, but some examples are conditional access and Identity Protection.</p>
<p>Then there’s perimeter security. One example of a service at this layer is Azure DDoS, which defends against denial-of-service attacks.</p>
<p>Next, there’s network security. An example at this layer is network security groups, which are essentially firewall rules for your Azure virtual networks.</p>
<p>Then there’s the compute layer. One way to defend your compute resources is to ensure that their operating systems are regularly patched. Fortunately, most Azure compute services take care of this for you, but if you’re using virtual machines, you’ll need to take care of this yourself.</p>
<p>After that, there’s application security. You’ll need to make sure that your developers are writing your applications in a secure manner.</p>
<p>Finally, there’s the data layer. This is what attackers are usually trying to access. Azure’s various storage services offer a variety of features to provide security for your data. One common feature is encryption. Another example is enabling Advanced Threat Protection in your Azure SQL Databases.</p>
<p>As you can see, it’s possible to protect your data using many layers of security. Some of these layers, such as physical security are entirely Microsoft’s responsibility, some are entirely your responsibility, such as application security, and most are a combination of Azure services and how you implement them.</p>
<p>And that’s it for zero trust and defense in depth. Please give this course a rating, and if you have any questions or comments, please let us know. Thanks!</p>
<h1 id="1Zero-Trust"><a href="#1Zero-Trust" class="headerlink" title="1Zero Trust"></a>1<strong>Zero Trust</strong></h1><p><a target="_blank" rel="noopener" href="https://cloudacademy.com/course/overview-azure-active-directory-3142/introduction/">Course: Overview of Azure Active Directory</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/18/AZ-900-A-Quick-Introduction-to-Role-Based-Access-Control-14/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/18/AZ-900-A-Quick-Introduction-to-Role-Based-Access-Control-14/" class="post-title-link" itemprop="url">AZ-900-A-Quick-Introduction-to-Role-Based-Access-Control-14</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-18 20:29:40" itemprop="dateCreated datePublished" datetime="2022-11-18T20:29:40-04:00">2022-11-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-20 00:29:26" itemprop="dateModified" datetime="2022-11-20T00:29:26-04:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AZ-900/" itemprop="url" rel="index"><span itemprop="name">AZ-900</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/18/AZ-900-A-Quick-Introduction-to-Role-Based-Access-Control-14/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/18/AZ-900-A-Quick-Introduction-to-Role-Based-Access-Control-14/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <span id="more"></span>

<h1 id="A-Quick-Introduction-to-Role-Based-Access-Control-on-Azure"><a href="#A-Quick-Introduction-to-Role-Based-Access-Control-on-Azure" class="headerlink" title="A Quick-Introduction to Role-Based Access Control on Azure"></a>A Quick-Introduction to Role-Based Access Control on Azure</h1><p>Welcome to “A Quick Introduction to Role-Based Access Control”. To get the most from this course, you should already have some basic experience using Azure. If you don’t, then you can take our “Overview of Azure Services” course.</p>
<p>Azure Active Directory can authenticate users, meaning it identifies who they are, but it doesn’t know what they should be allowed to do in Azure. In other words, it doesn’t handle authorization. That’s managed by a separate system called role-based access control (or RBAC).</p>
<p>For example, suppose you have three groups of people who need access to the resources in an Azure subscription. End-users need access to everything, but they shouldn’t have the ability to modify anything. Developers need to be able to access and modify everything. Administrators need to be able to access and modify everything, and they also need to be able to grant or deny access to other users.</p>
<p>You could do this by assigning different roles to the three groups. You would assign the Reader role to end-users, the Contributor role to developers, and the Owner role to administrators. These roles are sets of permissions that can be easily assigned to users or groups.</p>
<p>I should mention that this is a pretty unrealistic example, though, because your requirements will almost never be this simple. A more likely scenario would include requirements like these:</p>
<ul>
<li>People in the Technical Marketing department need read access to the blob data in Storage Account 1 and write access to the blob data in Storage Account 2.</li>
<li>People in the Product Development for Marketing team need full access to all of the virtual machines in Resource Group 1.</li>
</ul>
<p>To grant these permissions, you need to use fine-grained roles. So, instead of granting the Reader or Contributor role for the entire subscription to people in the Technical Marketing department, you’d grant them the Storage Blob Data Reader role for Storage Account 1 since they only need read access for that one and the Storage Blob Data Contributor role for Storage Account 2 since they only need write access for that one.</p>
<p>For the second requirement, you’d grant people in the Product Development for Marketing team the Virtual Machine Contributor role for Resource Group 1.</p>
<p>Notice that in these examples, not only would you be assigning fine-grained roles, but you’d also be limiting them to particular resource groups or resources. This is referred to as setting the scope. You can do this at one of four levels: management group, subscription, resource group, or resource. If you set the scope at any of the upper levels, then the permissions will be granted for everything underneath it. For example, if you grant the Virtual Machine Contributor role for Resource Group 1, then you’re also granting that role for all of the resources in Resource Group 1.</p>
<p>So how would it work if you granted a user the Reader role at the subscription level and the Contributor role at the resource group level? Would the Reader role at the subscription level override the Contributor role at the resource group level? No, it doesn’t work that way. The roles are additive, meaning that the user would have both roles at the resource group level, so, effectively, they would have the Contributor role at that level because it has all of the Reader permissions plus more.</p>
<p>Not only can you assign roles to users and groups, but you can also assign them to Azure service instances. Why would you want to do that? Well, a typical example would be: you have an application that runs on a virtual machine that needs to read data from and write data to an Azure SQL Database instance called SQL Database 1. So the application would need to be granted the permissions to do that. However, you wouldn’t be able to grant permissions to the application itself, but you could grant them to the virtual machine instance that the application is running on. You could assign the SQL DB Contributor role for SQL Database 1 to the virtual machine.</p>
<p>So how exactly would you do that? Well, you’d create what’s called a managed identity for the virtual machine. When you enable this feature on a VM, it creates an identity in Azure Active Directory. Then you can assign one or more roles to the identity. So you’d actually be assigning the SQL DB Contributor role for SQL Database 1 to the managed identity for the virtual machine. This would allow the application running on the VM to access the SQL Database instance.</p>
<p>Regardless of which type of identity you want to assign a role to, the way you do it is to go into the “Access control” pane of the Azure resource you want to grant access to. For example, if you wanted to assign a user the Virtual Machine Contributor role for VirtualMachine1, you’d go into VirtualMachine1 in the Azure portal, then select “Access control” from the menu, then click the “Role assignments” tab, add a role assignment, select the Virtual Machine Contributor role, and find the user you want to assign it to. And it’s done.</p>
<p>So far, all of the roles I’ve mentioned have been built-in roles. That is, they’re roles that have been predefined by Microsoft. Each role is actually a bundle of permissions. For example, the Storage Blob Data Reader role includes one permission to view Storage containers and another permission to view the blobs inside the containers. Some roles include dozens of different permissions. Microsoft provides these built-in roles so you don’t have to figure out all of the permissions that you need to assign.</p>
<p>But what if you want to assign a set of permissions that’s different from what’s in any of the built-in roles? For example, what if you wanted to assign permission to view Storage containers but not to read the blobs inside those containers? You could do that by creating a custom role that contained only that permission. Of course, you’d need to have permission to create custom roles first. As you can see, there are permissions for everything.</p>
<p>And that’s it for this quick introduction to role-based access control. Please give this course a rating, and if you have any questions or comments, please let us know. Thanks!</p>
<h1 id="1A-Quick-Introduction-to-Role-Based-Access-Control-on-Azure"><a href="#1A-Quick-Introduction-to-Role-Based-Access-Control-on-Azure" class="headerlink" title="1A Quick-Introduction to Role-Based Access Control on Azure"></a>1<strong>A Quick-Introduction to Role-Based Access Control on Azure</strong></h1><p><a target="_blank" rel="noopener" href="https://cloudacademy.com/course/overview-of-azure-services/">Course: Overview of Azure Services</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/18/AZ-900-Overview-of-Azure-Active-Directory-13/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/18/AZ-900-Overview-of-Azure-Active-Directory-13/" class="post-title-link" itemprop="url">AZ-900-Overview-of-Azure-Active-Directory-13</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-18 20:29:38" itemprop="dateCreated datePublished" datetime="2022-11-18T20:29:38-04:00">2022-11-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-20 00:28:34" itemprop="dateModified" datetime="2022-11-20T00:28:34-04:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AZ-900/" itemprop="url" rel="index"><span itemprop="name">AZ-900</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/18/AZ-900-Overview-of-Azure-Active-Directory-13/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/18/AZ-900-Overview-of-Azure-Active-Directory-13/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <span id="more"></span>

<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>Welcome to “Overview of Azure Active Directory”. I’m Guy Hummel.</p>
<p>Azure Active Directory (or Azure AD) is a feature-rich service, so even an overview needs to cover quite a few topics. In this course, I’ll start with the purpose of Azure AD, with a focus on user authentication. Then I’ll cover some of the ways you can make your authentication more robust, including multifactor authentication and conditional access. Next, I’ll go over some Azure AD services that can help you increase your security and expand your access, including Identity Protection, Privileged Identity Management, and External Identities. Finally, I’ll explain how you can use Azure AD Domain Services to support legacy authentication methods.</p>
<p>To get the most from this course, you should already have some basic knowledge of Azure. If you don’t have any experience with Azure, then you can take our “Overview of Azure Services” course. It would also help to have some knowledge of Active Directory, which is Microsoft’s on-premises authentication solution, although that’s not mandatory.</p>
<p>We’d love to get your feedback on this course, so please give it a rating when you’re finished. Thanks!</p>
<h1 id="Azure-Active-Directory"><a href="#Azure-Active-Directory" class="headerlink" title="Azure Active Directory"></a>Azure Active Directory</h1><p>When you set up an IT environment, one of the first things you need to do is give access to the people who need it. This typically includes system administrators, software developers, and end-users. The solution is to use an identity and access management system.</p>
<p>The one that’s most commonly used for on-premises environments is Microsoft’s Active Directory. It allows you to create and manage user accounts. Then when a user logs in to one of your IT systems, the system will ask for their username and password and then verify these credentials with Active Directory before letting the user in. This process is known as authentication.</p>
<p>When you set up an environment on Azure, instead of using Active Directory, you use Azure Active Directory. It’s quite similar, but it’s used for accessing cloud applications. That includes cloud applications outside of Azure, too, such as Microsoft 365. It can even be used for accessing web-based applications in your on-premises environment. Another big difference is that it’s a managed service, so you don’t have to worry about maintaining the underlying infrastructure that runs it.</p>
<p>Naturally, if you already have an on-premises Active Directory implementation, you don’t have to recreate all of your users and groups in Azure Active Directory. Instead, you can synchronize your accounts between the two systems using Azure AD Connect. This’ll create the accounts on Azure for you and keep them in sync when changes are made to the accounts in Active Directory. It will allow you to use single sign-on (or SSO), which means that users only need to log in once to access both their on-premises environment and their Azure environment. You can also use SSO to access Microsoft 365.</p>
<p>When you sign up for an Azure subscription, an Azure AD tenant is automatically created. This tenant is an instance of Azure AD that’s dedicated to your organization. Since Microsoft has a huge number of Azure customers, it makes sense that it would need to have a separate tenant for each customer. Each tenant has its own dedicated directory of users, groups, and apps.</p>
<p>This all sounds quite straightforward, but things can get much more complicated. First, your organization might want to have multiple subscriptions. One common practice is to have a separate subscription for each department so that each of them can manage their own Azure resources. If you wanted to, you could have a separate tenant in each subscription, but this usually doesn’t work very well. So, many organizations will share the same tenant among all of their subscriptions. That way, users, groups, and apps can be centrally managed while Azure resources can be managed by individual departments. If you want to move an existing subscription to a central tenant, you can do that by changing which tenant is associated with it. You can’t go the either way, though. That is, a subscription can’t have multiple tenants associated with it.</p>
<p>Okay, now let’s go back to the main purpose of Azure AD: authentication. In the past, authentication was mostly handled by getting each person to enter a user ID and password, but these days, you’ll likely want to check more than that to make sure the person isn’t a hacker. One way to get more assurance is to use multifactor authentication (or MFA). In addition to asking the user for something they know, such as their password, you also require something the user has, such as a mobile phone number, or something the user is, such as a human being with a fingerprint.</p>
<p>You’ve probably had to go through multifactor authentication yourself. The most common way to prove you have something unique to you is to get an access code sent to your mobile device and then enter that code during the login process. The most common way to prove you are who you say you are is to put your finger or thumb on a fingerprint reader. Another way is to let a device scan your face.</p>
<p>As you’d expect, Azure AD does support multifactor authentication. In the “what you have” category, it supports:</p>
<ul>
<li>Access codes sent by SMS</li>
<li>Access codes sent by voice call</li>
<li>The Microsoft Authenticator app</li>
<li>Hardware keys, including FIDO2 security keys and OATH hardware tokens, and</li>
<li>OATH software tokens</li>
</ul>
<p>In the “what you are” category, it currently supports only Windows Hello for Business, which can use facial recognition and fingerprint recognition.</p>
<p>Azure AD also supports an authentication option called “passwordless”. Instead of entering your password plus either what you have or what you are, you can just use both what you have and what you are. In other words, if you need two methods of verification, why not use two different methods that don’t require you to remember a password? That would make things a lot easier for most people while still maintaining security.</p>
<p>There are currently three passwordless options:</p>
<ul>
<li>Windows Hello</li>
<li>Microsoft Authenticator, and</li>
<li>FIDO2 security keys</li>
</ul>
<p>In each case, you have a hardware device and biometric authentication. For example, if you’re using the Microsoft Authenticator app, then you have to sign into your mobile device using a fingerprint scan, facial recognition, or your PIN. If you use your PIN, then you’re actually using a password rather than a biometric method, but at least it should be easier to remember than your Azure AD password.</p>
<p>Now after telling you about all of these different authentication methods, I should point out that you have to pay extra to use most of them. If you’re using the free version of Azure AD, then you can require all of your users to register for multi-factor authentication by using the Microsoft Authenticator app. That’s the only authentication method available in the free version.</p>
<p>If you need more flexibility, then you can upgrade to Azure AD Premium. This license includes the conditional access feature, which not only lets you use all of the various authentication methods, but you can also use it to require other conditions before letting users log in.</p>
<p>For example, suppose you want to require that users can only sign in from a device that’s running Windows 10 or higher. You can do that with conditional access. The idea is that conditional access gathers identity signals, such as what device you’re using, then it makes a decision based on rules you’ve configured, and finally, it enforces that decision, such as by blocking access.</p>
<p>Here’s another example. You could configure conditional access so that if a user is logging in from a location that is not on your approved locations list, then they’ll be blocked. Or you could configure it to allow a user to log in from a non-approved location if they go through multifactor authentication. The list of approved locations can be countries (or regions) and IP address ranges.</p>
<p>You can also limit access based on what application a user is trying to access or what client application they’re using to gain access, such as a Microsoft Outlook app.</p>
<p>Yet another possibility is to only allow access if they’re using a managed device that meets your security standards. To make this work, these devices, which can be Android, iOS, macOS, or Windows 10 or higher devices, need to be registered in Azure AD. To enforce security standards on these devices, you can use a mobile device management tool, such as Microsoft Intune.</p>
<p>Before you configure a new conditional access policy, it’s a good idea to test it using the What If tool so you don’t accidentally wreak havoc on your users. The What If tool will tell you what actions it would have taken on recent sign-in attempts if your new policy had been enabled.</p>
<p>There’s also something else you have to do before you can configure a conditional access policy for your users. You need to assign a Premium license to each user account because Azure AD is licensed on a per-account basis. To make this process easier, you can assign a license to a group instead if you’d like. You can also assign other types of licenses, such as Microsoft 365 licenses, to both users and groups.</p>
<p>Generally speaking, it’s a good idea to use groups to organize your users and apply policies in Azure, but how do you keep groups up to date? After all, in a large organization, people come and go all the time, so it can be a challenge to make sure that users are in the right groups. Fortunately, Microsoft provides dynamic membership rules. These rules will automatically add or remove users in relevant groups when something changes. </p>
<p>A simple example is an “All users” rule. For example, if you wanted to ensure that all of your users were subject to conditional access policies when they signed in, you could create a group called “Everyone”, add every user to it, and create a conditional access policy that targets that group. Then you could apply an “All users” rule to that group, and whenever a new user was created, it would be added to that group automatically.</p>
<p>And that’s it for this introduction to Azure AD.</p>
<h1 id="More-Azure-AD-Features"><a href="#More-Azure-AD-Features" class="headerlink" title="More Azure AD Features"></a>More Azure AD Features</h1><p>Azure Active Directory is a very complex and feature-rich service. In this lesson, we’ll go over a few of its notable features.</p>
<p>Since most organizations are constantly under threat from hackers trying to gain access to their resources, Microsoft provides a feature called Identity Protection. It performs automated risk detection by looking for signs of an intrusion attempt. It looks for things like users logging in from anonymous IP addresses or from unexpected locations. It also looks for things like “password spray”, which is where an attacker tries the same password on many accounts. You can configure Identity Protection so that when it detects these types of risky login attempts, it automatically takes an action, such as requiring multifactor authentication or blocking the login attempt.</p>
<p>Alternatively, you could turn off the automated remediation feature and investigate the detected risks manually. Or, if you have your own security information and event management (or SIEM) system, then you could export the risk detection data to it and deal with the identity risks using that tool.</p>
<p>While it’s important to try to prevent hackers from gaining access to regular user accounts, it’s especially important to prevent them from accessing administrator accounts because those accounts have privileged access. To help with this, Microsoft offers the Privileged Identity Management (or PIM) service. Another reason to use PIM is to help prevent legitimate administrators from accidentally causing issues.</p>
<p>PIM focuses on restricting administrator access to only the people who need it, putting extra requirements in place before administrators can perform privileged actions, and keeping an audit trail of what administrators have done.</p>
<p>One way to ensure that only the people who truly need administrator privileges have them is to conduct access reviews. This requires managers to review the list of administrators on a regular basis.</p>
<p>To control the use of administrator accounts, PIM provides just-in-time access. Here’s how it works. Certain users are designated as eligible to perform administrator tasks but don’t have those permissions all the time. If an eligible user needs to perform an administrator task, then they have to request activation of an elevated role.</p>
<p>At this point, several different things could happen depending on how you configure it. First, the user might have to perform multifactor authentication. Then they have to enter a reason for the activation request. Finally, if the role requires activation approval, then they’ll have to wait for an approver to activate their role. This activation will only last for a limited amount of time, so after the activation expires, they’ll have to go through the same process again.</p>
<p>As you can see, the combination of access reviews, just-in-time access, and an audit trail provides pretty tight control over administrator accounts.</p>
<p>So far, we’ve only been talking about users in your own organization, but what if you need to provide people outside of your organization with guest access. Azure AD has a feature called External Identities that takes care of that. It’s commonly used for working with partners, suppliers, and customers. It allows external users to “bring their own identities.” They log into a separate identity provider first and can then gain guest access to some of your applications. This separate identity provider could be their organization’s own identity system or a social platform such as Facebook or Google.</p>
<p>The External Identities feature includes three components: B2B collaboration, B2B direct connect, and Azure AD B2C. With B2B (or business-to-business) collaboration, external users are represented in your Azure AD directory as guest users.</p>
<p>With B2B direct connect, you establish a mutual trust relationship with another Azure AD organization. This means external users aren’t represented in your directory because your directory trusts identities in their directory. B2B direct connect currently supports only Microsoft Teams shared channels.</p>
<p>With Azure AD B2C (or business-to-consumer), you can publish your own consumer-facing applications and give your customers access to them. Azure AD B2C is actually a separate service that’s built on the same technology as Azure AD.</p>
<p>There are plenty of other features available in Azure AD, but the ones we’ve covered in this video are some of the most important ones.</p>
<h1 id="Azure-AD-Domain-Services"><a href="#Azure-AD-Domain-Services" class="headerlink" title="Azure AD Domain Services"></a>Azure AD Domain Services</h1><p>If you want to migrate on-premises applications to Azure, one potential issue is if these applications use legacy authentication protocols, such as NTLM or Kerberos. There are a few ways to deal with this. You could have your Azure users authenticate to your on-premises Active Directory, which is probably not something you want to do if you’re trying to migrate to Azure. </p>
<p>Another possibility is to run Active Directory domain controllers on Azure and replicate them with your on-premises Active Directory. Then your Azure users could authenticate to domain controllers running on Azure instead of in your on-premises environment. The problem with this is that you’d have to maintain these servers by patching them regularly and performing other management tasks, such as backing them up.</p>
<p>An alternative is to use Azure AD Domain Services (or Azure AD DS), which is a managed implementation. It takes care of running and maintaining the domain controllers.</p>
<p>Aside from supporting the legacy authentication protocols I mentioned earlier, here are a few other things you can do with Azure AD DS. It can support applications that use LDAP, which stands for Lightweight Directory Access Protocol. It’s a commonly used open standard for accessing directories such as Active Directory.</p>
<p>Many organizations join their Windows 10 computers to an Active Directory domain. Then their system administrators can use group policies to maintain those computers in a consistent fashion. For example, they could create a group policy that configures the same security settings for all of the computers in that domain. Azure AD DS supports both joining computers to domains and applying group policies.</p>
<p>As you can see, Azure AD Domain Services is a good option to consider if you’re planning to migrate existing applications from your on-premises environment to Azure or if you want to move any of your domain controllers to a managed service.</p>
<p>And that’s it for this quick overview of Azure Active Directory. Please give this course a rating, and if you have any questions or comments, please let us know. Thanks!</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/18/AZ-900-Understanding-Core-Azure-Networking-Products-12/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/18/AZ-900-Understanding-Core-Azure-Networking-Products-12/" class="post-title-link" itemprop="url">AZ-900-Understanding-Core-Azure-Networking-Products-12</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-18 20:29:37" itemprop="dateCreated datePublished" datetime="2022-11-18T20:29:37-04:00">2022-11-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-20 00:32:36" itemprop="dateModified" datetime="2022-11-20T00:32:36-04:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AZ-900/" itemprop="url" rel="index"><span itemprop="name">AZ-900</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/18/AZ-900-Understanding-Core-Azure-Networking-Products-12/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/18/AZ-900-Understanding-Core-Azure-Networking-Products-12/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <span id="more"></span>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/18/AZ-900-Introduction-to-Azure-Networking-11/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/18/AZ-900-Introduction-to-Azure-Networking-11/" class="post-title-link" itemprop="url">AZ-900-Introduction-to-Azure-Networking-11</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-18 20:29:35" itemprop="dateCreated datePublished" datetime="2022-11-18T20:29:35-04:00">2022-11-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-20 00:28:42" itemprop="dateModified" datetime="2022-11-20T00:28:42-04:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AZ-900/" itemprop="url" rel="index"><span itemprop="name">AZ-900</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/18/AZ-900-Introduction-to-Azure-Networking-11/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/18/AZ-900-Introduction-to-Azure-Networking-11/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <span id="more"></span>

<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>Welcome to “Introduction to Azure Networking”. I’m Guy Hummel.</p>
<p>In this course, I’ll start with an overview of Azure Virtual Networks (or VNets), which are at the heart of Azure networking. Then I’ll go over some of the different ways to connect a VNet to other networks, including on-premises networks. Finally, I’ll explain private endpoints, which allow you to connect a virtual network to various Azure services in a private and secure manner.</p>
<p>To get the most from this course, you should already have some basic knowledge of Azure. If you don’t have any experience with Azure, then you can take our “Overview of Azure Services” course. You should also have some knowledge of basic networking concepts, such as IP addresses.</p>
<p>We’d love to get your feedback on this course, so please give it a rating when you’re finished. Thanks!</p>
<h1 id="Azure-Virtual-Networks"><a href="#Azure-Virtual-Networks" class="headerlink" title="Azure Virtual Networks"></a>Azure Virtual Networks</h1><p>Computers in on-premises datacenters communicate with each other over local area networks. The physical details of these networks are often quite complex, including cables, hubs, routers, wireless devices, and more. Azure datacenters have this sort of physical networking infrastructure, too, but you don’t have to worry about it because Microsoft takes care of it. You still have to do some network configuration, though. We’ll get into the details of that in a minute.</p>
<p>The Azure equivalent of a local area network is called an Azure virtual network (or VNet). It’s not quite the same, though. First of all, many different customers can create VNets in the same Azure datacenter, so these VNets have to be isolated from one another. Second, you can only put some types of Azure resources in a VNet.</p>
<p>Some examples of what you can put in a VNet are virtual machines, firewalls, and Azure Kubernetes clusters. Some examples of what you can’t put in a VNet are Azure SQL Database instances, Azure Storage containers, and Azure Active Directory tenants. All of these types of resources can communicate with each other whether they’re inside the same virtual network or not, but how they communicate with each other is a bit different depending on where they are. I’ll talk about that in another lesson.</p>
<p>Okay, now let’s get back to what you need to configure. When you create a VNet, you need to specify its IP address space and any subnets you want it to have. You also need to give it a name, the subscription it should go in, and the region where you want it to be located. But those are parameters you need to configure for almost all Azure resources, not just virtual networks.</p>
<p>The IP address space tells Azure what pool of addresses it can choose from when assigning an IP address to a resource in a VNet. In most cases, you should specify a range of private, non-routable IP addresses. That is, you should use one of the special IP address ranges that have been designated for use inside private networks that cannot be used to directly connect to the internet. If you don’t know what range to use, that’s okay because Azure will assign one by default.</p>
<p>You also need to define at least one subnetwork (or “subnet” for short) in your VNet. You can use subnets to divide your resources into logical groupings. Resources that frequently communicate with each other should usually be put in the same subnet. You can also apply different security rules to different subnets. For each subnet, you need to specify which portion of the virtual network’s IP address space should be reserved for that subnet’s resources.</p>
<p>Resources in different subnets can still communicate with each other, though, because Azure creates a default route that allows all resources in a VNet to find each other. It also creates a default route that tells resources how to reach the internet.</p>
<p>If you want to override the default ones or add new routes, you can create your own custom routes, also known as user-defined routes. For example, you could add a firewall to the virtual network and then route all internet-traffic through the firewall.</p>
<p>Speaking of the internet, how do resources in a VNet normally communicate over the internet? By default, all outbound traffic from a VNet to the internet is allowed. But if you want a resource in a VNet to be able to receive inbound traffic from the internet, then you need to assign a public IP address to it. Public IP addresses are precious resources, so you need to pay for them. You also have to make sure you have good security on any resource that has a public IP address because opening it up to the internet makes it more vulnerable.</p>
<p>Although I’ve been talking a lot about IP addresses, you’d normally want to refer to virtual machines and other resources by a name rather than an IP address. To make this work, you need a name resolution service that translates between names and IP addresses. There are three ways to do this.</p>
<p>First, if you only need the resources in a VNet to communicate with each other using names, then you can use Azure-provided name resolution, which is something you get automatically when you create a VNet.</p>
<p>If your resources need to resolve the names of systems in another virtual network, then you can use Azure DNS private zones. Azure DNS is a domain name system service that you can use to manage name resolution for all of your systems, whether they’re on Azure or not. It’s much more sophisticated than Azure-provided name resolution. Azure DNS private zones is a component of Azure DNS that only handles private virtual networks on Azure. That is, it handles name resolution for systems that aren’t visible on the internet.</p>
<p>Finally, if the resources in your virtual network need to resolve the names of systems in an on-premises environment, then you can use your own DNS server. Alternatively, you can use Azure DNS because it’s capable of acting as a full DNS service.</p>
<p>And that’s it for this quick overview of Azure virtual networks.</p>
<h1 id="Connecting-to-Other-Networks"><a href="#Connecting-to-Other-Networks" class="headerlink" title="Connecting to Other Networks"></a>Connecting to Other Networks</h1><p>Once you’ve created an Azure virtual network, you’ll usually want to connect it to resources that are outside of it. For example, its resources might need to communicate with resources in another Azure virtual network. You could set up an internet connection between the two, but a much faster and more secure way to do it is to use VNet peering. You just need to configure one peering connection in each direction between the two VNets, and then resources will be able to communicate with each other as if they’re on the same network.</p>
<p>If the two VNets are in different regions, then you can use global VNet peering. Regardless of whether the VNets are in the same region or not, the peering connection goes over the Microsoft backbone network rather than over the internet, which is why it’s faster and more secure. What if you want to connect your VNet to an on-premises network? There are two ways to do that: either use a VPN or use Azure ExpressRoute. The main difference between the two is that a VPN (or Virtual Private Network) traverses the internet, while ExpressRoute is a direct connection between your on-premises network and Azure.</p>
<p>Since traffic on a VPN goes over the internet, it’s encrypted to prevent other parties from viewing it. To implement a VPN, you can deploy an Azure VPN Gateway in your virtual network. This’ll take care of the Azure side of the connection, but you’ll need something on the other side of the connection, too. What you put on the other end depends on the type of connection you’re setting up.</p>
<p>If you want to connect to an on-premises location, then you can set up a site-to-site connection. To make this work, you need to install a VPN device in your on-premises location and give it a public IP address. You need to let Azure know about this VPN device by defining it as a local network gateway. A site-to-site connection is a good solution if you have many devices in the same location that need to have access to your Azure virtual network.</p>
<p>If you want to connect individual devices, such as mobile phones, to your virtual network, then you can set up point-to-site connections. This method works differently from the site-to-site method because there’s no VPN device on the user’s side. Instead, you have to install a certificate on each mobile device. The certificate is used to authenticate with the Azure VPN Gateway. In most cases, you can use the same VPN Gateway for both site-to-site and point-to-site connections. In fact, you can only have one VPN Gateway in each VNet, so you have to use the same one. The only situation where you can’t support both site-to-site and point-to-site connections from the same gateway is when you need to configure a different type of routing for each.</p>
<p>There are two types of routing: policy-based and route-based. In almost every case, route-based is the right option. Not only is it more robust, but it’s the only supported option for point-to-site connections. If, for some reason, you need to configure policy-based routing for a site-to-site connection, then you won’t be able to support point-to-site connections from the same VPN Gateway. And since you can only have one VPN Gateway per virtual network, you’d have to create a second virtual network to support the other VPN Gateway. This isn’t a common scenario, though, so you probably won’t have to deal with it.</p>
<p>If you don’t want your connection to go over the internet or you need more bandwidth, then you can set up a direct connection using Azure ExpressRoute. Be aware that this is a much more expensive solution, though.</p>
<p>There are four ways to connect to Azure using ExpressRoute. It all comes down to where you have your IT infrastructure. Many organizations put at least some of their IT systems in a colocation facility, which is a datacenter that rents space to multiple customers.</p>
<p>If you’re fortunate enough to have some of your IT infrastructure in a colocation facility that Microsoft has designated as an ExpressRoute location, then you can connect to Microsoft’s network directly. You do this by connecting to a Microsoft Enterprise Edge device in the facility. This option is called ExpressRoute Direct, and it has the highest bandwidth of the four options. It can support connections of 10 gigabits or 100 gigabits per second.</p>
<p>Alternatively, if you’re in an ExpressRoute location (otherwise known as a peering location or a “cloud exchange”), but you need less than 10 gigabits per second of bandwidth, then you can connect to Microsoft’s network through a service provider. They can provide options between 50 megabits and 10 gigabits per second. The service provider can also take care of some of the management tasks involved with having this sort of connection.</p>
<p>If you’re not in that sort of facility, then you have a couple of other options. Some organizations use an IPVPN provider to connect their branch offices and datacenters to their core network. This is called any-to-any connectivity. If your organization uses an IPVPN provider, then you can make the Microsoft network look like one of your branch offices and connect to it that way. The final option is to rent a leased line from a point-to-point Ethernet provider to connect your datacenter to an ExpressRoute location.</p>
<p>Regardless of which option you choose, there are a couple of other interesting things you can do with ExpressRoute. First, you can also use it to connect to Microsoft 365, although having a direct connection to Microsoft 365 isn’t typically needed as much as it is for Azure.</p>
<p>Second, if you have ExpressRoute connections from branch offices in different parts of the world, you can use ExpressRoute Global Reach to connect those branch offices to each other through the Microsoft network rather than through the internet. You have to pay extra to do this, though.</p>
<p>And that’s it for connecting to other networks.</p>
<h1 id="Private-Endpoints"><a href="#Private-Endpoints" class="headerlink" title="Private Endpoints"></a>Private Endpoints</h1><p>Some Azure resources, such as Azure SQL Database instances and Azure Storage containers, can’t be put in a virtual network directly, but there is an indirect way to bring them into a VNet. The solution is called a private endpoint. It’s simply a private IP address in a virtual network that’s connected to an Azure resource that’s outside of the VNet.</p>
<p>If you don’t use a private endpoint, then the resources in your VNet have to connect to the external resource using a public endpoint. For example, a virtual machine in your VNet would access an Azure Storage container using the container’s public endpoint. The problem with public endpoints is that they’re exposed to the internet, which is a security risk. If you created a private endpoint for your Azure Storage container, you could disable its public endpoint. Then the only way to access your storage container would be to connect to it over the Microsoft backbone network from your VNet.</p>
<p>I should mention that not all Azure resources can be connected to a private endpoint. A resource has to be hosted by a service that supports something called Private Link. This is what’s actually used to connect your private endpoint to the service.</p>
<p>Here’s how all of this works. Suppose you have a virtual machine that’s running an application that needs to store its data in a SQL Database instance called DB1. Let’s say the VM is in a subnet called Sub1 in a virtual network called Vnet1. First, you’d create a private endpoint called, let’s say, PrivateSqlEndpoint. You’d configure it to be in the Sub1 subnet in Vnet1, and you’d configure its target to be DB1. Next, you’d need to go into DB1’s configuration and set its connectivity method to private endpoint. You could also disable public access to DB1 so the database would only be accessible through a private endpoint.</p>
<p>Once this was set up, the application on the VM could access DB1 by connecting to the IP address of PrivateSqlEndpoint. Behind the scenes, the Private Link service would send the traffic over Microsoft’s backbone network from the private endpoint to DB1. This is such a handy solution that Microsoft has even made it possible to set up a custom Private Link service for your own application.</p>
<p>Private endpoints are also a great solution when you have other networks connected to a VNet. For example, if your VNet is peered to another VNet, then resources in the peered VNet can access an external Azure resource through a private endpoint as well. This even works when you have an on-premises environment connected to your VNet.</p>
<p>And that’s it for this introduction to Azure networking. Please give this course a rating, and if you have any questions or comments, please let us know. Thanks!</p>
<h1 id="1Introduction"><a href="#1Introduction" class="headerlink" title="1Introduction"></a>1<strong>Introduction</strong></h1><p><a target="_blank" rel="noopener" href="https://cloudacademy.com/course/overview-of-azure-services/">Course: Overview of Azure Services</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/18/AZ-900-Introduction-to-Azure-App-Service-10/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/18/AZ-900-Introduction-to-Azure-App-Service-10/" class="post-title-link" itemprop="url">AZ-900-Introduction-to-Azure-App-Service-10</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-18 20:29:34" itemprop="dateCreated datePublished" datetime="2022-11-18T20:29:34-04:00">2022-11-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-20 00:28:54" itemprop="dateModified" datetime="2022-11-20T00:28:54-04:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AZ-900/" itemprop="url" rel="index"><span itemprop="name">AZ-900</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/18/AZ-900-Introduction-to-Azure-App-Service-10/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/18/AZ-900-Introduction-to-Azure-App-Service-10/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <span id="more"></span>

<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>Welcome to “Introduction to Azure App Service”. I’m Guy Hummel, and I’m a certified Azure Developer and Solutions Architect.</p>
<p>In this course, I’ll start with an overview of Azure App Service, and then I’ll show you how to create a simple app. Finally, I’ll go over App Service Plans. This course is not intended to explain every aspect of Azure App Service, which is quite a complex product. Instead, it’s intended to help you get started with hosting web apps on Azure. We cover additional aspects of App Service, such as autoscaling, deployment slots, networking, and security, in other courses.</p>
<p>To get the most from this course, you should already have some basic experience using Azure. If you don’t have any experience with Azure, then you can take our “Microsoft Azure Fundamentals” learning path.</p>
<p>We’d love to get your feedback on this course, so please give it a rating when you’re finished. Thanks!</p>
<h1 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h1><p>When you need to host a website on Azure, there are lots of potential choices. If it’s a static website that doesn’t require any interactions with users, then you can just store your website in Azure Storage and serve it from there. If you need to host something more sophisticated, then you could deploy it on an Azure virtual machine that’s running a content management system, such as WordPress. If you’ve built a microservices-based application in Docker containers, then you could run it on Azure Kubernetes Service.</p>
<p>But the most popular way to do it is to use Azure App Service. Why? Well, because App Service tries to make deploying a web application as easy as possible while still providing lots of flexibility and features. It’s considered to be a platform-as-a-service rather than infrastructure-as-a-service because it manages the underlying infrastructure for you. This means you don’t have to worry about things like patching the operating system.</p>
<p>App Service supports a wide variety of programming languages and frameworks, including ASP.NET, ASP.NET Core, Java, Ruby, Node.js, PHP, and Python. Not only do these come preinstalled, but they’re also updated when new patches or releases are available. For most of these frameworks, you can choose whether to run it on Windows or Linux (although that’s not the case with ASP.NET Framework 4.8, which can only run on Windows).</p>
<p>Even if you want to use a different programming language, you can still use App Service if you put your application in a Docker container that has the right dependencies installed in it.</p>
<p>There are other key development and deployment features, too. First, it’s well-integrated with Visual Studio and Visual Studio Code, which are the preferred programming environments for many software developers. It’s also integrated with continuous integration &#x2F; continuous delivery tools, such as Azure DevOps, GitHub, and BitBucket. You can also use App Service to host mobile backends and application programming interfaces.</p>
<p>Aside from the ease of deployment and maintenance, one of the biggest advantages of using App Service is its enterprise-class features. First, there’s high availability. Microsoft guarantees 99.95% uptime in most cases for apps running on this service. Then there’s scalability. You can configure it to automatically add more resources to your application when demand increases.</p>
<p>Of course, security is important, too, so Microsoft provides authentication capabilities if you only want authorized users to be able to access your apps. It also lets you control which IP addresses are allowed or denied access to your site if you want.</p>
<p>There are other features as well, but this should give you a good idea of why App Service is the preferred choice for hosting web apps on Azure.</p>
<h1 id="Creating-a-Simple-App"><a href="#Creating-a-Simple-App" class="headerlink" title="Creating a Simple App"></a>Creating a Simple App</h1><p>Now I’ll show you how easy it is to deploy an application on Azure App Service. In fact, it only takes one command to do it.</p>
<p>There are a few different options for where we could deploy it from. We could use Visual Studio, Visual Studio Code, or the Azure Command-Line Interface. I’m going to use the Azure CLI because it’s possible to use it without having to install anything. Microsoft provides something called the Cloud Shell that brings up a small virtual machine that has the Azure CLI and other tools installed on it.</p>
<p>To open it, you click here in the Azure Portal. If you haven’t used it before, then it’ll ask you for permission to create a storage account that the Cloud Shell VM can use. But I’ve used it before, so it comes right up.</p>
<p>Before we can deploy an app, we need to get one from somewhere. I’m going to use a sample .NET application. To get it, you can type this command.[dotnet new webapp -n MyFirstAzureWebApp -f net6.0 &amp;&amp; cd MyFirstAzureWebApp] To save you some typing, I’ve included this command in the transcript below. This command also moves you into the MyFirstAzureWebApp folder, which is where the app was downloaded.</p>
<p>Now that we have the app, we can deploy it to App Service using this command.[az webapp up –sku F1 –name <app-name>] The “az” means it’s an Azure command. “webapp” is the command for App Service. “up” tells it to create the web app using the code in the current directory. “sku F1” means that we want to use the free tier so we won’t be charged for this service. I’ll explain more about service tiers later. Then we say “–name” and what we want to call the app. I’m calling it “ca” for Cloud Academy”, “webapp”. You’ll have to call it something else because the name has to be unique among all of the App Service names across all Azure customers.</app-name></p>
<p>There are quite a few other options we can add, but we can get away with only including these ones. Some of the other most common options are:</p>
<ul>
<li>–resource-group for the resource group that it will put your App Service instance in</li>
<li>–location to specify the Azure region where your app will be hosted</li>
<li>–plan to specify which App Service Plan to use. I’ll tell you more about this in the next lecture.</li>
<li>–os-type, which can be either Windows or Linux. If you don’t specify one, then it’ll default to “Windows”.</li>
</ul>
<p>Since we didn’t specify any of these options, it’s going to create a new resource group and a new App Service Plan using default names, it will put everything in your default location, and it will use Windows for the operating system.</p>
<p>[Hit Enter]Okay, this is going to take a while, so I’ll fast-forward.</p>
<p>All right, it’s done. You can see the choices it made for the options we left out. For example, here’s what it called the App Service Plan, and here’s what it called the resource group.</p>
<p>Now to bring up the app we just deployed, we can use this link. We can click on it, but notice that it’s going to include the quote at the end, so it’ll give us an error. That’s okay because we can just remove the extra bit at the end.</p>
<p>That’s better. This is a very simple web page because that’s all that’s in the sample app. Now, suppose we wanted to make a change to the app. Normally, you’d probably do that in either Visual Studio or Visual Studio Code, but we can actually do it from Cloud Shell, too.</p>
<p>If you click here, it’ll bring up an editor. First, we’ll go into the MyFirstAzureWebApp folder, and then go into the Pages folder, which is where we’ll find the home page for our app. It’s called Index.cshtml.</p>
<p>Right now, the main text on the home page is just “Welcome”. Let’s change it to “Welcome to Azure”. Now we’ll save it and then close the editor.</p>
<p>Okay, we’re back at the command line. If we hit the up arrow, it’ll bring back our previous command. To update our app, we’ll use the “az webapp up” command again, but this time, we don’t need to specify the sku or the name.[Erase them and hit Enter.] I’ll fast-forward again.</p>
<p>All right, it’s done. Now if we go back to the web page and hit refresh, you’ll see that the message changed to “Welcome to Azure”, so it worked.</p>
<p>And that’s it for creating and updating a simple app.</p>
<h1 id="App-Service-Plans"><a href="#App-Service-Plans" class="headerlink" title="App Service Plans"></a>App Service Plans</h1><p>Although Azure App Service takes care of managing the underlying infrastructure for you, you still need to decide what type of infrastructure it should use. To do that, you need to create an App Service Plan.</p>
<p>The three main settings you have to choose in an App Service Plan are the operating system, the region, and the pricing tier. The operating system can be either Windows or Linux. For the region, you typically choose the one that’s closest to where most of your users are located, such as East US. Bear in mind that you can’t change a service plan’s region. So if you decide to move an app to another region later, you’ll have to make a copy of it and put it in a new App Service Plan.</p>
<p>Those first two settings are usually pretty easy to choose, but the pricing tier is much more complex. This is where you decide what type of compute resources to allocate and what App Service features you want. This table shows a summary of the different tiers, although it doesn’t actually show all of the options and features in each tier. I’ll walk you through some of the highlights.</p>
<p>If you’ll be using this plan for development and testing, then you can probably get away with using a low-powered and inexpensive option. The Free tier is a good choice as long as you only need 60 CPU minutes per day. If you need more CPU time than that, then you’ll have to go with a plan that costs money.</p>
<p>The next step up is the Shared tier, which is also known as the D1 tier. It gives you up to 240 CPU minutes per day. It’s called the Shared tier because you have to share compute resources with other Azure customers. That’s the case with the Free tier as well. Both of these tiers have just one gig of RAM and one gig of storage, so you can’t do too much with them. The Shared tier also allows you to use a custom domain name for your app’s website, which isn’t something you can do with the Free tier.</p>
<p>If you need more resources, then you can go with the Basic tier, which puts your apps on dedicated virtual machines instead of shared VMs. There are several options that vary based on the number of virtual CPU cores and the amount of memory. All of the options come with 10 gig of storage.</p>
<p>The next step up is the Standard tier, but although it has 50 gig of storage instead of 10 gig, the CPU and memory options are exactly the same as the Basic tier. The big difference is that the Standard tier supports autoscaling, which means it can automatically add more virtual machines to handle increased traffic. It lets you use up to 10 VM instances. That’s significantly more than the Basic tier, which has a maximum of 3 VM instances.</p>
<p>The Premium tier has options for more CPU, memory, and storage, and it lets you use up to 30 VM instances in most Azure regions.</p>
<p>The Isolated tier gives you a private, dedicated environment that’s in its own virtual network. While the Standard and Premium tiers allow you to connect your dedicated VMs to a virtual network, the Isolated tier actually puts your VMs in a private virtual network so they’re isolated from other App Service instances. It lets you have up to 100 VM instances.</p>
<p>Regardless of which pricing tier you choose, it’s possible to put multiple apps in your service plan. But all of those apps will share the same compute resources, so if you put too many apps in the same service plan, then you’ll run into performance issues.</p>
<p>One potential way to resolve this problem would be to add more virtual machine instances up to the limit of the number of instances allowed in the pricing tier you’ve chosen. This is known as scaling out. It’s also possible to set up autoscaling, which is such a complex topic that we cover it in a separate course.</p>
<p>If scaling out doesn’t solve the problem, then you can switch your plan to a pricing tier that has more powerful instances and&#x2F;or a higher limit on the number of instances you can have. This is called scaling up, and it’s very easy to do. You can simply select the new pricing tier, and it will only take seconds to go into effect.</p>
<p>And that’s it for App Service Plans.</p>
<h1 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h1><p>All right, let’s do a quick review of what you’ve learned.</p>
<p>Azure App Service tries to make deploying a web application as easy as possible by managing the underlying infrastructure for you.</p>
<p>It supports a wide variety of programming languages and frameworks, including ASP.NET, ASP.NET Core, Java, Ruby, Node.js, PHP, and Python. For most of these frameworks, you can choose whether to run it on Windows or Linux (although that’s not the case with ASP.NET Framework 4.8, which can only run on Windows).</p>
<p>To use a different programming language, put your application in a Docker container that has the right dependencies installed in it.</p>
<p>You can deploy apps to App Service from Visual Studio, Visual Studio Code, or the Azure Command-Line Interface. To do it from the command line, use “az webapp up”.</p>
<p>The three main settings you have to choose in an App Service Plan are the operating system, the region, and the pricing tier.</p>
<p>If you choose the Free tier or the Shared tier, you have to share compute resources with other Azure customers.</p>
<p>If you choose the Basic tier or higher, your apps will be put on dedicated virtual machines instead of on shared VMs.</p>
<p>Autoscaling is supported on the Standard tier and higher.</p>
<p>The Premium tier has options for more CPU, memory, and storage.</p>
<p>The Isolated tier gives you a private, dedicated environment that’s in its own virtual network.</p>
<p>Regardless of which pricing tier you choose, you can put multiple apps in your service plan. But all of those apps will share the same compute resources.</p>
<p>You can scale up the resources in your service plan by switching to a higher pricing tier. You can scale out your service plan’s resources by adding more VMs.</p>
<p>That’s all for now. Please give this course a rating, and if you have any questions or comments, please let us know. Thanks!</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/18/AZ-900-Understanding-Core-Azure-Storage-Products-9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/18/AZ-900-Understanding-Core-Azure-Storage-Products-9/" class="post-title-link" itemprop="url">AZ-900-Understanding-Core-Azure-Storage-Products-9</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-18 20:29:32" itemprop="dateCreated datePublished" datetime="2022-11-18T20:29:32-04:00">2022-11-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-20 00:32:28" itemprop="dateModified" datetime="2022-11-20T00:32:28-04:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AZ-900/" itemprop="url" rel="index"><span itemprop="name">AZ-900</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/18/AZ-900-Understanding-Core-Azure-Storage-Products-9/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/18/AZ-900-Understanding-Core-Azure-Storage-Products-9/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <span id="more"></span>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/18/AZ-900-Azure-Virtual-Machine-Availability-and-Scalability-Solutions-8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/18/AZ-900-Azure-Virtual-Machine-Availability-and-Scalability-Solutions-8/" class="post-title-link" itemprop="url">AZ-900-Azure-Virtual-Machine-Availability-and-Scalability-Solutions-8</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-18 20:29:31" itemprop="dateCreated datePublished" datetime="2022-11-18T20:29:31-04:00">2022-11-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-20 00:29:16" itemprop="dateModified" datetime="2022-11-20T00:29:16-04:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AZ-900/" itemprop="url" rel="index"><span itemprop="name">AZ-900</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/18/AZ-900-Azure-Virtual-Machine-Availability-and-Scalability-Solutions-8/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/18/AZ-900-Azure-Virtual-Machine-Availability-and-Scalability-Solutions-8/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <span id="more"></span>

<h1 id="Azure-Virtual-Machine-Availability-and-Scalability-Solutions"><a href="#Azure-Virtual-Machine-Availability-and-Scalability-Solutions" class="headerlink" title="Azure Virtual Machine Availability and Scalability Solutions"></a>Azure Virtual Machine Availability and Scalability Solutions</h1><p>Virtual machines have gone from being revolutionary to being a standard part of nearly every organization’s infrastructure. Now containers are the revolutionary technology, but VMs are still very important. Virtual machines give you full control over not only the software that you want to run but also the operating system. This is especially useful when you’re migrating existing servers to the cloud. When you use VMs to run mission-critical applications, you need to architect the solution so that it will keep running even if there’s a hardware failure, a system update, or a spike in demand.</p>
<p>First, let’s look at high availability, which means that an application will continue to run even if there’s a hardware failure or another event that would normally cause the application to go down. Microsoft offers a few different services to help with high availability. The first one is called an availability set. Microsoft doesn’t recommend using availability sets anymore because they have better offerings now, but I’ll still tell you about them because you’ll likely still see references to them.</p>
<p>An availability set is a group of virtual machines that’s designed to handle both planned and unplanned VM downtime. Planned downtime is when Azure updates the infrastructure underlying your VMs, and this update requires a reboot of the VMs. Unplanned downtime is when a VM goes down unexpectedly, such as when it has a critical hardware failure.</p>
<p>To handle planned downtime, an availability set groups its VMs into what are called update domains. Azure will only perform planned maintenance on one update domain at a time. That way, while the VMs in a particular update domain are being rebooted, the VMs in the other update domains will keep running. You can configure up to 20 update domains when you create an availability set.</p>
<p>Unplanned downtime is handled in a similar way by using fault domains. Each fault domain has a separate power source and network switch. This limits the downtime caused by hardware failures. For example, if there’s a power failure in one fault domain, the VMs in the other fault domains should keep running because they don’t use the same power source. The maximum number of fault domains you can use depends on the region where your VMs reside. In many regions, the maximum is three, but in some, it’s only two.</p>
<p>Each VM is in both an update domain and a fault domain. Azure will distribute your VMs into these domains automatically. To qualify for Microsoft’s 99.95 percent uptime guarantee under its service level agreement, you need to have at least two VMs, at least two fault domains, and at least two update domains. </p>
<p>Using availability sets will give your applications a high level of availability, but they won’t protect against a data center failure. That’s where availability zones come in. They’re an alternative to availability sets. An availability zone is a physically separate zone within an Azure region. So, if one zone goes down, the other zones will likely stay up. Not every region offers availability zones, but in the ones that do, there are always three of them.</p>
<p>To take advantage of this capability, you should deploy multiple replicas of your application’s VMs in different availability zones. You can specify a particular availability zone when you create each VM.</p>
<p>However, even this level of redundancy won’t protect you against an outage that affects an entire region. Regional outages aren’t common, but they can happen. So, if you need higher availability than a single region can provide, you’ll have to use multiple regions. In most cases, it’d be sufficient to simply back up your VMs to another region. Then if the region where your VMs are deployed goes down, you can temporarily bring up replacement VMs in the second region by using your backups. If you can’t tolerate almost any downtime, then you could have VMs running in the backup region all the time.</p>
<p>When choosing a backup region, you should take into account regional pairs. Nearly every one of Azure’s regions is paired with another region. Some <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Azure</a> services replicate their data across regional pairs if you choose certain options. For example, if you choose the geo-redundant storage option for an Azure Storage account, then your data will be replicated to the paired region.</p>
<p>Virtual machines don’t replicate across regional pairs, but you should still consider storing your VM backups in the paired region. That’s a best practice because Microsoft tries to ensure that at least one region in each pair is available. In the event of a multi-regional outage, Microsoft will prioritize the recovery of one region in each pair, so your safest option for a backup region is the paired region.</p>
<p>All right, now that we’ve covered availability, let’s move on to how you can configure your application to handle spikes in demand. This is referred to as scalability.</p>
<p>The simplest way to scale is to switch an individual VM to a larger size. This is known as vertical scaling. It’s easy to do, but there are limits to that approach. Horizontal scaling, on the other hand, is when you scale by adding more VMs. It’s more complicated to scale horizontally, though.</p>
<p>First, you need to architect your application so it can run across multiple identical machines. Ideally, you should make that tier of your application stateless. That is, the VMs should not store any data locally. Otherwise, the application wouldn’t scale well because client requests would be tied to particular VMs. So the application should save data in a shared external datastore.</p>
<p>Next, you need to create a scale set. This is similar to an availability set because the VMs are distributed across fault domains and update domains, but you can do a lot more with it.</p>
<p>You can configure a scale set to automatically increase or decrease the number of VMs in it according to rules you define. For example, you can create a rule that says if the average CPU usage goes above 80%, then add 3 more VMs. You can also use disk and network metrics in your rules. If you need to scale based on guest operating system metrics, such as available memory or number of processes, then you can enable the diagnostics extension. This will even let you use custom metrics based on something specific in your application logs. </p>
<p>You’ll also usually want to set limits on how far a scale set can scale up or down by configuring a maximum and minimum number of VMs. Considering that a scale set can have up to 1,000 VMs in it, setting a maximum is a good idea. Note that if you’re using custom VM images rather than Azure’s standard images, then the maximum is 600 VMs per scale set.</p>
<p>By default, a scale set is deployed in a single zone. This is called a zonal scale set. But for the ultimate in availability and scalability, you can deploy a scale set across availability zones. This is called a regional scale set. It evenly distributes VMs across the three availability zones in a region. This distribution happens both when you create the scale set and also when it automatically adds or removes VMs during scaling operations. As you can see, combining scale sets with availability zones gives you the best of both worlds.</p>
<p>And that’s it for virtual machine availability and scalability.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/18/AZ-900-Start-Your-First-Azure-Virtual-Machine-Windows-7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/18/AZ-900-Start-Your-First-Azure-Virtual-Machine-Windows-7/" class="post-title-link" itemprop="url">AZ-900-Start-Your-First-Azure-Virtual-Machine-Windows-7</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-18 20:29:29" itemprop="dateCreated datePublished" datetime="2022-11-18T20:29:29-04:00">2022-11-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-20 00:32:46" itemprop="dateModified" datetime="2022-11-20T00:32:46-04:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AZ-900/" itemprop="url" rel="index"><span itemprop="name">AZ-900</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/18/AZ-900-Start-Your-First-Azure-Virtual-Machine-Windows-7/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/18/AZ-900-Start-Your-First-Azure-Virtual-Machine-Windows-7/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <span id="more"></span>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/18/AZ-900-Knowledge-Check-AZ-900-Overview-of-Azure-Services-2of2-Security-and-Management-6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/18/AZ-900-Knowledge-Check-AZ-900-Overview-of-Azure-Services-2of2-Security-and-Management-6/" class="post-title-link" itemprop="url">AZ-900-Knowledge-Check-AZ-900-Overview-of-Azure-Services-2of2---Security-and-Management-6</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-18 20:29:28" itemprop="dateCreated datePublished" datetime="2022-11-18T20:29:28-04:00">2022-11-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-20 00:30:14" itemprop="dateModified" datetime="2022-11-20T00:30:14-04:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AZ-900/" itemprop="url" rel="index"><span itemprop="name">AZ-900</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/18/AZ-900-Knowledge-Check-AZ-900-Overview-of-Azure-Services-2of2-Security-and-Management-6/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/18/AZ-900-Knowledge-Check-AZ-900-Overview-of-Azure-Services-2of2-Security-and-Management-6/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <span id="more"></span>

<p><object data="Knowledge-Check-AZ-900-Overview-of-Azure-Services-2-of-2.pdf" type="application/pdf" width="100%" height="600"></object></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/66/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/66/">66</a><span class="page-number current">67</span><a class="page-number" href="/page/68/">68</a><span class="space">&hellip;</span><a class="page-number" href="/page/274/">274</a><a class="extend next" rel="next" href="/page/68/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Hang Zhang"
      src="/images/123456.gif">
  <p class="site-author-name" itemprop="name">Hang Zhang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">2736</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">72</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/zh375636" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zh375636" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:hang.zhang.network@gmail.com" title="E-Mail → mailto:hang.zhang.network@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hang Zhang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>



// 在最后添加
<script src="/js/code-unfold.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : '40GUvOAaitQh1SZe7ua9cvss-MdYXbMMI',
      appKey     : 'iUO2yON0j55WMdu59zx12dCG',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
