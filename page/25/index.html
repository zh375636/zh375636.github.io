<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Hang&#39;s Blog">
<meta property="og:url" content="https://example.com/page/25/index.html">
<meta property="og:site_name" content="Hang&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Hang Zhang">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://example.com/page/25/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Hang's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hang's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/19/GCP-Professional-Architect-Define-and-Deploy-Resources-with-Google-Cloud-Deployment-Manager-8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/19/GCP-Professional-Architect-Define-and-Deploy-Resources-with-Google-Cloud-Deployment-Manager-8/" class="post-title-link" itemprop="url">GCP-Professional-Architect-Define-and-Deploy-Resources-with-Google-Cloud-Deployment-Manager-8</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-19 00:14:04" itemprop="dateCreated datePublished" datetime="2022-11-19T00:14:04-04:00">2022-11-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-20 19:40:06" itemprop="dateModified" datetime="2022-11-20T19:40:06-04:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GCP-Professional-Architect/" itemprop="url" rel="index"><span itemprop="name">GCP-Professional-Architect</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/19/GCP-Professional-Architect-Define-and-Deploy-Resources-with-Google-Cloud-Deployment-Manager-8/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/19/GCP-Professional-Architect-Define-and-Deploy-Resources-with-Google-Cloud-Deployment-Manager-8/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <span id="more"></span>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/19/GCP-Professional-Architect-Working-with-Google-Cloud-Storage-from-the-Command-Line-7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/19/GCP-Professional-Architect-Working-with-Google-Cloud-Storage-from-the-Command-Line-7/" class="post-title-link" itemprop="url">GCP-Professional-Architect-Working-with-Google-Cloud-Storage-from-the-Command-Line-7</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-19 00:14:02" itemprop="dateCreated datePublished" datetime="2022-11-19T00:14:02-04:00">2022-11-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-20 19:40:46" itemprop="dateModified" datetime="2022-11-20T19:40:46-04:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GCP-Professional-Architect/" itemprop="url" rel="index"><span itemprop="name">GCP-Professional-Architect</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/19/GCP-Professional-Architect-Working-with-Google-Cloud-Storage-from-the-Command-Line-7/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/19/GCP-Professional-Architect-Working-with-Google-Cloud-Storage-from-the-Command-Line-7/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <span id="more"></span>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/19/GCP-Professional-Architect-Google-Cloud-Platform-Systems-Operations-6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/19/GCP-Professional-Architect-Google-Cloud-Platform-Systems-Operations-6/" class="post-title-link" itemprop="url">GCP-Professional-Architect-Google-Cloud-Platform:-Systems-Operations-6</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-19 00:14:01" itemprop="dateCreated datePublished" datetime="2022-11-19T00:14:01-04:00">2022-11-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-20 19:35:44" itemprop="dateModified" datetime="2022-11-20T19:35:44-04:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GCP-Professional-Architect/" itemprop="url" rel="index"><span itemprop="name">GCP-Professional-Architect</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/19/GCP-Professional-Architect-Google-Cloud-Platform-Systems-Operations-6/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/19/GCP-Professional-Architect-Google-Cloud-Platform-Systems-Operations-6/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <span id="more"></span>

<h1 id="Course-Introduction"><a href="#Course-Introduction" class="headerlink" title="Course Introduction"></a>Course Introduction</h1><p>Welcome to the Google Cloud Platform: Systems Operations course. I’m Ben Lambert and I’ll be your instructor for this course. The goal of the course is to cover some of the services that are part of Google Cloud’s infrastructure as a service options.</p>
<p>Here’s what you’ll get out of this course. By the end of the course, you should understand how to Compute Engine to create virtual machines, as well as how to create disk snapshots, how to create images, how to create instance templates and groups. And you’ll learn how to create networks and how to use the auto scaler and load balancer.</p>
<p>Before you start, there are some assumptions that I’ve made about you. I assume you’re familiar with general IT concepts. Maybe you’re a systems administrator or operations engineer looking to expand your skill set to Cloud platforms. I assume you’re familiar with the basics of cloud computing as well. If you’re not, I recommend that you check out the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/what-is-cloud-computing-introductory/introduction-8/">What is Cloud Computing?</a> course by Stuart Scott. Then follow it up with the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-fundamentals/course-introduction-1/">Google Cloud Platform: Fundamentals</a> course before continuing.</p>
<p>Okay, here’s our agenda for this course. We’ll start off with an overview of the platform. We’ll move on to cover Compute Engine instances. We’ll talk about networking, then we’ll talk about disks and images. After that, we’re going to cover authorization and IAM. Then, we’re going to talk about snapshots. After that, we’ll follow it up a review of cloud storage. Then we’ll talk about instance groups. We’ll cover a crash course on Cloud SQL. Then we’ll go through metadata and startup and shutdown scripts. We’ll follow that up by auto scaling and load balancing. Then our final lesson is going to put some of these components together into a single demo.</p>
<p>So if this course has piqued your interest, then let’s get started with the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/getting-started-4/">first lesson</a>.</p>
<h1 id="Getting-Started"><a href="#Getting-Started" class="headerlink" title="Getting Started"></a>Getting Started</h1><p>Welcome back. In this lesson we’re going to be talking about projects. If you completed the Google Cloud platform fundamentals course then this lesson is going to be a bit of a review. However since projects are the starting point for all of our work, it’s worth going over again.</p>
<p>Projects are used to create isolated environments. It’s used to create different applications or different environments for a single application. As an example, if we had an application called pizza-time then we might have a project for development named dev-pizza-time and another for staging called staging-pizza-time and one for production named production-pizza-time. So, we can enable services and resources that are linked to a specific project and each project is billed separately. Though it can use the same billing account, if we want to.</p>
<p>Once we have a project, we’ll need to be able to identify it and we’ll have different mechanisms to do that. Projects have three identifiers. We have the name, which is the human friendly identifier. There’s the ID, which is kind of the developer’s ID. It’s the identifier that we used on the command line tools, or passed into any URLs. And then we have the project number. And this is a Google generated number used behind the scenes to identify our projects. Keep in mind some of the automated emails that Google sends out are going to use this number as the project reference.</p>
<p>We can find these different identifiers on the settings tab of the IAM &amp; Admin page. Let’s imagine you received an automated email from Google informing you that your project is violating the terms of service and they provide you with the project number. Well, for most of us we don’t pay attention to that number. So, if you have a lot of projects then going through each of them to find that can be a pain and this where the G cloud command line tool comes in. You can run the G cloud projects list command to get a listing of all of the projects and it will show the name, ID, and number for each of them. And this is going to make it easier to zero in on the correct project.</p>
<p>Okay now that we can find projects by name, number, or ID, let’s move on to talk about project resources. First, what do I mean, when I say resources? In this context, resources are things such as virtual machine images, disk snapshots, networks, and other components that we use to create our infrastructure and applications. And resources have different types depending on where they can be accessed from. Let’s list off the different types of resources and then let’s go into them each a bit more. We have global resources, regional resources, and zone-based resources.</p>
<p>Just in case you need a quick refresher about regions and zones. A region is a geographic area in the world and regions have zones inside of them. And those zones are basically data centers that are physically inside of that geographic region.</p>
<p>So, starting at the bottom of our list. If a resource belongs to a zone then it lives in just one zone. And it can interact with other zone-based resources that live in that same zone. Some example of zone-based resources are things such as instances and disks. This makes sense when you consider that a single running VM is only running on one server and while it could be moved to another server it runs on one at a time. So, zone-based resources are things that aren’t likely to be distributed across multiple servers.</p>
<p>Moving up the list we have regional resources, which are resources that are accessible inside of a given region. As an example, a static external IP address is a regional resource. You can assign it to any instance that’s running in the same region. And recall that instances are zone-based meaning zone-based resources can interact with resources that have a broader scope.</p>
<p>And then we move to the top of the list and we have global resources. Global resources are accessible by any resource in any zone within the same project. These global resources are things such as virtual machine images, or persistent disk snapshots. Being global means that we have these resources to use in any zone. So, if we create a custom image then we can use that in any zone that we choose.</p>
<p>Like I mentioned at the beginning, we’re going through this stuff again even though we’ve covered it in the fundamentals course because this is important to understand. Understanding the resource types will help us to make conscious decisions about how we allocate them and where we allocate them. For example, if we’re going to use a VM image, which is a global resource, to create a virtual machine instance and we need to choose which zone that instance is going to run in. And depending on the application and architecture that could impact latency for some users. So we need to understand where resources will run and what they’ll have access to.</p>
<p>Okay, so we have projects that will serve as an isolated environment for us to enable and use different resources in. And once we start using different resources we need to think about potential quotas and limits that we may run into. Quotas determine the amount of a given resource that we create per project or region. And limits determine things such as, how many requests we can make against a given API in a certain time frame. For the most part the quotas are to protect us from accidentally allocating let’s say a million VMs and going broke. Or from those same million VMs causing latency issues for the rest of the Google Cloud Platform customers. Now of course that’s an exaggerated example to make a point, however the quotas are there to help us. So, if you need a quota cap increased you can create a support ticket because most of the quotas can be increased.</p>
<p>Let’s move on from projects and resources now to talk about how we interact with the <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/google/">Google Cloud Platform</a> as a whole. We have three options. We can use the Cloud Console, the SDK, and the rest API. We can use the Cloud Console, which is the web user interface and it will allow us to do just about everything we need, however some tasks need to be done in code or on the command line. An example of this is, we can look at the different Cloud data store indeces, however we can’t create them from the console. We need to upload an index configuration on the command line.</p>
<p>And that leads us to our second way of interacting with the Google Cloud Platform and that’s the Cloud SDK. That’s a suite of command line tools and that extends to Cloud Shell, which is a Google provided web-based terminal that has the Cloud SDK pre-loaded. It’s basically a Debian VM that you can access through you web browser and this is a very cool feature to me. Actually this one saved me a weekend. I was visiting some family and I was a couple hours away from home and I was without my laptop. I got an IM from a coworker letting me know that some of the users for our product were getting an 500 error on the profile page. However, my father-in-law let me use his Mac and I was able to log into the console, launch Cloud Shell, and then use it to pull the latest code from source control. I skimmed through the logs, I noticed the problem, and used nano to fix the issue. And then committed it back to Git. And then from there the CI process kicked off and deployed the code. This resolved the issue for the users thankfully and saved my weekend.</p>
<p>Cloud Shell has Git and several programming languages pre-loaded in addition to the Cloud SDK. So, it also gives us five gigs of persistent storage mounted to our home directory. And that allows us to install any tools that we may need to use. And now there’s a new update that Cloud Shell even has a web based code editor. So, that’s really cool. Not needing to install a bunch of things locally or for me driving two hours home was just fantastic, so I’m rather partial to Cloud Shell.</p>
<p>The third way to interact with Google Cloud is through the Rest API. Just about all of the functionality of the platform is exposed via Rest API and these different APIs are gaining functionality on a regular basis. Google provides us with a tool as well to test out this functionality and it’s the aptly named API Explorer. It’s going to give us a simple to use interface for testing things out.</p>
<p>Let’s actually check it out. Check out here we have this list of all of the different APIs. So, we scroll through you can see there’s quite a bit. And now let’s pick something. Let’s go with the translate API cause that’s a nice one to show as a demo. And we can translate some texts from English to let’s say Italian. So if we try translating Hello, and let’s just set these variables here. Okay great. Now let’s run this. And we scroll down and we can see the output of Ciao. So we can use this to test out all kinds of APIs and I like to use this when I’m learning a new API, to kind of figure out the mechanics of it.</p>
<p>Alright let’s wrap up the lesson here. We’ve covered projects, we talked about resources and how to interact with them, and now these are going to be the basis for all of the things that we’re going to do with the Google Cloud Platform from here on out in the following lessons. In our next lesson we’re going to talk about <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/compute-engine-instances/">Virtual Machine Instances</a>. So, if you’re ready to keep learning then let’s get started.</p>
<h1 id="Compute-Engine-Instances"><a href="#Compute-Engine-Instances" class="headerlink" title="Compute Engine Instances"></a>Compute Engine Instances</h1><p>Welcome back. In this lesson, we’re going to talk about virtual machine instances. We’ll talk about Compute Engine and creating instances and then once we have our instances running, we’ll need to connect to them, so we’ll talk about that as our closing topic.</p>
<p>Sometimes, we’re building something like a web application and using hosted platforms like AppEngine makes a lot of sense. It abstracts away the need to think about individual virtual machines and that can make life easier on developers and operations. However, there are still plenty of applications and workloads that are better suited for running on VM instances. Things such as batch processing jobs as well as lifting and shifting legacy applications to the Cloud. And this is the rule of Compute Engine. And it’s one of Google’s compute offerings. It allows us to create networks and virtual machines and structure things just the way we need to.</p>
<p>Now, maybe you need something like a fairly simple small Ubuntu VM to run some legacy application or maybe you’re working with something larger and more complex like a multi-player video game backend. Either way, Compute Engine has the ability to make all of that happen.</p>
<p>So what does Compute Engine offer in the way of features? It provides pre-configured machine types such as high CPU and high memory as well as standard or shared-core machine types. We’ll cover these more in-depth in just a bit. It also provides persistent disks and these can be in the form of standard or SSD and even local SSD. And we can take snapshots of these disks as well and that will allow us to make back-ups or to create a base image.</p>
<p>Compute Engine also provides a metadata server which is really cool. The way it works is that we can get and set metadata related to the project or a running instance. The metadata server also holds things such as the startup and shutdown scripts. So whenever a server starts up, which includes a reboot, the startup script can run and initialize things. It’s going to allow us to bootstrap our code or a configuration management client. And besides all of this good stuff, we also get APIs for auto scaling, we get per-minute billing, and custom machine types. And we’ll be talking more about this stuff as we progress throughout the course.</p>
<p>Compute Engine is classified as infrastructure as a service, which is ideal for general computing workloads. And that means it takes more effort to create and manage the environments we need. However, it also means we have fewer limitations. You can select the tools and languages that work for you.</p>
<p>Now that we’ve talked about some of the cool features that Compute Engine offers, let’s dive into actually creating instances. I want to make a quick point of clarification between image and instance. An image is basically a snapshot of a disk. And an instance is a copy of an image that contains a boot disk and it’s one that can be started and stopped and deleted. It’s an actual bootable VM.</p>
<p>Google provides us with several images based on common operating systems, though we can also create our own images if the existing ones don’t work for us. Instances are created under a project and require a unique name. An instance needs a boot disk and a machine type. And when we create a VM instance, it will use other Compute Engine resources as needed, and that’s things such as persistent disks, IP addresses, et cetera. Both instances and pre-defined machine types are zone-based resources.</p>
<p>Pre-defined machine types determine the hardware configuration. We mentioned it previously; there are four major types of pre-defined machine type. We have high memory, high CPU, standard, and shared-core. High memory machine types are ideal for tasks that require more memory relative to virtual CPUs. High memory machine types have 6.5 gigs of RAM per virtual CPU. High CPU machine types are ideal for tasks that require more CPU relative to memory. They have .9 gigs of RAM per virtual CPU. Standard machine types are good for tasks that need that balance between CPU and memory. Standard machine types have 3.75 gigs of RAM per virtual CPU. And then finally we have shared-core machine types which provide one virtual CPU and it’s allowed to run for a proportion of time on a single hardware hyperthread on the host CPU that’s running your instance. These are really designed to be cost-effective for running very small applications that aren’t really resource-intensive. Now, if you skim over the list and none of these pre-defined machine types are what you need, then you can also use a custom machine type.</p>
<p>A custom machine type can be very cost-effective because it uses just the resources that you want. So if you need a machine that has one virtual CPU and one gig of RAM, you can do that. There are, however, some rules that you need to follow when creating a custom machine type. For example, anything over one CPU needs to be an even number and memory needs to be between .9 gigs and 6.5 gigs per virtual CPU. The total memory needs to be a multiple of 256 megabytes and also the maximum number of virtual CPUs allowed depends on the zone. Some processors can support more than others.</p>
<p>Okay, earlier I mentioned that instances need a machine type and a boot disk, and we’ve just talk about machine types. So let’s cover boot disks. You can create an instance boot disk from the pre-defined images Google provides, or from a custom image which you could store on Cloud Storage or from a snapshot. So imagine you create an instance using a pre-defined image such as Debian, and then you install your web server software and get it all configured. You can then take a snapshot of that and use that to create new instances. And those new instances will have the same configuration and set-up of the instance the snapshot was based on at the time the snapshot was taken. Now this is a simple but very powerful mechanism because we can use it to set up base images or to restore an instance from back-ups and other uses. Now if you’re using Linux, you can import an image from a raw disk image from existing Amazon AMIs or from a virtual box image. So this allows us to create our own custom virtual machine image. This can be really useful if we need control over the base image or if the public base images don’t fit our needs. This is often useful when you need an OS that isn’t already in the public images. However, it’s also useful if you have very strict security requirements.</p>
<p>Let’s see what it looks to actually create an instance through the console. Okay, you can see that once we get to the creation form, we have some options we need to fill out. We have the instance name, and recall that this needs to be unique to the project. And then we have the zone that we want this to run in. And we have the boot disk and we can base it on public images, we can use a snapshot, or if we have an existing disk that isn’t already attached to a running instance, we can use that. We’re just going to select Debian. And while there’s more we could fill out here, we’re not going to be talking about those features ‘til later on in the course, so we’re going to leave these as the default and we’re going to select create. Okay, now if we look at the instances list, we can see our new instance is there. Let’s use the command line interface so that we can describe the instance on a command line and you can see what it looks like to interact with it through the SDK.</p>
<p>So we’ll use the gcloud compute command and we’ll use the describe instances subcommand. And we get back all of this info. Now, this is the same basic info that you’d see if you were to interact with a rest API, the SDK is just using the rest API on our behalf. Now you can probably imagine the potential here from programmatically creating instances and returning data about them, or maybe programmatically identifying instances that aren’t using a specific operating system that maybe you require for compliance reasons.</p>
<p>So we’ve just created a default Debian instance, which we could use for whatever we need. It’s just a standard instance, but there are times when maybe we want to run complex batch tasks. And things such as this tend to do well with more computing power, and so Google offers what they call a pre-emptible instance. These are virtual machine instances that are less expensive and they run for a maximum of 24 hours. And the catch is that if the <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/google/">Google Cloud platform</a> needs the resources back from these instances, they can terminate them without notice. Because of all this, we’re able to use shutdown scripts to gracefully close out of any running tasks that we had. Now again, this isn’t going to be suitable for all workload types, however, batch processing typically will stay running as long as we have the batch controller up and running. So in this case, pre-emptible instances will allow us extra less-expensive horsepower.</p>
<p>Okay, once we have an instance such as our Debian instance, we’re going to need to connect into it. To connect to a Linux VM, we can use SSH. To connect to a Windows VM, we use RDP. For SSH, the simplest method is to connect via the gcloud command because gcloud will automatically handle the SSH keys, though it’s also possible to generate SSH keys on our own that we can use with other tools.</p>
<p>Before we connect in, we need to make sure we have port 22 open, and the default network will create a firewall rule automatically for us that opens that port up. Once the port’s open, we can connect in. If we’re either an editor or an owner, as a role for that project, we can use the gcloud compute SSH command and it will copy down the keys required to connect in without any effort on our part. Non-project members will need to use an SSH client other than the gcloud compute command because they won’t have access to pull down those keys.</p>
<p>Let’s connect into our instance. We’ll run the gcloud compute SSH command and it needs to know the instance name and the zone. Okay, now once it connects in, we get our command-line interface that we’re used to when connecting in via SSH. Again, because I’m an owner of this project, I can easily this gcloud compute command to connect in, but if you weren’t, you would need to generate the keys yourself and use just the standard SSH command.</p>
<p>Okay, so imagine we’ve created our instance, we connect in, and we’re setting things up and we’re finding that the servers that we’re expecting to see just aren’t on that network. What happens is, we look around and find out that we’re in the wrong zone. And sometimes this happens, so when that happens, we have a few methods for moving an instance to another zone. We can use the gcloud command, calling the gcloud compute instances move command, and that’s going to allow us to move an instance to a new zone. And since the gcloud commands are based on the REST API, then that means we could also use the API directly and optionally, we could take a snapshot of the disk and then use that to start up a new instance in the correct zone.</p>
<p>Once we have an instance or instances up and running, we’ll end up needing to stop them at some point. And that’s made simple again with the REST API, the gcloud command, or through the console. And we can also use the shutdown command from inside of the operating system. However there are issues with shutting down this way if you have a local SSD attached. So if you’re planning on using the local SSD, make sure you look into the limitations first.</p>
<p>Now, between our startup process and the shutdown process, there are a few different statuses or states that an instance could be in. An instance has the provisioning state where resources are reserved for the instance, and then the instance moves into the staging status, where resources are acquired and the instance is being prepared and after that, we’re in the status that we call running, and this just means that the VM instance is running. However, it doesn’t mean that the operate system has fully booted, it just means that the instance has started up. And then if we shut down our instance or there’s some sort of failure, we enter the stopping status. And then once it’s completely stopped, we change to the terminated status, which sounds ominous, but terminated doesn’t mean it’s completely gone, what it means is it’s just shut down until we start it up again.</p>
<p>Okay, now that we know about instances and we know about how to start one up, how to shut one down, let’s talk about <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/networking-2/">networking</a> and that’s going to be the subject of our next lesson so if you’re ready to learn more about how Google Cloud platform handles networking, then let’s get started with the next lesson.</p>
<h1 id="Networking"><a href="#Networking" class="headerlink" title="Networking"></a>Networking</h1><p>Welcome back. In this lesson, we’ll talk about networking on the <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/google/">Google Cloud Platform</a>. We’ll start with a high-level overview of network fundamentals, and then we’ll move on to cover firewall rules. We’ll talk about network management, and finally, we’ll take a look at how to connect to instances without an external IP address. </p>
<p>So we have a lot to cover in this lesson, and let’s start off by talking about network fundamentals. Networks on Google Cloud Platform are a global resource, which means they’re visible to all of the resources in our project. There are three supported protocols, TCP, UDP and ICMP, and for most applications, this will probably be all we need. </p>
<p>Also, they only support IPv4 at the moment. Every VM instance that we create belongs to a network. Now, you may be thinking back to when we created that Debian instance and you’re trying to recall when we selected a network. In that example, we didn’t explicitly select a network. By default every project that has the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/compute-engine-instances/">compute engine</a> API enabled has a Google-created network, and if we don’t specify a network for our instances that Google-created default is used. </p>
<p>The networks for the Google Cloud Platform have evolved over time so we have two different types of networks currently. We have the Legacy networks which use globally allocated IP addresses and then we have the newer and recommended subnetworks, which regionally control the IP addresses available for instances in that subnet. </p>
<p>So if subnetworks are the recommended way of doing things what are the benefits? Here are just a few. First, subnetworks allow you to regionally segment the networks IP address space into prefixes, and control which prefix an instance’s internal IP address is allocated from. Also, when using a VPN, subnetworks allow you to target VPN tunnels to a particular region. And this allows you additional control over how VPN routes are configured. </p>
<p>This also results in lower latency in cases where the VPN would previously have assumed the IP address range span across all regions. Another benefit, the overall network IP address space doesn’t have to be determined when you first create the project. And that’s just three of the many benefits. Subnetworks are going to allow for more control and for breaking out environments in a more defined way. </p>
<p>When we use subnetworks, we have two options for assigning an IP address range. We can use the Auto Subnetwork networks or the Custom Subnet networks. And once we’ve selected which type we want for a given subnet network we can’t change it. The automatic will select the IP address prefixes automatically and the custom will allow you to select any private IP address range that you want. </p>
<p>So, with the subnetworks, we can create regional networks each with their own IP address prefix. Now once we have instances up and running, and even instances across different subnets, we’ll need a way to control the flow of packets within our network. And that’s what routes provide. With routes, we can specify where packets that are addressed to a specific range should be directed to. </p>
<p>Routes will allow us to very easily to control the flow of outgoing traffic from instances, allowing us to route everything through a proxy if we wanted to or somewhere else. For the most part, the default routes will handle our outgoing traffic. So unless we need something more advanced we really won’t need to create new routes. </p>
<p>Okay, so once we have instances and networks we’ll need to start thinking about securing the perimeter. Firewall rules are global resources, and they enable us to allow or deny incoming or outgoing traffic on our network, which include three open ports one for ICMP, one for SSH, and one for RDP. And it also allows traffic between instances to flow unrestricted. </p>
<p>Next up, let’s shift gears and talk about identifying instances by hostname or IP address. Each instance has a Metadata server that will act as a DNS server. </p>
<p>The Metadata server is something that we will be talking about in depth in a later lesson. For now just now that it stores the DNS entries for all network IP addresses on the local network and calls Google’s Public DNS server for entries outside of the network. If you want to communicate between servers using the fully qualified domain name it follows the pattern of Hostname.c.projectid.internal. Now the side using the fully qualified domain name we also have an internal and external IP address. Internal IP addresses can either be ephemeral which means they don’t stick around after they are no longer needed or they can be set up by a user when the instance is created. </p>
<p>When instances talk to each on the network they use the internal IP address. External IP addresses are used for addressing the instance from outside of the network. They can be reserved as a static IP address or can be created beforehand and attached to instances as well as being ephemeral. </p>
<p>Alright, by this point we know a bit about networking on the Google Cloud Platform. We know about Networks and Subnetworks and we talked about routes and firewall rules. And we just talked about hostnames and internal and external IP addresses. Now let’s talk a bit about how to manage that. It starts with enabling the Compute Engine API and doing that will create the default Automatic Subnet Network and the firewall rules associated with it for allowing ICMP, SSH, and RDP traffic as well as internal network traffic. </p>
<p>Once that’s enabled you can create additional subnet networks up to the quota limit and you can also delete subnet networks except for the last one. There needs to be at least one at all times. And you can also create firewall rules and routes which like subnet networks are subject to quota limits. </p>
<p>At a certain point you may end up with a lot of firewall rules and to help make management easier you can use tags. Now, this is a great feature. You can assign tags to a firewall rule and you can assign them to virtual machine instances and that enables us to have our firewall rules apply to any instances that are tagged with the same tags used for firewall rules. </p>
<p>Here’s an example. Imagine you have an instance running an FTP server so you need port 21 open. You could create a tag and you can name it whatever you want however in our example we’ll name it FTP Server. Now if you create a rule that opens up port 21, then you can tag that rule with the same value of FTP Server. </p>
<p>And because the instance and the rule share the same tag, that rule is gonna apply to that instance. And if we create a new instance or new instances then all we need to do to open up Port 21 is apply that tag. So, while we’re talking about Firewall rules it’s worth pointing out, they’re not just limited to a single port. </p>
<p>Firewall rules allow us to filter traffic to a single network and we can specify IP addresses as well as the ports we want to filter for that single rule. OK. In a previous lesson, we created a Linux VM we connected to via SSH. Now, that worked because we had an external IP address and we had firewall rules that opened up port 22. </p>
<p>If you only have the one instance then this works out just fine. However, if you have multiple instances, and even multiple networks, this is no longer optimal because you don’t want to expose all of your instances to the outside world if it’s really not required. This is a common scenario. So, there are options to allow us to connect into our instances without external IP address for those instances. </p>
<p>The first option is to create a bastion. And this serves as a gateway allowing us to connect into it via SSH and then from there, we can kind of springboard to the other servers we want to connect to, and this works because we give that bastion host an external IP address and we open up port 22 to it. </p>
<p>This workflow requires that we keep that bastion host hardened from the outside so that it’s secure. Though, it is a good solution when we have cloud-native infrastructure. Now what I mean by that is if we already have a company network, then using a site to site VPN makes more sense. It would allow us to connect a company network to the cloud network. So, a site to site VPN is our second option. </p>
<p>The third option is a NAT gateway. If an instance doesn’t have an external IP address, it can’t communicate with anything outside its network. So what a NAT gateway does is allow traffic from those instances to flow through it. Allowing traffic from the instances on the network to communicate with the outside world through it. </p>
<p>This option requires a fair bit of setup and the NAT gateway becomes a single point of failure. However, it’s an option that may work in some cases. And the final option for connecting to an instance is via the Serial Console. This option allows us to use the web Console, the GCloud command-line, or the SSH client to connect to an instance via its serial port. </p>
<p>Using this does require that we enable the feature with a metadata key-value setting. However, should you need to connect to a single instance for troubleshooting those one-off issues, this could be useful. </p>
<p>Alright, that’s gonna wrap up this lesson. In our next lesson, we’re going to cover <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/disks-and-images/">Disks and Images</a>. So, if you’re ready to keep going, then let’s get started with the next lesson.</p>
<h1 id="Disks-and-Images"><a href="#Disks-and-Images" class="headerlink" title="Disks and Images"></a>Disks and Images</h1><p>Welcome back. In this lesson we’ll be talking about persistent disks, SSDs, RAM disks, boot disks, and virtual machine images. Let’s jump right into it.</p>
<p>Persistent disks are important because they allow us to store the operating system and&#x2F;or any persistent data that we’ll need to run our server and applications. Persistent disks are zone based resources and they are encrypted by default. Each instance can have a maximum of 16 persistent disks and up to 64 terabytes of storage. And while typically disks would be attached to a single instance, it is possible to attach one to multiple instances in read only mode and that’s kind of cool.</p>
<p>Let’s head in to the console and check out how to actually create a new disk. So we start on the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/compute-engine-instances/">compute engine</a> page and we click on the disks section on the left-hand side navigation and it starts with a name. And we’re going to call ours app-disk. We’ll skip the optional description. We don’t need it for this demo. And then let’s select a zone. We’re going to leave the disk as a standard disk though we could use it as a SSD, but again for a demo that’s not really needed. Then let’s pick an image. We don’t have any snapshots so we can’t select that anyway. Let’s use a ubuntu image. Okay, we need a size. That 10 gigs by default is going to be fine. Then we’ll also leave the encryption set to automatic. Now the other option’s for customer supplied where the customer can supply their own encryption key. The abilities to use your own encryption keys are going to be important for some companies for compliance reason, however, having <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/google/">Google</a> automatically manage and rotate the keys is pretty valuable so I’m going to leave this by default. Okay and now we’re going to create it and it’ll take just a second. Okay there it is.</p>
<p>The question is what did we just do? We just created a boot disk that we can use for new instances. If we create an instance and we use this disk as its boot disk it’s going to have ubuntu 1604 and it’s going to be up and running with 10 gigs of space.</p>
<p>Okay. We’ll get back to taking about disks and images, however, I want to take a quick detour and I want to talk about Solid State Drives which are abbreviated SSD. Sometimes you’re going to need higher IOPS than the standard disks provide. IOPS stands for Input Output Operations per Second. So for this we can use SSDs. If you find that solid state drives aren’t enough random IOPS and there’s also an option for local SSDs.</p>
<p>Now local SSDs are physically attached to the server that hosts your virtual machine instance. Local SSDs have higher throughput and lower latency than standard persistent disks and SSDs. Though the data that you store on local SSDs persist only until you stop or delete the instance. They offer sub-millisecond latency with up to 680,000 read IOPS and up to 360,000 write IOPS. Local SSDs will be great when you need to do some caching operations and you don’t want to use the system memory.</p>
<p>So if local SSDs aren’t fast enough for you then there’s always RAM disks. They’re extremely fast, however, they’re not persistent. So as soon as you reboot or shut down, anything that you have in that disk is going to be lost.</p>
<p>So if we look at the disk types in this comparison we can see that both standard and SSD disks offer all of the functionalities such as snapshotting, and as you know the SSD are great for random IOPS. And then when we move to the local SSDs and the RAM disks we lose most of the features in favor of speed. So you need to consider these trade offs when selecting which type you want to use and for which type of applications you want to use them for.</p>
<p>Okay. Let’s jump back to talking about disks and images. Do you recall when we created that persistent disk we had to select an image? We touched on it previously, but what exactly is that image? That was an operating system image and what that means is it was the disk with a boot loader and operating system and a block device containing our file system. The specific image we used was for an ubuntu image and it came from the public images that Google provides, though if we had our own image we could also use that to create instances and it would be considered a private image because it’s only accessible to our projects. We can create an instance based off of any images that we have access to, public or private.</p>
<p>Let’s check out how to actually create an instance on the command line. Okay, so here’s what we’ll do, we’ll use the gcloud command to create and instance so we’ll use the compute instances create subcommand and we just need to pass them the name of our image, and it’s going to take a moment to run. Okay. Now that it’s done we’ve created an actual instance. It’s up and running. We can connect to it and use it as we need to and if we look in the console we’re going to see that this same image exists and there it is. We can create instances with the console just as easily as we can create them on the command line.</p>
<p>Here’s a few other options we can use when creating instances. Now we can create an instance from an image within the project and we’ve seen that, from an image in an alternate project, from a URI for a tar file that’s hosted on cloud storage. We could use an alias for the latest version of an image, and finally we have the option of specifying a specific version of an image. So we have a few different methods that we can choose from when selecting the images that we want to use for our instances.</p>
<p>Now we can also create our own images. If we need to create an image, we can create it based on a running instance. We’d use an existing base, as our example unbuntu, and then install whatever we need to before we delete the instance and use the keep disk option and that’ll leave us with a boot disk image. There’s also documentation to create something from scratch if we don’t want to use one of the existing images.</p>
<p>Images are used for things such as a bootable “gold master” image for deployment, an image with standard tools for the development teams, an image with approved production software and libraries, or even a foundation for cluster deployments. And so having images with everything we need loaded on there is incredibly valuable, however, there are alternatives to doing it this way.</p>
<p>We could configure instances at boot time with start up scripts. And start up scripts are something we’re going to cover later in the course. We can configure with provisioning tools such as Ansible, Chef, and Puppet. We could use docker and container images. So we have options for how we would get our images production ready and due to the effort involved in setting up custom images as golden images I tend to recommend some sort of boot time configuration. Now that depends on the circumstances because sometimes you’re going to have a boot time configuration that adds too much boot time and so it’s going to slow down the actual process of getting that instance into the load balancer and if you’re seeing heavy traffic that might be a blocker. However, if your traffic increases fairly evenly then boot time configuration will allow you to get everything installed and configured on startup. And that’ll make it more flexible to implement changes because once our configuration management code has been tested and deployed we can easily run it against the targets of our choosing.</p>
<p>Okay, let’s wrap up this lesson by summarizing what we’ve covered so far. We talked about persistent disks and different disk types. We talked about standard hard disk drives and how they support things such as snapshots and encryption, however it won’t be as fast as solid state drives or random IOPS. We talked about local and RAM disks which are very fast, however, don’t support things such as snapshots. And we talked about how to create and use disk images that can be used as a base image. And then we wrapped up the discussion by talking about methods that would allow us to use a standard image and configure it at boot time.</p>
<p>Okay, in our next lesson we’re going to talk about <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/authorization-and-iam/">authorization and IAM</a>. If you’re ready to keep going then let’s get started with the next lesson.</p>
<h1 id="Authorization-and-IAM"><a href="#Authorization-and-IAM" class="headerlink" title="Authorization and IAM"></a>Authorization and IAM</h1><p>Welcome back. In this lesson we’ll cover authorization as well as identity and access management. Since we’re talking about authentication and authorization we’ll start with talking about how to get a user authenticated and then once they are authenticated, how do we make sure they only access the things that they’re allowed to.</p>
<p>And then, let’s jump into talking about a special type of account which is the server-to-server communication mechanism called Service Accounts. Okay, let’s dive into getting users authenticated. Imagine you’re in charge of managing the <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/google/">Google Cloud Platform</a> for your company. You’ve just signed up and you need to get people access to the system.</p>
<p>You’ve probably noticed that in the console you can invite users that have a Google account. Now, this is perfect, it manages a couple of users. You can add the user, set up their roles and then you’re on to other things. However, let’s imagine that you have two hundred users. So, sending two hundred requests via the user’s personal gmail account is not going to be the best option here.</p>
<p>So, this is where using G Suite, which was formerly called Google Apps for Work, will be ideal. It has session activity tracking, security alerts, suspicious activity detection and more. And, this will allow you to manage all of the users in one place. However, if you have two hundred users then, you probably already have an LDAP server which is why Google provides a tool called GCDS, which stands for Google Cloud Directory Sync, and it’s a one way sync that allows you to sync users from your existing LDAP server to G Suite.</p>
<p>And, this allows you to sync users pretty easily. Again, it’s one way syncing, so changing something in G Suite isn’t going to change in your existing directory. It’ll also allow you to apply roles to the mapping of things like users and groups. It works by running as a utility in your environment. Okay so, things are starting to shape up.</p>
<p>You don’t need to manually import two hundred users and you’ll be able to continue managing your users via your existing LDAP server, which is awesome. Remember your initial task was to get your users access to the services inside of the Google Cloud Platform that they need. And, with G Suite and the directory sync, you’ve done that, however we haven’t talked about single sign on just yet.</p>
<p>Importing users is great and with single sign on it’s even better. If you have your own authentication system you can use SAML for single sign on. The configuration is simple. You fill out three URLs, you upload your certificate and Google will do the rest. The user name is the only assertion that’s used which makes it a pretty lightweight and easy to use setup.</p>
<p>Okay, now you’re done. Your task was to get users set up with accounts inside of the Google Cloud Platform and with the use of G Suite, GCDS to sync from your LDAP server to Google and with single sign on with SAML, you have an authentication setup based on your existing infrastructure. Now, once we have users we need to be able to make sure that we can lock things down so that they only access the things they’re allowed to.</p>
<p>And, for that we can use Identity and Access Management, which we typically abbreviate IAM. IAM allows you to have two types of roles. There’s Primitive Roles and Predefined Roles. Primitive roles are project based roles and there’s only a handful. We have owner, editor and viewer. And, using primitive roles you can set fairly simple project based permissions.</p>
<p>Owners can add and remove users from a project and they can basically do just about anything they want with a specific project. Editors are a bit more restricted. They can deploy applications, modify code and configure services and things like this. They have a lot of power so anyone with an editor role is basically what we would consider an admin.</p>
<p>The viewer role, as the name suggests, is a bit more restricted than the editor. It’s just a view only access into the console. Now, these primitive roles can be great for small teams, however in our example earlier, we had a two hundred employee company and these roles are either going to be too restrictive or too permissive.</p>
<p>So, that’s what Predefined Roles solve. They allow us much more granular roles. The Predefined Roles are a collection of common permissions related to a specific resource. As an example, the instance admin role allows a user to administer the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/compute-engine-instances/">compute engine instance</a> and it’s basically a combination of permissions for get, list, delete, start, stop, et cetera.</p>
<p>So, there are a lot of predefined roles that are geared towards common tasks like this. So, using these granular roles it’ll make sure that users only have access to what they need. The Google Cloud Platform has a resource hierarchy and it starts with an organization and then it goes down to the project level, and then the resources that are inside of that project.</p>
<p>And, this hierarchy impacts permissions. For example, if you set the user as an editor for a project and you have them set as a view only role for something like logs, then the editor role at the parent level takes priority and they’re going to be an editor for the logs. So, it’s best practice to start with the least amount of permissions for a given user and increase it at the granular level.</p>
<p>Also, you’re going to want to use groups whenever you can. It simplifies policy changes. Along the same lines, make sure you control who can make policy changes and you’ll probably want to audit any changes. Alright, so we’ve talked about getting users into the system and authorizing them which is great, however sometimes you need to have an application running under a specific set of credentials and that’s what we use service accounts for.</p>
<p>Service accounts authenticate applications running on your virtual machine instances to other Google Cloud Platform services. As an example, if you have an application that uses Cloud Storage, it first needs to authenticate to the Cloud Storage API. If you have a service account that has permissions to read and write files using the Google Cloud Storage API, then you could use that account in your application code to read and write files on Cloud Storage and doing it this way you don’t need to pass credentials around.</p>
<p>There are three types of service accounts available to compute engine instances. We have user managed service accounts, built-in service accounts and the Google API service accounts. The user managed accounts allow you to create your own service accounts and then set the roles that you want it to have and this is going to allow you to break down the service accounts based on the very granular roles that you need.</p>
<p>The built-in accounts are Google created. There’s one for compute engine and there’s one for app engine. The compute engine default service account is created on a per project basis and it’s going to have its own unique email address for each project. And, it’s the default service account for new instances.</p>
<p>And, these built-in service accounts, by default, have editor permissions. However, you can change that if you want to and even use the curated roles if you need. Okay, and the one final type is the Google API service account. You may have noticed that this doesn’t show up in the list of other service accounts and that’s to prevent people from editing the permissions and breaking functionality for things such as auto scaling.</p>
<p>This is also an editor role by default and while you could change it, you probably shouldn’t. Service accounts work by using encryption keys and the built-in service accounts will have their keys automatically managed by Google which means that Google will rotate the keys as a security measure, however, you can also do it manually should you choose to.</p>
<p>Okay, if you’re going to use the service accounts that you created then you can use the IAM permissions to set just the roles you want. However, if you are going to use the default service account as an instances service account then, you may want to limit the accounts access with scopes. Access scopes are a way to determine what APIs the service account can interact with and more specifically, which actions it can execute for a given API.</p>
<p>Let’s check it out in the console. If we start to create a new instance and then we scroll down to the service account we can see the options for access scopes and if we select this option here to set the scopes for each API you can see that we have a list of several different services that we have enabled for this project.</p>
<p>And, each has the ability to edit the options. Here’s what you need to remember. Whatever scopes that we set here aren’t going to be changeable unless we recreate the instance. Okay so, service accounts allow us to interact with the Google APIs from our code and run under whatever permissions this service account has.</p>
<p>And, this is a great way to avoid hard coding credentials in our application. Alright, let’s wrap up here. In our next lesson we’re going to be talking about <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/snapshots-1/">Disk Snapshots</a>. So, if you’re ready to keep learning then let’s dive in with our next lesson.</p>
<h1 id="Snapshots"><a href="#Snapshots" class="headerlink" title="Snapshots"></a>Snapshots</h1><p>Welcome back, in this lesson, we’re going to talk about disk snapshots. This is going to be a fairly quick lesson. Snapshots are a very useful tool; however, there really isn’t that much to say about them. Let’s start with what are snapshots? Snapshots are going to allow you to create a copy of a disk, and that can be either a hard disk drive or a solid state drive, and store just the data that exists.</p>
<p>What I mean by that is that if you have a disk with 100 gigabytes of space allocated, but it’s only using 10 gigabytes of space, then the snapshot will be for 10 gigabytes. Because you can snapshot a running instance, you’ll be able to create a point in time back up. Snapshots are considered differential, which means subsequent snapshots will only store the changes between that moment and the previous snapshot.</p>
<p>This is great for backups because we don’t need to store the full amount for each snapshot. The snapshots you create are considered a global resource, which means that you’ll be able to use them in any zone, regardless of which zone it was created in. Though, they are confined to the project that they are created in.</p>
<p>Besides disk backups, commonly used cases for snapshots include things such as migrating data between zones and swapping disk types, for example, between a standard hard disk and a solid state drive. Here are some things to keep in mind. Snapshots are data only. They don’t store any information about machine types or its tags, and you can’t move data to a local SSD with snapshots.</p>
<p>Okay, so how would you go about actually creating a snapshot? Well, first you’ll want to either unmount the disk in question or prevent writes to it, and the reason is, so that we don’t end up with the data being in an inconsistent state. So assuming the use of a Linux operating system, you can run the umount command, and this is going to ensure that no new writes happen while you’re creating the snapshot.</p>
<p>If you’re snapshotting a boot disk, then it’s best practice to shut down the server. Again, it’s to ensure that we don’t end up with inconsistent data. Now if you can’t unmount the disk for some reason, then the next best option is to use the sync command to flush any pending writes to disk, and then use the fsfreeze command to halt any writes to the disk until we’re done with the snapshot process.</p>
<p>Afterwards, the -u flag can be passed into the fsfreeze command to unfreeze the disk. Okay, like I mentioned at the start, this is going to be a quick lesson. Snapshots are very powerful; however, not complex enough to go in any more detail on it. So, in our next lesson, we’re going to talk about cloud storage.</p>
<p>Alright, so if you’re ready, <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/cloud-storage-1/">let’s get started</a>.</p>
<h1 id="Cloud-Storage"><a href="#Cloud-Storage" class="headerlink" title="Cloud Storage"></a>Cloud Storage</h1><p>Welcome back. In this lesson, we’ll talk about Cloud Storage. We’ll recap the basics and then we’ll talk about how to access Buckets and Objects and we’ll wrap up by talking about Security.</p>
<p>By default, Cloud Storage encrypts our data both at rest and in flight and and the way Google Storage is set up allows us to store data using the same service and same APIs, but with different access pricing.</p>
<p>There are three options for where your data gets stored. To maximize an application’s performance, you can choose to store your data in the same region as the services that are going to consume that data. Even though it’s only stored in one region, it still does have a fairly high level of availability because it’s replicated across multiple zones in that region.</p>
<p>If you wanna have the same performance benefits, but you also wanna increase your data’s availability, you can choose the dual region option and that will give you geo-redundancy. </p>
<p>Now finally there’s the multi-region option which is the best way to make your data available around the world with very low latency and it’s great for using with website content distribution, video streaming and those sorts of things. </p>
<p>If you wanna learn more about cloud storage basics, I recommend you check out the documentation. Check it out at cloud.google.com&#x2F;storage&#x2F;docs.</p>
<p>Okay. Let’s shoot from the overview to actually accessing and interacting with Cloud Storage. Like most everything else, you can use the Console, the REST API, or the SDK. If you need to do something that’s simple, such as creating a Bucket or uploading a file, then the Console is great. If you need to do something programmatically, then you’ll want to use the REST API. You’ll be able to use the JSON or XML APIs, though the XML option only supports a limited subset of what the JSON API allows.</p>
<p>And if you want to use the Command line, you can use the gsutil command, which offers commands that will be similar to the UNIX file manipulation commands. These are commands such as mv, rm, cp, and rsync, as well as a few others that handle things like access control and removing Buckets.</p>
<p>And recently, <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/google/">Google</a> released the beta version of Cloud tools for PowerShell. This is cool because we can mount Storage as a drive, allowing us to use standard commands such as dir, to interact with Cloud Storage. And just like the gsutil command, we can use the PowerShell command list to edit the Access control list.</p>
<p>So, speaking of Access control lists, this leads us to our next topic. Access control lists allow us to determine who can access Buckets and Objects. And Access control lists consists of a scope or grantee, and a set of permissions. In plain English, a list of people and what they’re allowed to do. Each Bucket or Object can have up to 100 Access control list entries.</p>
<p>The allowed permissions are Read, Write, and Full Permission. Full Permission means that the user or users can read, write, and delete. Write access, as the name implies, means they can write, but it also means that they can read. And Read, well, it means that they can read.</p>
<p>To make it easier, Google has created predefined Access control lists for some of the most common operations, and these are things such as Public Read, which allows anyone to read the file, and that’s useful for static assets of a website. Here are some of the supported roles for setting up permissions. Now, we’re not going to go through them all, however, if you want to check them out, I recommend that you pause and kind of skim through the list.</p>
<p>Even with all of these Access controls, sometimes you’ll want to allow a random Internet user to be able to upload a file. Maybe it’s for something such as uploading an image to your site, or something similar. Now, yes, you can handle this in code if you have your application process the file and write it to Cloud Storage. However, if you allow users to upload directly to Cloud Storage, then it’s going to save your servers from needing to handle it. So, Cloud Storage offers what’s called a Signed URL, which is a time-limited URL that anyone that has access to that specific URL can use to invoke whatever operations you’ve allowed when you created that URL. Here’s a basic example of a Signed URL that allows a get request for a limited amount of time. This will allow anyone with that URL to read that object until the token expires.</p>
<p>Okay, that’s going to wrap up our topic of Cloud Storage. We’ve covered most of this in the Fundamentals, so again, this was just a recap.</p>
<p>In our next lesson, let’s cover <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/instance-groups/">Instance Groups</a>. So, if you’re ready to keep going, then let’s get started with the next lesson.</p>
<h1 id="Instance-Groups"><a href="#Instance-Groups" class="headerlink" title="Instance Groups"></a>Instance Groups</h1><p>Welcome back. In this lesson we’ll be covering instance groups. We’ll do an overview, and then we’ll talk about the use cases, and then we’ll wrap up with some examples.</p>
<p>Let’s start with, what are instance groups? As the name suggests, instance groups are about creating a grouping of instances. And once we have a group, we can monitor all of the servers in that group, or we could reboot them all at the same time, and we can do other similar tasks like this. And we can do that with two different types of groups. We have managed and unmanaged groups.</p>
<p>Unmanaged groups are pretty simple. The concept is that you can take instances that already exist and add them together into an unmanaged group and then you can do some simple admin tasks. Those are things such as rebooting, you can monitor, et cetera. And that’s about it. They’re designed to make it easier to manage existing infrastructures.</p>
<p>Managed groups, on the other hand, are the Google recommended form of instance groups. And the reason is that they have a lot more functionality than the simple administration that they share with unmanaged groups. With managed groups, we don’t need to manually add instances, hence the managed part of the name.</p>
<p>Let’s cover some of the features that managed groups offer and then we’ll dive into how they actually work. Managed groups will ensure that the instances in that group are all running. And we can resize the group as needed, which means if we want to add 10 new instances, we can do that rather easily by increasing the minimum number of instances and they’re going to be automatically added. Managed groups also make autoscaling possible because we can use metrics to determine if we need to add or remove instances. By the way, we’ll cover autoscaling in a later lesson.</p>
<p>Now, you may be wondering how managed groups are able to automatically add instances. How do they know which instances to add? Managed groups require that you specify an instance template which allows you to define the machine type, image, zone, and other instance properties for the instances that will be created. An instance template is basically all of the info you’d supply if you were to create an instance, however it doesn’t actually create it at that time, it just saves those settings for you. And that includes things such as startup scripts.</p>
<p>Let’s check out how to create an instance template and a managed group. We start out on the instance template page, and click create. And this page will look familiar. It’s the same form we use when creating an instance. We’ll give our template a name. Since this will be a template for a web application, I’m going to call it webapp-template. And now, let’s change the machine type. We’ll use a small for this demo, since we really aren’t expecting any traffic. And let’s change the boot disk to use Ubuntu 16.04 LTS. That’s just the preference I have. Notice there are a lot of other options here.</p>
<p>Under identity and access, I’m going to change the scope to full scope. I don’t recommend this for production systems, this could end up being a security nightmare if just one server is compromised, because the attacker could use all of the APIs that <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/google/">Google Cloud</a> has to offer with no restrictions. And you can imagine the implication of that. I’m using it here to make it easier to interact with some of the different APIs from my startup script, but again this is just for a demo.</p>
<p>Now, I’m going to select allow HTTP and HTTPS and that will automatically apply some tags to allow the traffic to flow through the firewall. And I want to actually provision the instance on startup, so I’m going to add a startup script. We’ll be covering startup scripts in a later lesson, so I’m not going to go in depth now. So we’ll just click on the management link here and we’ll paste in our startup script. There we go.</p>
<p>Now let’s take a moment. I just want to briefly show you what’s going on with this startup script in the code editor. This is a pretty vanilla Bash script, and what it’s doing is, it’s going to fetch the project ID from the metadata server and then it grabs the latest code from the web app Cloud repo, and inside that repo is a shell script to build the application. In this example, I’m building the code out on the web server directly. This isn’t something you’d do in production. You’d use a build server and you’d run your code through the complete continuous delivery pipeline. However, again this is just an example so I’m just going to build it on the server.</p>
<p>So if you look at that script, we see that it installed some dependencies; it installed some logging code, and then it’s going to deploy our actual .net application behind engine X.</p>
<p>Okay, let’s go back to the Google Cloud console, and since everything looks good with the rest of the default, we’re going to create this. Now, to use this, we need to create a group. So we’ll click on the instance groups and fill out the form. Like everything else, it’s going to need a name, and we’re going to skip the optional description, however, you should use this in your environments to clearly define what the group is for. We’ll leave it as a single zone, however if you need high availability, you could use multi-zone. I’ll use east1-d just to stay consistent with the rest of the services that I have running.</p>
<p>And then, in this section here, for the create method, this is where we’d select managed or unmanaged. Now notice that isn’t what it’s called on the form. The term Google uses here are use instance template or select existing. So, we know that managed groups use instance templates so we’re going to use the “use instance template” option. And it wants us to select our template, we only have the one, so it’s a really easy decision here. And we can also enable autoscaling. For this demo, I’m not going to show how to use that, that’s something we’re going to cover in a later course, so I’ll save that.</p>
<p>Now let’s create this group. It’ll take a few minutes, and let’s just jump to the end. And there we go, it’s complete and we can click into it and we can see that it has one running instance. And if we browse to the IP address for that instance, we can see that our web application is actually running.</p>
<p>Okay, so creating these is fairly easy, and we’ll expand on managed groups in a later lesson when we cover autoscaling which means that’s going to wrap up this lesson.</p>
<p>In our next lesson, we’ll look at <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/cloud-sql/">Cloud SQL</a>. So, if you’re ready to keep learning, then let’s get started with the next lesson.</p>
<h1 id="Cloud-SQL"><a href="#Cloud-SQL" class="headerlink" title="Cloud SQL"></a>Cloud SQL</h1><p>Welcome back. In this lesson we’ll talk about Cloud SQL. We’ll start with an overview, and we’ll follow it up with administration. And then we’ll compare the difference between Cloud SQL and MySQL. And we’ll talk about how to connect to SQL instances from <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/compute-engine-instances/">Compute Engine</a>.</p>
<p>Cloud SQL is a Google-managed version of MySQL. It allows us all the benefits of using MySQL databases without having to deal with the time-consuming management tasks or security patches. Like most systems in the cloud, Cloud SQL needs to be scalable. And so it offers vertical scaling for reads and writes, and horizontal scaling for reads.</p>
<p>Cloud SQL has evolved since its first release, and so now we have two versions. We have the first and second generations. The first generation had some limits on the size, and that didn’t work for a lot of applications, so the second generation changed that. The second generation offers more storage, higher performance, and lower cost in most cases. The rough numbers suggest that the second generation has something like seven times the throughput and 20 times the storage capacity.</p>
<p>I mentioned a few times that Cloud SQL is a Google-managed version of SQL, but what does Google actually manage? That would be stuff such as patches and updates to MySQL, daily backups, cross-zone replication, allowing for higher durability, that means that should the primary zone become unavailable, the secondary zone will automatically take over and start handling requests. And Google will also handle instance pausing. This is a feature of the first generation instances, and one that you can optionally disable. It allows you to have the instance stopped if there are no requests for a period of time. This can make running the databases less expensive, though the second generation instances offer a sustained-use discount which should compensate.</p>
<p>So, <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/google/">Google</a> will manage a lot of the time-consuming stuff for us, however there are still things that we’ll need to manage. That’s things such as user management, which covers creating users, assigning permissions, and setting passwords; SSL configuration; data import and export; configuring external read replicas, which will increase our read performance. And then the typical SQL management tasks, such as schema migrations and schema management.</p>
<p>The first generation version of Cloud SQL has a limit of 500 gigabytes. The second generation also has limits, however those are related to the machine type that you use. Though even the smallest instance supports over 3,000 gigabytes of storage. Cloud SQL is basically just a managed version of MySQL. However, it doesn’t allow the use of any statement or function that allows for file access. So there are some differences there.</p>
<p>Let’s jump into the console and create a SQL instance, and then show how to connect to it. We’ll start on the Cloud SQL page. We don’t have any existing databases, so we start with the option to create an instance. And then it wants to know whether we’ll be using the first or second generation. We’ll use the second generation. It’s the better option in most all cases.</p>
<p>And now we’re presented with a form. We need to fill out the details here. We’ll need a name. And we’re going to leave it as MySQL version 5.7. I’m going to set the region, this is just the one that’s close to where I live. I’ll use the eastern region. And we also need to change the machine type. Since this is just a demo, I’ll use the small instance. We’ll leave the drive as an SSD for the higher IOPS. And we have some options for high availability. You can see that we can easily add a failover replica, which will add a read-only copy of our database that will be promoted to the primary database in case the current primary fails. By default the backup and logging are enabled. This is an automatic backup that’s kicked off for us. And the binary logging is used for replicating data to read-only copies. We’ll leave the rest as the defaults, and let’s just click on the Create button. Okay, it’s going to take a minute, so we’re going to fast-forward to when it’s complete.</p>
<p>And if we click into the instance we have a dashboard for viewing and editing the instance. On the Overview tab there’s some general info. And if we click the Access Control we can add networks that’ll be able to access the instance. For the sake of an easy demo, I’m just going to open this up to the world. And we can use the Backups tab to create manual backups, or change our backup window. And then we have a Replicas tab, and this is where we’d create read-only or failover replicas.</p>
<p>Okay, and back on the Overview page we have some quick links that show you how to connect to SQL from different places. All right, let’s actually try and connect. We’ll start with opening up Cloud Shell. And it’s just going to take a moment. Okay, there we are. We can now connect with any MySQL client. And this will work because we’ve opened it up to the world. So we’re going to paste in the password here. Great, and we’re connected. And now if we run Show Databases we can list off the databases that exist. And we just get the default databases back.</p>
<p>Now for connecting we can also use the gcloud command-line tool to connect. And it will add the instance to the SQL instances network whitelist. And that will allow us to connect without needing to first open up the ports. Once we’ve connected in with the gcloud command-line tool, it’s just a standard MySQL client. There’s really nothing else after that. Now after you have an instance up and running, it’s pretty much the same as any other MySQL instance. So there’s really not much else to say about it. So, that’s going to wrap up our lesson here.</p>
<p>In our next lesson, we’re going to cover <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/metadata/">metadata</a>. So if you’re ready to keep going then let’s get started with the next lesson.</p>
<h1 id="Metadata"><a href="#Metadata" class="headerlink" title="Metadata"></a>Metadata</h1><p>Welcome back. In this lesson, we’ll be talking about metadata. We’ll talk about the metadata server and how to get and set metadata.</p>
<p>Let’s start with a quick explanation of what metadata is in this context. Metadata is a set of key value pairs containing information related to running instances or our project. This can be stuff such as project-level settings. Maybe things like API keys for external services. And instance-level information are things such as tags or the zone that we’re running in or the hostname or whether the instance is pre-emptible or not.</p>
<p>So, as I mentioned, there are two types of metadata: instance and project. And they’re accessed through the same base URL. Now we have three URL options and they’re all going to direct you to the same place. There’s the full URL, that’s metadata.google.internal&#x2F;computeMetadata&#x2F;v1. There’s the short URL which is metadata&#x2F;computeMetadata&#x2F;v1. And then the final option is to use the IP address. And then, you’ll either append project or instance to the end of the URL to access the metadata specific to those topics.</p>
<p>Let’s look at how to actually get and set data. Like most everything else, we can use the API, the SDK or the console to get and set metadata. However, to get metadata from a compute engine instance, using these options would add extra steps that we just don’t need. From a running instance, all we need to do is call the URLs and add these specific values to the end of the URL. You could do it in code, or you could use a tool such as curl or Wget.</p>
<p>Let’s connect in to an instance that we have running and see how to use these. We’re connected via SSH to a compute engine instance. So, we’re going to use cURL and we can start getting data from the metadata server. If we start with the base URL, we have two options here. You can see we have instance and project. And these values are what we use to append to the end of the URL and this allows us to drill-down in to the different keys. So, if we append instance to the end of this, you can see we have some additional things that we can drill in to here.</p>
<p>Let’s check out tags. So, all we have to do is add tags to the end of the URL and you can see we get some tags back here. These ones allow us to have http and https traffic through the firewall. We can query for things such as the zone that we’re in. And, in this case, we’re in east1-d. And if we edit the URL, we can query for project-wide settings as well. We can see here that we have just two attributes. One is a Google-supplied and the other is a value that I’ve added. So, if we want to read the value for the dotnet environment, we’d append that string. And we can see that we have a value there.</p>
<p>Now, to change it, if we jump in to the console on the compute engine page, in to the metadata section, we can change that value. Let’s change it to staging. Okay, and then we’ll save it. Great, now, if we jump back in to the command line, we can refetch that and see if it says staging. So, there it is. It’s changed to staging. It’s a project-wide setting.</p>
<p>So, metadata will make our script more dynamic, because we don’t need to hard-code any values. And, we don’t need to know, at the time that we write our code, some of these values. For example, we don’t need to know the project ID because we can fetch it dynamically. And it’s not uncommon to use environment variables to store things such as API keys, connection strings, access tokens, etc. So, if we use project metadata for those sort of things, we can ensure that instances will have access to the data they need and have it in a centralized location for us to easily manage. Okay, that’s gonna wrap up this lesson.</p>
<p>In our next lesson, we’ll talk about <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/startup-and-shutdown-scripts/">startup and shutdown scripts</a>. So, if you’re ready to keep going, then let’s get started.</p>
<h1 id="Startup-and-Shutdown-Scripts"><a href="#Startup-and-Shutdown-Scripts" class="headerlink" title="Startup and Shutdown Scripts"></a>Startup and Shutdown Scripts</h1><p>Welcome back. In this lesson, we’ll talk about startup and shutdown scripts. We’ll talk about what they are and how to us them.</p>
<p>We’ll begin with startup scripts, which are pretty well-described by their name. These are scripts that run when an instance is started. Started here means that any time the operating system is booted up, so that covers the initial creation of an instance as well as reboots. Startup scripts are used for things such as installing and configuring software, running operating system updates, enabling services, and other tasks along these lines.</p>
<p>When you create or edit an instance, you can add or change a startup script. Startup scripts are added as <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/metadata/">metadata</a>. Then we have options for where they’ll live. For example, if you want to store a startup script in a Cloud Storage bucket, then you can use the metadata key named “startup-script-url.” And assuming that the service account has access to it, it’ll pull the startup script from there. You could also upload the script from a local file as well as assign it to the startup script metadata key on the command line.</p>
<p>You can use startup scripts with Windows and Linux. Linux is going to use Bash scripts and if you run into any problems, you can check the logs located at &#x2F;var&#x2F;log&#x2F;startupscript.log.</p>
<p>Windows is a bit different. You can use a batch file or PowerShell script and if you want to store the script on Cloud Storage, it needs to be in a publicly accessible URL. Optionally, you can upload the script directly to metadata, just as you can with Linux. Although unlike Linux, Windows has different types of startup scripts. We have a pre-sysprep and a post-sysprep option and there are different keys that we use for each.</p>
<p>Let’s test this out with an Ubuntu VM. We’ll install an Apache web server and then we’re just going to write some contents to an index.html file. So we’ll go through the same VM process as usual. And there’s nothing special here, however the important thing is when we get to the metadata section where we can add our startup script. I already have this copied to my clipboard so I’m just going to paste this in and what this is going to do is install Apache and then it’s going to dump the contents here into the index.html, which will render on the page once we load it in the browser. So we’ll create the image and we’ll jump forward to once it’s complete. Great, now we’re back, we’re going to browse to this via the IP address. And there it is, it’s nothing fancy, however I’m sure you can imagine the possibilities for this.</p>
<p>Alright, here’s what we’re going to do, we’re going to stop the instance and then we’re going to make a change to the startup script, we’ll change the text that gets dumped into that index.html and then we’ll restart it so that you can see that this happens any time the instance is started. So we’ll edit the text and we’ll just add this line at the end here to restart Apache after this is all done. Okay, great. Now let’s jump forward to when this is started back up. And if we reload the browser, you can see that we have our new text in the paragraph. And there it is.</p>
<p>So those startup scripts are going to run anytime the machine is started, and you can use this for things such as installing a Chef client and that would allow you to have a newly-created instance provisioned by Chef. You can use it to run through a basic security checklist and ensure that all newly-added instances are locked down and if you’re using in the instance for batch processing, you could bootstrap whatever resources you need and have the instance register itself with the head note. Startup scripts are a simple but powerful part of compute engine.</p>
<p>Now, we also have shutdown scripts, which are similar to startup scripts. However, they run when an instance is shutdown, or more accurately, the shutdown script will be executed, however, if it runs for too long, it’s going to be terminated and then that instance is going to be shut down anyway. So shutdown scripts have no guarantee that they’ll complete. So try not to execute long-running processes inside of a shutdown script.</p>
<p>The shutdown script will be triggered by an instance being shut down due to an instances.delete request or instances.stop request to the API or when Compute Engine stops a pre-emptable instance as part of the pre-emptable stop process. Also, when an instance shuts down through a request to the guest operating system, such as sudo shutdown or sudo reboot. And also, when you shut down an instance manually through the console or SDK. Use cases for things like shutdown scripts include backing up logs, copying data to Cloud Storage, or cleanly terminating applications. Startup and shutdown scripts are useful for bootstrapping an app or starting up a process for a batch job as well as cleaning things up on shutdown.</p>
<p>Alright, that’s going to wrap up this lesson. In our next lesson, we’re going to cover <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/auto-scaling-3/">auto scaling</a>. So if you’re ready to keep learning more, then let’s get started with the next lesson.</p>
<h1 id="Auto-Scaling"><a href="#Auto-Scaling" class="headerlink" title="Auto Scaling"></a>Auto Scaling</h1><p>Welcome back. In this lesson we’ll talk about auto scaling. We’ll start with an overview and then we’ll move on to talking about policies, and then we’ll set up auto scaling.</p>
<p>So, what is auto scaling? Again, this is the case where the name is pretty descriptive. Auto scaling is the ability to add and remove instances automatically, as the workload demands, so that you don’t need to do it manually. This can help manage cost because you don’t need extra instances running when they’re not really required. Also, it will make for a better application, because users or processes aren’t waiting for the resources, or requests due to the servers being overtaxed. Autoscalers work with the managed <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/instance-groups/">instance groups</a> to add and remove instances, which are based on an instance template. And it will add and remove them down to the minimum and up to the maximum as needed.</p>
<p>In order to determine when new instances should be created we need to set up a policy. There are three different auto scaling policies that we can use. Those are CPU utilization, HTTP requests per second, and Stackdriver metrics.</p>
<p>For the CPU option, we can scale out. If the average usage of the total virtual CPU cores in the instance group exceeds the threshold that we’ve set. As an example, we can set a value of 70%. And if the average CPU usage hits 70% or higher, the autoscaler is going to add an instance, assuming that we haven’t already exceeded the maximum allowed instances for that group.</p>
<p>The HTTP load balancing serving capacity option will scale based on the requests per second per instance. This works because the loadbalancer allows us to specify the max request per second. And so we can tell the auto scaler to scale if the request go over a certain percentage of that.</p>
<p>If either of these CPU or HTTP options don’t work, we can also use Stackdriver custom metrics, and this allows us to specify the metric and the target range. We won’t be getting into Stackdriver because it needs to be its own course. However, it is a cross cloud monitoring tool that’s integrated with many of the <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/google/">Google cloud platform</a> services.</p>
<p>And if we need more in the way of options, we can use multiple metric options. And that allows us to add up to five policies based on the three above options. If you have more than one policy, the autoscaler will select the one that leaves the most amount of available servers.</p>
<p>Let’s jump into the console, so we can actually create an autoscaler. Let’s start off by editing the instance group we created in the previous lesson. And we’ll edit it to allow auto scaling. So from the instance group page, we’ll click on our group. And notice we have one server running. That’s because we set it to use just one in our previous lesson. Let’s click on the details tab, so we can see that auto scaling is disabled.</p>
<p>Alright, let’s edit this group by clicking on the edit link at the top of the page. And we’ll set auto scaling to on. And now, we can use the different auto scaling options that we talked about previously to determine how we’re going to scale out. You can see the default is for CPU, and it’s set to 60%. It has a default minimum of one instance, and a default max of 10. Looking at the HTTP option the form is identical.</p>
<p>Changing to metric base, you can see it’s a bit different. We have two text boxes and a drop down. This is where we select something like read or write ops. Whatever metric you select, this has to be a metric that quantifies how busy an instance is and it needs to be one that will change by adding or removing instances. And then we need to set a target, which is our measurement in this example of CPU it could be percent of utilization. And then the target type, this defines how the autoscaler computes the data collected from instances, and the possible target types are gauge. This is where the autoscaler computes the average value of the data collected in the last couple of minutes. Delta per minute is where the autoscaler calculates the average rate of growth per minute, and compares that to the target utilization. And then we have Delta per second, and that’s where the autoscaler calculates the average rate of growth per second, and compares that to the target utilization. So, it’s more advanced, however, it’s going to be useful if the other options don’t work for your use case.</p>
<p>And then we have the multiple metrics option, which allows us to build up something more complex than any single metric alone. For example, we can say 50% CPU utilization and high disk IO. We’re going to use CPU for this demo, and I’m going to set it to 75%. And while we’re at it, let’s change our min and max values. We’ll set the minimum to two instances, and the maximum to three. And let’s save this.</p>
<p>Okay, notice how it picked up on our new minimum, and it’s adding another instance. So if the average CPU across the existing instances increases to 75%, then the autoscaler is going to add another server. And after a few minutes of the instances being below that threshold, they’re going to start to be removed one at a time. Google determines the period of time to wait before removing machines and they try and ensure that these new instances stay around for as long as they need.</p>
<p>Alright, that’s going to wrap up our lesson on auto scaling. In our next lesson we’re going to cover <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/load-balancer/">load balancing</a>. So, if you’re ready to talk about load balancing, then let’s get started with the next lesson.</p>
<h1 id="Load-Balancer"><a href="#Load-Balancer" class="headerlink" title="Load Balancer"></a>Load Balancer</h1><p>Welcome back. In this lesson, we’ll be talking about load balancing. We’ll cover the different types of load balancers, and then we’ll create one to see how it’s actually set up.</p>
<p>There are three types of load balancer. We have TCP, UDP and the HTTP load balancer. Let’s start by talking about the options that <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/google/">Google</a> classifies as network load balancers, which are the TCP and UDP load balancers.</p>
<p>Network load balancing allows you to balance the load of your systems based on the incoming IP protocol data, such as address, port and protocol type. They use forwarding rules that point to target pools, which list instances available for load balancing and define which type of health check should be used to determine if those instances are healthy. With network load balancing you have some options that you don’t have with HTTP. For example, you can load balance based on protocols, such as SMTP or FTP, and you can also perform packet inspection, which isn’t available for the HTTP load balancer. So, if you need to load balance an application that doesn’t run over HTTP, then you can use either TCP or UDP.</p>
<p>The network load balancer works by distributing traffic among pools of instances inside of a single region. It uses forwarding rules that you create to determine which pool to send traffic to, and the load balancer uses health checks to ensure that it only sends traffic to instances that are considered healthy. The health check is based on an HTTP request. So, you’ll need to ensure that your instance has at least a basic web server, even if the instance isn’t being used for web workloads. Network load balancing also supports a couple of additional features, namely session affinity and <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/auto-scaling-3/">auto scaling</a>. Session affinity means that requests from a particular client will be continually directed to the same instance, and this is useful for applications that aren’t stateless.</p>
<p>So network load balancing is useful for use cases, such as multiplayer game servers over UDP, or maybe load balancing SMTP servers, or FTP servers, or even load balancing an application using your own protocol over TCP or UDP. And you could use it for HTTP if you wanted to. However, because HTTP is such a common use case, Google has created the HTTP load balancer, and it offers some features that the network load balancer doesn’t.</p>
<p>Let’s cover what it offers. The HTTP load balancer distributes traffic among groups of instances based on proximity to the user and the request URL routing rules. It requires an instance group and it supports managed and unmanaged groups. And that means it supports auto scaling, however it’s not required. It uses ports 80 and 8080 for HTTP and 443 for HTTPS. And, just like network load balancers, this one also supports session affinity, which is useful for legacy applications that aren’t stateless. The HTTP load balancer also supports connection draining, which ensures that no new connections are made and that existing connections are preserved as long as possible before an instance is removed from the group.</p>
<p>Let’s see how to create an HTTP load balancer from inside of the console. We already have an instance group and it has a web application in it. From the Networking page and on the Load balancer tab we can click on Create load balancer. And now, it wants to know which type of load balancer we want to create. We’re going to use the HTTP load balancer, as we talked about. So, we’re going to give it a name. We’ll call ours webapp-load-balancer.</p>
<p>And now, we need a backend service. Backend services direct incoming traffic to one or more backends. Each backend is composed of an instance group and an additional serving capacity. Backend serving capacity can be based on CPU or requests per second. Each backend service also specifies which health checks will be performed against the available instances. The form for backend service already has a sub-form for a backend. So, we just need to fill it out. And each backend requires us to select an instance group. We’re going to use the one that we’ve already created. And our backend runs on port 80. So, we’ll leave that there by default. And we can select the balancing mode, which will be either CPU utilization or requests per second. We can also set the capacity for the backend, and in this case it would be 100% CPU utilization.</p>
<p>And now, we need a health check. The health check pulls the instances attached to our backend service and makes sure that they’re available to handle traffic. And with that done we can move on to the host path rules. This is were we can map a path to a backend. We only have the one backend so we don’t have to edit anything here. Next is the frontend service. Here we can set HTTP or HTTPS. We can set up the type of the IP address: static, ephemeral, et cetera. We can change the port. And if we’re using HTTPS, then we would add our SSL cert, which gets terminated at the load balancer. Keep in mind if you want to have the load balancer also communicate with our backend service via HTTPS, then we need to have our cert loaded on each instance as well.</p>
<p>Now, we can review the setup and since everything looks good, let’s click on the Create. We’re going to jump forward to when it’s complete so we can try this out. So, we’re going to browse to the IP address of our load balancer. And there it is. There’s our application running and serving traffic from our backend service.</p>
<p>Unlike some device-based load balancers, the cloud load balancer is a massively scalable, software-defined solution that doesn’t require any pre-warming. Cloud load balancer is going to be a key component in any Compute Engine based, highly available workload, so take the time to test it out and get to know it.</p>
<p>In our next lesson, we’re going to put what we’ve learned throughout <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/course-introduction-5/">this course</a> in practice. So, if you’re ready to keep learning, then let’s get started with the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/putting-it-all-together-1/">next lesson</a>.</p>
<h1 id="Putting-It-All-Together"><a href="#Putting-It-All-Together" class="headerlink" title="Putting It All Together"></a>Putting It All Together</h1><p>Hello and welcome. In this lesson, we’re going to head into the console and create a cross-region load balanced web application. We’re going to use <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/load-balancer/">Google Cloud’s global load balancer</a> to distribute traffic between two regions. One of the regions is going to reside in the U.S. and the other in Europe. </p>
<p>Google Cloud’s load balancer is comprised of a few different components behind the scenes. Requests that are sent by users head to the frontend forwarding rules. A forwarding rule routes requests to a target proxy. A target proxy checks the URL map to determine the backend service for which it should route traffic. It’s the job of the backend service to forward those requests on to the instances themselves, and that’s based on the instance capacity and health. And instance health is determined by health checks. Once we’ve built this out, we’ll be able to make a request to a static IP address which is attached to the forwarding rule and then we’ll be able to receive the response from the most responsive region. </p>
<p>Here’s our requirements for this build. We’re going to create an instance template so that we can ensure every instance is created consistently. We’re going to create two instance groups based on the template. One will reside in US East, and the other in Europe West. We’re going to create a firewall rule that will allow HTTP traffic to the servers. We’ll create a static external IP address. And we’ll create and configure the load balancer. To top it all off, we’ll test the traffic flow using curl, and we’ll test that through two different machines, one in each region so that we can see how we actually will receive these requests from the region that is the most responsive. </p>
<p>All right, a few notes before we get started, some of the functionality in this demo does require the premium tier networking functionality, so keep that in mind, also we’re going to use HTTP rather than HTTPS, though HTTPS is fully supported. </p>
<p>All right, if you’re interested in building this out, then let’s get started. I’m here on the <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/google/">Google Cloud Platform</a> dashboard and the first thing we need to do is create our instance group template. So let’s head over to the compute engine page and let’s drill into the instance templates sub-page, right here. Okay, and clicking create instance template. Okay, so remember this template is going to allow us to ensure that whatever instances we create will look exactly the same. So it’s going to provide us that consistency. We’re going to use a machine type of f1-micro and we’ll leave the Debian Linux default OS here set, and then let’s expand this management section, and we’re going to add a startup script. Now, this is going to be the thing that configures the Apache web server, and we’ll scroll over to networking. </p>
<p>Network tags allow us to dynamically lookup instances to have firewall rules applied to them. So, using a network tag, a firewall rule can basically say hey, show me any instances that have a tag of HTTP tag and that just makes things a bit more dynamic because anything with that tag will automatically have that rule applied, so it’s a nice easy way to apply firewall rules. We’ll specify this as HTTP dash tag, and we’ll have to remember that for later. And we’ll use an ephemeral IP address and then we can create this instance template. </p>
<p>Okay, with this complete we can create an instance group. So, we’re going to create two groups of instances, one in each region, and they’re going to based off this template. The first one will be the U.S. East region, and we’ll be using HTTP, so I just like to specify that as the name there, and we’ll set it to multiple zones, we don’t really need to worry about which zone, we’ll just have it pick for us, so we’ll use east four, and it’s already got our template there, perfect. It’s using auto-scaling, I’m going to use the default CPU usage, but feel free to change that for yourself. </p>
<p>The minimum number of instances is one, that’s fine. The max is 10, it’s a bit high, let’s set that to two. Okay, and let’s create this. So this is going to create instances inside of a group based on our template that are running inside of the U.S. East four region. So, now let’s just copy this name, we’re going to use the same basic naming convention, and create our European instance group. And so I’m going to just paste this and swap this over. Okay, perfect. </p>
<p>And let’s set the region. Actually, I didn’t set the multiple zones first, so let’s do that again. And set the region. Perfect, and it doesn’t have our instance template here so let’s set that. And again, let’s dial the maximum number of instances down to two. And let’s create this. </p>
<p>All right, with this complete, what we’ve actually done is we’ve set up our web server running in two different regions using the same instance template and created through instance groups. And those groups are going to allow this to auto-scale. That’s going to make it so that we can scale up and down based on the demand, and all of this is going to end up routed through just the one IP address, so there’s a lot of functionality here happening in the background, though it’s going to be seamless to the user, they’re going to be able to just hit that one IP address, and get routed to the region and instance that is the best qualified to handle the traffic. </p>
<p>Okay, so the next thing we need to do is create our firewall rule. Remember, we created our tag on the instance, now let’s create a firewall rule that recognizes that tag, and it’s going to apply to those instances that we just created. So, we’re going to click on create firewall rule. And we’ll give it a name. The most creative name you’ve ever seen, no doubt. And I’ll scroll down, this is an ingress rule, we’ll allow, and we need to specify the tag here, so HTTP dash tag. Okay, so that will apply to our instances. And we want this to be accessible from everywhere so we’ll use zero dot zero dot zero dot zero slash zero. Is there an extra zero in there? I can’t tell. Anyway, we’re going to specify the port of port 80. And click create. </p>
<p>Okay, so now we have our firewall rule. In theory, because we’ve linked this together with the tags, these instances are accessible from the internet. We should be able to hit these on port 80 and see the webpage that is running. So let’s test this out by copying the URL. Oops, I deleted the five here, there we go. </p>
<p>Okay, so this is running, you can see it’s running in U.S. East four, let’s try this again with the other region. And we’ll drill into Europe. And copying this external IP address, pasting it in here, yeah, there it is, Europe West three. Okay, so our instances are up and running, they are accessible over the internet on port 80, so, so far things are looking good. </p>
<p>The next thing we need do is create our external IP address because we don’t wanna have to actually go to the individual instances to view our webpage. So, let’s click on the navigation menu and let’s go to the external IP address section. Okay, so once this loads, we can click this reserve static address here. And I’m going to select this name from the list, as you can tell I’ve done this off camera before. I’ll make sure it’s IPv4, and we’re going to set this as a global type. And we’ll click reserve. </p>
<p>Notice in the network tier column in a second here, it should pop up, yeah, there it is, it says premium, so this is what I was mentioning earlier at the beginning, some of these features are actually premium network tier. </p>
<p>So, next let’s click on the load balancing section, we’re going to create the load balancer. And so we’ll click create here, and we’ll select HTTP, though notice you can use TCP or UDP. And I’ll just give this a name real quick. Let’s call this webserver map, and let’s set a backend. So, we’re going to select our backends, though now that I’m here, notice you can actually create a backend off of storage bucket, so that’s kind of cool, not really the purpose of this demo, but it’s still cool. </p>
<p>So we’ll go back to create our backend service, and I’ll give this a name, we’ll call it web server map backend. Okay, and we need to set our instance group, this is the group of servers that it’s going to route traffic to, and we’ll now set another one, we’re gonna grab the European one. </p>
<p>So now I’ve added the two backends, I’ve added the two different groups of web servers, the one in the U.S. and the one in Europe, next thing we need to do is make sure we have a health check. We need to know that the instances are healthy, and so for that, we’ll click on this health check and create. And we’ll just give this a name of web server map backend, that’s probably not the best name since I think I already used that, but we’ll go with it for this demo. Okay, and we’ll click create. </p>
<p>Notice on this host path and rules page, we can actually specify different rules for how to direct traffic to the different backends. Clicking on this add rule here is going to allow us to specify a host and a path, so maybe you wanna do something like some URL-based routing, you wanna send anything that mentions images, based on this little example here, anything that says images in the URL you wanna send to a specific location, that could be a storage bucket or someplace else, this gives you the functionality to do that. We’re not going to do it, we’re going to send all the traffic by default to the backend that we’ve just created. Though keep in mind that you can use content-based routing, which is pretty cool. </p>
<p>The frontend configuration, let’s give this a name. And perfect, so we’re gonna make sure it’s HTTP. It’s the premium tier, that’s fine, and we wanna use our static IP address, that way it’s always the same IP address, we’ll be able to use that in DNS if we want to. Clicking on review and finalize, everything looks good here, this is all that we expect, so let’s click create. And perfect. </p>
<p>So let’s drill into this. It’s going to provide for us the IP address for the frontend and let’s copy that and paste that in another tab. And we get a 404. Now, don’t worry, this is actually expected, this is working as designed. It just takes a little while for some of this stuff to propagate out. So, we’re working with some global rules here, it takes a little while for that to get sent all over the globe and wherever it is it needs to be. So don’t worry, this can take a few minutes, I think the last time I did this I waited about 10 minutes. So I’m gonna pause here and I will catch you in 10 minutes. </p>
<p>Okay, I’m back, and it’s been about 10 minutes, let’s click on the refresh button and see if this is working now. And it is. Notice this is running in U.S. East four B. If I was to keep mashing this refresh button, it’s really not going to change. I have two regions, yes that is true, I’m distributing the traffic between them, that is also true, however, it’s tough to tell because Google is going to route me to the best possible instances that it finds. And now it determines that in different ways, but basically since I am physically close to U.S. East, I’m actually in East US, it’s going to send me to that server. </p>
<p>The way we’re going to test this is I actually started up two instances earlier, one of them is in the U.S., one of them is in Europe, and we’re going to use those as springboards to test this out. I’ve used the Cloud Shell functionality to SSH into them, and so I’m going to just pivot to that screen and show you them side-by-side. And so here they are. I’m going to add a little space here so that it doesn’t overlap with these icons up in the top right. And I’m going to use curl to actually see if this works. </p>
<p>So, this page on the left-hand side is East four, over on this let’s do curl, and I paste that in, notice it says this server is running in zone, and then there’s a project ID, not gonna read that off, but then it’s followed by zone U.S. East four B. So, because this one is the best option it’s going to send us to East four, and if we try from this European instance, and again I’ll add a little space here, and curl, oops extra period there, and there it is, so Europe West three B. So it actually works. </p>
<p>Okay, with this complete let’s stop here and summarize what we’ve done in this lesson. We built a cross-region web application using compute engine instances which were created based on instance templates and they were created inside of an instance group. Then, we created a firewall rule that allowed IPv4 traffic to port 80 from anywhere and it mapped to our instances using network tags. We created a static IP address that we then linked to the frontend forwarding rule. We also created the backend service which contained the instance groups, that’s those two instance groups the U.S. East and Europe West. Then we tested this by sending traffic to our static IP address from different servers, those springboard servers that were located in the U.S. and Europe, and we noticed that we received our traffic from the closest region. So, all things considered, I think this was a successful build-out. </p>
<p>All right, that’s going to do it for this <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-systems-operations/course-introduction-5/">course</a>, I hope it has helped you to further your understanding of the Google Cloud Platform. Thank you so much for watching, and I will see you in a future course.</p>
<p><strong>Note: The startup script shown in this video is at</strong> <a target="_blank" rel="noopener" href="https://gist.github.com/whelmed/9b688aa4bf7d1d7d55900753f023d0ae">https://gist.github.com/whelmed/9b688aa4bf7d1d7d55900753f023d0ae</a>.</p>
<h1 id="1Course-Introduction"><a href="#1Course-Introduction" class="headerlink" title="1Course Introduction"></a>1<strong>Course Introduction</strong></h1><p><a target="_blank" rel="noopener" href="https://cloudacademy.com/course/what-is-cloud-computing-introductory/introduction-8/">Course: What is Cloud Computing?</a></p>
<p><a target="_blank" rel="noopener" href="https://cloudacademy.com/course/google-cloud-platform-fundamentals/course-introduction-1/">Course: Google Cloud Platform: Fundamentals</a></p>
<h1 id="15Putting-It-All-Together"><a href="#15Putting-It-All-Together" class="headerlink" title="15Putting It All Together"></a>15<strong>Putting It All Together</strong></h1><p><a target="_blank" rel="noopener" href="https://gist.github.com/whelmed/9b688aa4bf7d1d7d55900753f023d0ae">Startup Script</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/19/GCP-Professional-Architect-Inspecting-and-De-Identifying-Data-With-Google-Cloud-Data-Loss-Prevention-5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/19/GCP-Professional-Architect-Inspecting-and-De-Identifying-Data-With-Google-Cloud-Data-Loss-Prevention-5/" class="post-title-link" itemprop="url">GCP-Professional-Architect-Inspecting-and-De-Identifying-Data-With-Google-Cloud-Data-Loss-Prevention-5</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-19 00:13:59" itemprop="dateCreated datePublished" datetime="2022-11-19T00:13:59-04:00">2022-11-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-20 19:39:00" itemprop="dateModified" datetime="2022-11-20T19:39:00-04:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GCP-Professional-Architect/" itemprop="url" rel="index"><span itemprop="name">GCP-Professional-Architect</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/19/GCP-Professional-Architect-Inspecting-and-De-Identifying-Data-With-Google-Cloud-Data-Loss-Prevention-5/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/19/GCP-Professional-Architect-Inspecting-and-De-Identifying-Data-With-Google-Cloud-Data-Loss-Prevention-5/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <span id="more"></span>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/19/GCP-Professional-Architect-Starting-a-Windows-Virtual-Machine-on-Google-Compute-Engine-4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/19/GCP-Professional-Architect-Starting-a-Windows-Virtual-Machine-on-Google-Compute-Engine-4/" class="post-title-link" itemprop="url">GCP-Professional-Architect-Starting-a-Windows-Virtual-Machine-on-Google-Compute-Engine-4</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-19 00:13:58" itemprop="dateCreated datePublished" datetime="2022-11-19T00:13:58-04:00">2022-11-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-20 19:40:16" itemprop="dateModified" datetime="2022-11-20T19:40:16-04:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GCP-Professional-Architect/" itemprop="url" rel="index"><span itemprop="name">GCP-Professional-Architect</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/19/GCP-Professional-Architect-Starting-a-Windows-Virtual-Machine-on-Google-Compute-Engine-4/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/19/GCP-Professional-Architect-Starting-a-Windows-Virtual-Machine-on-Google-Compute-Engine-4/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <span id="more"></span>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/19/GCP-Professional-Architect-Working-with-Google-Cloud-Storage-from-the-Console-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/19/GCP-Professional-Architect-Working-with-Google-Cloud-Storage-from-the-Console-3/" class="post-title-link" itemprop="url">GCP-Professional-Architect-Working-with-Google-Cloud-Storage-from-the-Console-3</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-19 00:13:56" itemprop="dateCreated datePublished" datetime="2022-11-19T00:13:56-04:00">2022-11-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-20 19:41:06" itemprop="dateModified" datetime="2022-11-20T19:41:06-04:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GCP-Professional-Architect/" itemprop="url" rel="index"><span itemprop="name">GCP-Professional-Architect</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/19/GCP-Professional-Architect-Working-with-Google-Cloud-Storage-from-the-Console-3/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/19/GCP-Professional-Architect-Working-with-Google-Cloud-Storage-from-the-Console-3/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <span id="more"></span>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/19/GCP-Professional-Architect-Knowledge-Check-Overview-of-Google-Cloud-Platform-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/19/GCP-Professional-Architect-Knowledge-Check-Overview-of-Google-Cloud-Platform-2/" class="post-title-link" itemprop="url">GCP-Professional-Architect-Knowledge-Check-Overview-of-Google-Cloud-Platform-2</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-19 00:13:55" itemprop="dateCreated datePublished" datetime="2022-11-19T00:13:55-04:00">2022-11-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-20 19:38:20" itemprop="dateModified" datetime="2022-11-20T19:38:20-04:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GCP-Professional-Architect/" itemprop="url" rel="index"><span itemprop="name">GCP-Professional-Architect</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/19/GCP-Professional-Architect-Knowledge-Check-Overview-of-Google-Cloud-Platform-2/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/19/GCP-Professional-Architect-Knowledge-Check-Overview-of-Google-Cloud-Platform-2/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <span id="more"></span>
<p><object data="Knowledge-Check-Overview-of-Google-Cloud-Platform.pdf" type="application/pdf" width="100%" height="600"></object></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/19/GCP-Professional-Architect-Overview-of-Google-Cloud-Platform-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/19/GCP-Professional-Architect-Overview-of-Google-Cloud-Platform-1/" class="post-title-link" itemprop="url">GCP-Professional-Architect-Overview-of-Google-Cloud-Platform-1</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-19 00:13:53" itemprop="dateCreated datePublished" datetime="2022-11-19T00:13:53-04:00">2022-11-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-20 19:36:50" itemprop="dateModified" datetime="2022-11-20T19:36:50-04:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GCP-Professional-Architect/" itemprop="url" rel="index"><span itemprop="name">GCP-Professional-Architect</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/19/GCP-Professional-Architect-Overview-of-Google-Cloud-Platform-1/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/19/GCP-Professional-Architect-Overview-of-Google-Cloud-Platform-1/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <span id="more"></span>

<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>Welcome to “Overview of Google Cloud Platform”. My name’s Guy Hummel, and I’m a Google Certified Professional Cloud Architect. If you have any questions, feel free to connect with me on LinkedIn and send me a message, or send an email to <a href="mailto:support@cloudacademy.com">support@cloudacademy.com</a>.</p>
<p>This course is an introduction to Google Cloud Platform, also known as GCP. It’ll give you a broad overview of the types of services available in GCP without going too deeply into any of them.</p>
<p>This course is intended for anyone who’d like to learn more about GCP, so previous experience with it isn’t necessary. It’d be helpful to have some general technical knowledge, though, because I don’t explain basic terms like file server or operating system.</p>
<p>The best way to learn is by doing, so I recommend that you try performing these tasks yourself on your own GCP account. If you don’t already have one, then you can create a free trial account.</p>
<p>To save you the trouble of typing in the URLs and commands shown in this course, I’ve put them in a readme file in a GitHub repository. You can find a link to the repository at the bottom of the Overview tab below this video.</p>
<p>By the end of this course, you should be able to describe some of the GCP services available in various categories, use the Google Cloud Console, and use the gcloud command-line interface.</p>
<p>We’d love to get your feedback on this course, so please give it a rating when you’re finished.</p>
<p>Now, if you’re ready to learn about what you can do with Google Cloud Platform, then let’s get started.</p>
<h1 id="GCP-Overview"><a href="#GCP-Overview" class="headerlink" title="GCP Overview"></a>GCP Overview</h1><p>So what is Google Cloud Platform? It’s a collection of online services that organizations can use to build, host, and deliver applications. The best part is that GCP runs in Google’s data centers, so you can take advantage of Google’s global network and vast experience with serving applications to billions of people around the world.</p>
<p>Not only does this approach save you the trouble of having to build and maintain your own on-premises IT infrastructure, but it can also save you money because you only have to pay for what you use, and you can scale your GCP resources up and down as needed.</p>
<p>For most applications, you need three core elements: compute, storage, and networking. Let’s start with compute. One of the most common ways to run applications on GCP is to use virtual machines, or VMs for short. These are machines that run either Linux or Windows. Google’s service for running VMs is called Compute Engine. If you currently have an application running on a Windows or Linux server, then the most straightforward way to migrate it to GCP is to do what’s called a “lift and shift” migration. That is, you simply lift the application from your on-premises server and shift it to a virtual server in the cloud. Compute Engine is known as Infrastructure-as-a-Service because it runs traditional IT infrastructure components that are offered as a service.</p>
<p>Google also has what’s known as a Platform-as-a-Service offering called App Engine. This platform lets you host web and mobile applications without having to worry about the underlying infrastructure. After creating an App Engine app, you can just upload your code to it and let GCP take care of the details. It even scales the underlying resources up and down automatically. For example, if your app isn’t getting any traffic, App Engine will scale the number of underlying VMs down to zero, and you won’t get charged until your app starts getting traffic again.</p>
<p>In most cases, using App Engine is a better solution than using virtual machines, but there are times when it makes more sense to use VMs. For example, if you have an application that’s not a web or mobile app, then you can’t use App Engine, so you’ll have to use a VM.</p>
<p>These days, the hottest compute technology is containers. These are self-contained software environments. For example, a container might include a complete application plus all of the third-party packages it needs. Containers are somewhat like virtual machines except they don’t include the operating system. This makes it easy to deploy them because they’re very lightweight compared to virtual machines. In fact, containers run on virtual machines.</p>
<p>Google provides a variety of ways to run containers. The simplest way is to use Cloud Run. This service lets you run a container using a single command. If you have a more complex application that involves multiple containers, then you’ll probably want to use Google Kubernetes Engine (or GKE for short), which is a container orchestrator. It makes it easy to deploy and manage multi-container applications.</p>
<p>Another hot area is known as “serverless”. The term “serverless” is a bit misleading because it still involves servers. It just means that you don’t have to know anything about the underlying servers that run your code. That sounds like App Engine, doesn’t it? Yes, App Engine can be considered serverless. The same goes for Cloud Run. But the GCP service that’s most associated with the term “serverless” is Cloud Functions. </p>
<p>While App Engine and Cloud Run are typically used to deploy applications, Cloud Functions is used to deploy individual functions. Cloud Functions is event-driven, which means the function gets executed when a particular event occurs. For example, you could configure a function to be triggered whenever a new file is uploaded to a particular storage location.</p>
<p>Speaking of storage, let’s move on to GCP’s storage options. The simplest one is called Cloud Storage. It’s referred to as object storage, but really it’s just a collection of files. It’s not like a normal filesystem, though, because it doesn’t have a hierarchical folder structure. It has a flat structure. It’s typically used for unstructured data, such as images, videos, and log files.</p>
<p>One of the great things about it is that it has multiple storage classes: Standard, Nearline, Coldline, and Archive. Standard is for frequently accessed files. Nearline is for files you expect to access only about once a month or less. The advantage is that it costs less than Standard as long as you don’t access it frequently. Coldline is for files you expect to access at most once every three months. Archive is for files you expect to access less than once a year. It has the lowest cost.</p>
<p>All four storage classes give you immediate access to your files. This is different from some other cloud providers where the lowest cost storage can take hours to access.</p>
<p>If you need a more traditional file storage option with a hierarchical structure, you can use Filestore. It lets you create NFS-compatible file shares that can be mounted on your virtual machines or containers.</p>
<p>Now let’s look at databases. If you’re currently using MySQL, PostgreSQL, or Microsoft SQL Server, then Cloud SQL is your best bet. It’s a fully-managed service for each of those three database systems. These are all relational databases that are suitable for online transaction processing.</p>
<p>The problem with relational databases is that it’s very difficult to scale them to handle high-volume, high-speed data. In contrast, NoSQL databases can easily scale to handle massive amounts of data. The downside is that most NoSQL databases are designed for much simpler use cases than relational databases, such as storing key&#x2F;value pairs.</p>
<p>Google offers many NoSQL databases, including Bigtable, Firestore, Firebase Realtime Database, and Memorystore. Bigtable is best for running large analytical workloads. Firestore is ideal for building client-side mobile and web applications. Firebase Realtime Database is best for syncing data between users in real time, such as for collaboration apps. Memorystore is an in-memory datastore that’s typically used to speed up applications by caching frequently requested data.</p>
<p>Cloud Spanner is a unique database because it seems to combine the best of both worlds. It’s a relational database that’s massively scalable. So why wouldn’t you use it for all of your database needs? Well, mostly because it’s more expensive than the other options. Also, if your application is written specifically for a particular database, such as SQL Server, then Cloud SQL would be a better choice, unless you can rewrite it to work with Cloud Spanner.</p>
<p>If you need a data warehouse, then BigQuery is the right solution. It’s something you use after data is collected, rather than being a transactional system. It’s best suited to aggregating data from many sources and letting you search it using SQL queries. In other words, it’s good for OLAP (that is, Online Analytical Processing) and business intelligence reporting.</p>
<p>That’s a lot of storage and database options. Now let’s move on to networking. When you create a virtual machine on GCP, you have to put it in a Virtual Private Cloud, or VPC. A VPC is very similar to an on-premises network. Each virtual machine in a VPC gets an IP address, and it can communicate with other VMs in the same VPC. You can also divide a VPC into subnets and define routes to specify how traffic should flow between them.</p>
<p>By default, all outbound traffic from a VM to the Internet is allowed. If you also want to allow inbound traffic, then you need to assign an external IP address to the VM.</p>
<p>If you want VMs in one VPC to be able to communicate with VMs in another VPC, then you can connect the VPCs together using VPC Network Peering.</p>
<p>If you want to create a secure connection between a VPC and an on-premises network, then you can use Cloud VPN, which stands for Virtual Private Network, Cloud Interconnect, or Peering. A VPN sends encrypted traffic over the public Internet, whereas Cloud Interconnect and Peering communicate over a private, dedicated connection between your site and Google’s network. Cloud Interconnect is much more expensive than a VPN, but it provides higher speed and reliability since it’s a dedicated connection. Peering is free, but it’s not well-integrated with GCP, so you should usually use Cloud Interconnect instead.</p>
<p>There are plenty of other network services available as well, but the ones I’ve covered are enough to give you a good high-level understanding of GCP networking.</p>
<p>Google also provides a wide variety of other services outside of the core compute, storage, and networking categories, such as in hot areas like artificial intelligence and DevOps. I’ll go over some of those later.</p>
<p>The easiest way to understand how GCP works is to actually use it, so in the next lesson, we’ll create a virtual machine. If you’re ready, then go to the next video.</p>
<h1 id="Using-the-Google-Cloud-Console"><a href="#Using-the-Google-Cloud-Console" class="headerlink" title="Using the Google Cloud Console"></a>Using the Google Cloud Console</h1><p>Now we’re going to dive into using GCP. Suppose you have a server application that you want to migrate to the cloud. As I mentioned earlier, the most straightforward way to do this is to move the application to a virtual machine on GCP.</p>
<p>There are many ways to interact with GCP. The Google Cloud Console runs in a browser, so you don’t need to install anything to use it. Alternatively, you can install the SDK, which stands for Software Development Kit. The SDK includes two types of tools. The first is what you’d expect in an SDK: a collection of client libraries that your applications can use to interact with GCP services.</p>
<p>The second is a set of command-line tools, including gcloud, gsutil, bq, and kubectl. The one you’ll use the most is gcloud, which is for managing all services other than Cloud Storage, BigQuery, and Kubernetes.</p>
<p>It’s actually possible to use the command-line tools from inside the browser, too, without having to install anything on your desktop. I’ll show you how to do that in the next lesson.</p>
<p>The easiest way to get started, though, is to use the console, so if you’re following along on your own account, go to console.cloud.google.com. To get to the place where you can create a VM, go into the menu on the left and select “Compute Engine”. Then click “Create”.</p>
<p>First, you need to give the VM a name. Google generally refers to VMs as instances, so the default name is “instance-1”. For the purposes of this demo, we can leave it at that, but note that you can’t change the name later, so if you were creating a production instance, you’d probably want to name it something else.</p>
<p>Next, you need to set the region and the zone. Google has an extensive network of data centers around the world, and it’s adding more all the time. Each of the circles on this map represents a region, which is basically a data center. Each region contains at least three zones. A zone is essentially an independent part of a data center and has its own power, cooling, network, and security infrastructure. Google divides its data centers into at least three independent zones so that if one of them goes down, it won’t affect the other zones. So, if you distribute your resources across the zones, your applications will keep running even if one of the zones fails.</p>
<p>When you create a virtual machine, you need to say which region and zone to put it in. You can’t change this later, so make sure to choose the right location. Generally, you want to choose a location that’s closest to the people who will be using the VM. I’m going to leave it with the default of us-central1, which is in Iowa. You’ll notice that this region has more than three zones. If you’re only creating a single VM, then it doesn’t really matter which zone you pick, so I’ll just leave it with the default, which is us-central1-a.</p>
<p>Now we need to select the type of machine to create. You can choose from general-purpose, memory-optimized, and compute-optimized. For example, if you choose memory-optimized, then the VM will have way more memory per processor core than it normally would. We’ll leave it as a general-purpose machine, so it’ll have a balanced amount of compute power and memory.</p>
<p>Next, we select the processor series. If it matters to you whether your VM runs an Intel or an AMD CPU, then you can select the one you want here. Otherwise, you can just leave it as E2, which means it will pick whichever type of CPU is available.</p>
<p>Now we finally get to choose the size of the VM. Each option has a certain number of virtual CPUs and a certain amount of memory, although you can create a custom mix of CPUs and memory if you want. The options are divided into sections. If you choose a shared core option, then your VM will be sharing its compute resources with other GCP customers, which is why this is the cheapest option. The other sections are Standard, High memory, and High CPU.</p>
<p>You might be wondering why there are high memory and high CPU options considering that we chose the general-purpose family. You can choose these options if you want a moderately higher amount of memory or CPU in your VM. If you want an extremely high amount of memory or CPU, then you’ll need to choose one of the other machine families first.</p>
<p>The estimated cost per month is shown up here based on which option you choose. Right now, it says $24.86 per month, which is how much it costs for e2-medium. I’m going to set it to e2-micro, which is the smallest option. It only costs $6.52 per month.</p>
<p>Next, we need to configure the boot disk. For the operating systems, we can choose from a variety of Linux distributions or Windows Server. I’ll leave it as Debian. Then we can set the size. I’ll leave it at 10 gig.</p>
<p>If we wanted to run a web server on this instance, then we could select these checkboxes here to open the HTTP and HTTPS ports in the firewall.</p>
<p>There are lots of other options for management, security, disks, networking, etc. We can leave those with the defaults, but there’s one interesting option I want to show you. It’s called “Preemptibility”. If you make this VM a preemptible instance, then it will only run for 24 hours, and there’s even a chance that it could be removed at any time without warning. So why on earth would you want to use a preemptible instance? Well, because it would cost you about 70% less than a normal instance. For example, if you were creating a cluster of VMs to run a batch job, then it might make sense to make them preemptible instances and save a lot of money.</p>
<p>Okay, now we can click Create. One of the great things about GCP is how quickly it spins up new instances. On other platforms, I would fast-forward the video at this point, but it’s so quick on GCP that I don’t need to do that. Another thing I love about GCP is how easy it is to connect to VMs. All you have to do is click on this SSH button here. And we’re in. That’s way easier than on other platforms.</p>
<p>If you check the box beside the VM’s name on this page, you can do a few things, like stop or delete the VM, but if you want to do more, then click on the VM’s name. You can make certain changes to the VM, such as adding new disks. If you stop the VM, you can even move it to a bigger size with more memory and CPUs. If you go to the Monitoring tab, you can see lots of graphs showing things like CPU usage.</p>
<p>That’s it for this demo. If you’re following along on your own GCP account, you might want to look around and see what you can do with your new VM instance. Just remember to delete it when you’re done, so you don’t incur any ongoing charges.</p>
<p>Now if you’re ready to see how to work with GCP using the command-line interface, then please go to the next video.</p>
<h1 id="Using-the-CLI"><a href="#Using-the-CLI" class="headerlink" title="Using the CLI"></a>Using the CLI</h1><p>As you saw in the last demo, it’s pretty easy to use the portal to create GCP resources. But if you know how to use the command-line interface, you can usually create resources more quickly, often with a single command. For example, to create a virtual machine called instance-1 in the us-central1-a zone, all you need to do is type, “<code>gcloud compute instances create instance-1 --zone=us-central1-a</code>”. This will create the instance using defaults for everything. To specify particular options, you can just add them to the command.</p>
<p>But to give you some variety, in this demo, I’m going to show you how to create a website on App Engine using the command line. And we’re going to do it without installing the Google Cloud SDK on your desktop.</p>
<p>If you click on this icon, it’ll start the Cloud Shell, which is a very small virtual machine that you can use to run commands. It already has the Cloud SDK installed on it, so we don’t need to. To make it bigger, click here. This brings it up in its own browser tab.</p>
<p>For our website, we’re going to use a very simple example Google has created called the Hello World app. First, we need to download it. The command to do that is in the readme file in the <a target="_blank" rel="noopener" href="https://github.com/cloudacademy/gcp-overview">GitHub repository</a> for this course. The link to the repository is at the bottom of the Overview tab below this video.</p>
<p>Here’s the command. Copy it and paste it at the Cloud Shell prompt.</p>
<p>Okay, it’s done downloading, so now we need to go into the directory that has the Hello World app in it. Let’s see what’s in this directory. This is a Python app, so the main file here is called main.py. The rest of the files are basically just supporting files.</p>
<p>Now we can deploy this web application to App Engine using a single command. First, we type “<code>gcloud</code>”, which is the command-line tool used for most of GCP’s services. Then we type “<code>app</code>”, which means that we’re going to do something with App Engine. Then we type “<code>deploy</code>”, which means to deploy the files in the current directory to App Engine.</p>
<p>Now we have to authorize Cloud Shell to make a GCP API call. Just click the Authorize button. Since this is the first time deploying to App Engine in this project, it needs to create an application. We have to choose a region where the application will be deployed. We won’t be able to change it to another region later, so we have to be sure to pick the right one. I’m going to choose “us-central” again.</p>
<p>It gives the details of what it’s going to create, and it asks for confirmation. You can just hit Enter because the default choice is ‘Y’. You can tell it’s the default because it’s capitalized. This’ll take a while, so I’ll fast-forward.</p>
<p>Okay, it’s done. Now to see if it worked, copy this URL, and paste it into a browser tab. It worked. It says, “Hello World!”, which is all it’s supposed to do. That was pretty easy, wasn’t it?</p>
<p>If you’re following along on your own account, you may want to delete your App Engine instance to avoid incurring additional charges. However, because we went with the default Standard environment, App Engine will not run any VMs to serve this website unless it receives more requests. So, you shouldn’t incur any charges unless someone accesses your app’s URL for some reason.</p>
<p>Nevertheless, you may want to disable it, just in case. Surprisingly, there’s currently no way to do this from the command line. The only way to do it is to go to App Engine in the console. Looks like I need to refresh this. And I need to go through a few getting started things here.</p>
<p>Okay. Now select Settings, and click the “Disable application” button. </p>
<p>And that’s it for this quick introduction to the command-line interface.</p>
<h1 id="More-Services"><a href="#More-Services" class="headerlink" title="More Services"></a>More Services</h1><p>So far, I’ve only talked about compute, storage, and networking services, but Google offers services in many other categories as well. I won’t talk about all of the GCP services available, but I’ll go over some of the highlights.</p>
<p>Most organizations that start using GCP already have on-premises systems, and they typically want to move some of the applications running on these systems to the cloud. Google provides a number of services to help with this.</p>
<p>The most popular on-premises virtualization platform is, of course, VMware, so I’ll start with how to migrate virtual machines running on VMware. The easiest way is to run them in Google Cloud VMware Engine, which is a complete VMware environment that runs on GCP.</p>
<p>If you’d rather run on Google’s standard compute services instead, then there are a couple of great options. First, Migrate for Compute Engine offers a very sophisticated way to migrate your local virtual machines from VMware to GCP. This service runs an instance on GCP while using the data attached to your local VM. It transfers the data it needs to GCP as it goes. Running the application on GCP before all of the data has been transferred makes the migration process much faster than other methods. Once the data transfer is finished, the instance reboots, and the migration is complete. In addition to VMware, Migrate for Compute Engine also supports physical machines and even VMs running on Amazon Web Services and Microsoft Azure.</p>
<p>If you want to move from virtual machines to containers, then you can use Migrate for Anthos. It will actually convert a VM into a container that’s managed by Google Kubernetes Engine. It currently supports Linux VMs running on VMware, AWS, or Azure. It also supports migrating both Linux and Windows VMs from Google Compute Engine. So, if you want to migrate from Windows or from physical servers, then you can use Migrate for Compute Engine to move them to GCP instances, and then you can use Migrate for Anthos to move them to containers.</p>
<p>One common issue is how to move a large amount of data to GCP. Trying to transfer hundreds of terabytes of data over the internet or even Direct Interconnect would be slow and expensive. Google’s solution is called a Transfer Appliance. It’s a physical storage server that Google ships to your data center. Then you transfer your data to the appliance and ship it back to Google where it gets transferred to Cloud Storage.</p>
<p>One of the most important considerations when you’re moving to GCP is how to ensure that access to your resources is only given to the people who should have it. The most commonly used on-premises identity solution is Microsoft’s Active Directory, so as you would expect, Google has provided a way to integrate with it. Managed Service for Microsoft Active Directory lets you connect your on-premises Active Directory to one that’s hosted on GCP. This allows you to authenticate your users with your existing directory.</p>
<p>If you aren’t using Active Directory, then you can use Cloud Identity instead. As you can tell from the name, it’s a cloud-based identity solution offered by Google.</p>
<p>Okay, let’s move on to one of the hottest categories. Google is known for being on the cutting edge of artificial intelligence and machine learning. For example, it shocked the world when its AlphaGo software defeated one of the best human players at the Go board game.</p>
<p>If you don’t have experience with machine learning, don’t worry. Google offers lots of artificial intelligence services that don’t require any knowledge of machine learning. At the moment, Google divides these services into four categories: Sight, Language, Conversation, and Structured Data.</p>
<p>Under Sight, they have the Vision API, which detects objects, faces, and text in images, and the Video Intelligence API, which recognizes objects, places, and actions in videos.</p>
<p>Under Language, they have the Translation API, which will be familiar to anyone who has used Google Translate to find out what something written in another language says. It supports over one hundred languages. They also have the Natural Language API, which performs tasks like sentiment analysis. For example, it can classify a message as being positive, negative, or neutral.</p>
<p>The Conversation category includes the Text-to-Speech and Speech-to-Text APIs, which do exactly what you would expect based on their names. It also includes a groundbreaking AI service called DialogFlow, which is so good at sounding like a real person, it’s almost scary. Using DialogFlow, you can build chatbots and voicebots to handle things like customer support requests.</p>
<p>The last category is Structured Data. These services allow you to feed in structured data and get back insights. For example, Recommendations AI can look at a customer’s previous purchases and recommend other products that the customer might be interested in buying.</p>
<p>All of these prebuilt AI services have been trained based on general sets of data, so they might not be able to handle your specific needs. For these scenarios, Google provides its AutoML suite of services. For example, you might need to identify product defects on the assembly lines in your factories. By feeding your own data into AutoML Vision, you can train a custom model without having to know machine learning.</p>
<p>If you need to build custom models that are outside the scope of the AutoML suite, then you can use the AI Platform suite. It includes many services, but the most important ones are AI Platform Training and AI Platform Prediction. The Training service lets you train custom models using popular Python-based frameworks, including TensorFlow, scikit-learn, and XGBoost.</p>
<p>The Prediction service will host your trained models and let you send requests for predictions. In machine learning terms, a prediction is basically the “answer” returned by the model for a given data record. For example, if you feed a new image into a trained model and ask what’s contained in the image, the answer it gives is called a prediction because it’s just making a very good guess.</p>
<p>All right, another area where Google is particularly strong is data analytics. Google offers so many services in this area that it can be hard to figure out which ones to use. I’ll divide them into Ingest, Store, Process, and Visualize.</p>
<p>If you’re not familiar with the term “ingest”, it just means “load”. There are lots of ways to ingest data, but if you have a large amount of data streaming in, then you’ll likely need to use Pub&#x2F;Sub. It essentially acts as a buffer for services that may not be able to handle such large spikes of incoming data.</p>
<p>In the Store category, the main option is BigQuery, which I talked about earlier. BigQuery is also the main option for interactive analytics, that is, running queries on your data. If you need high-speed automated analytics, then Bigtable is usually the right choice.</p>
<p>The Process category is where Google has the most options. These services are used to clean and transform data. If you already have Hadoop or Spark-based code, then you can use Dataproc, which is a managed implementation of Hadoop and Spark. Alternatively, if you already have Apache Beam-based code, then you can use Dataflow. If you’re starting from scratch, you might want to choose Dataflow because Apache Beam has some advantages over Hadoop and Spark. If you’d like to do data processing without writing any code, you can use Dataprep, which actually uses Dataflow under the hood.</p>
<p>To visualize or present your data with graphs, charts, etc., you can use Data Studio or Looker. Data Studio was Google’s original visualization solution, but then Google acquired Looker, which is a more sophisticated business intelligence platform. One big difference is that Data Studio is free, but Looker isn’t. So, if you need to do simple reporting, then Data Studio should be fine, but if you want to do something more complex, then Looker is your best bet.</p>
<p>If you want to create a processing pipeline that runs tasks in multiple GCP services, then you can use Composer, which is a managed implementation of Apache Airflow. Not only can it run tasks in GCP services like Pub&#x2F;Sub, Dataflow, Dataproc, and BigQuery, it can even run tasks in on-premises environments. Data Fusion is similar to Composer except that it has a graphical interface and doesn’t require you to write any code.</p>
<p>One common source of big data is the Internet of Things, or IoT. This refers to devices, such as thermostats and light switches, that are connected to the internet. Google provides a service called IoT Core that lets you manage and ingest data from your IoT devices.</p>
<p>Let’s move on to DevOps tools. These services help you automate the building, testing, and releasing of application updates. The most important DevOps tool is Cloud Build. It lets you create continuous integration &#x2F; continuous deployment pipelines. The way it works is when you push new software updates to your code repository, it will build your application, run automated tests, and create a container or artifact for deployment.</p>
<p>Cloud Build integrates with third-party code repositories, such as Bitbucket and GitHub, but you may want to use Google’s Cloud Source Repositories, which are private Git repositories hosted on GCP. If you’re deploying your applications using containers, then you can configure Cloud Build to put the code into a container and push it to Artifact Registry, which is a private Docker image store hosted on GCP.</p>
<p>Okay, now let’s go into some of Google’s most important global networking services. One way to make your web applications respond more quickly to your customers is to use a Content Delivery Network. Google offers Cloud CDN for this purpose. It caches your content on Google’s global network, which reduces the time it takes for your users to retrieve it, no matter where they’re located in the world. This is especially important if your content includes videos.</p>
<p>To make sure your application continues to be responsive when there’s a sudden increase in traffic, or even if one of Google’s data centers fails, you can use Cloud Load Balancing. It redirects application traffic to groups of VM instances distributed in different locations, and it can automatically scale the number of instances up or down as needed. All of this complexity is hidden behind a single IP address.</p>
<p>Load Balancing works well for normal increases in network traffic, but what about when you’re hit by a Distributed Denial of Service, or DDoS, attack? You can use Cloud Armor, which integrates with Cloud Load Balancing.</p>
<p>Cloud Armor is a network security service, but there are many other layers of security in GCP. The most important is IAM, which stands for Identity and Access Management. Since identity is handled using an outside service, such as Cloud Identity or even Google accounts, IAM is really about access management. It lets you assign roles to users and applications. A role grants specific permissions, such as being able to create a VM instance.</p>
<p>Another important security area is encryption. GCP handles this very well because everything is encrypted by default. However, many organizations need to manage the encryption keys that are used to encrypt their data, especially to comply with certain security standards. Google provides Cloud Key Management to allow your organization to centrally manage your encryption keys.</p>
<p>A similar service is Secret Manager, which is a central place to store your API keys, passwords, certificates, and other secrets.</p>
<p>Finally, the Data Loss Prevention service helps you protect sensitive data. For example, if your user records contain credit card numbers, you could configure DLP to remove them before responding to a database query.</p>
<p>I’ve covered some of the most important GCP services, but there are many more that I didn’t cover. So if you have a need that doesn’t seem to fit with any of these services, there are plenty of other options. First, you can look through the Google Cloud Products page. Another way is to type what you’re looking for in the search bar in the GCP console. The search results will include not only standard GCP services but also third-party services in the Marketplace. </p>
<p>Okay, that’s it for this services overview.</p>
<h1 id="Designing-a-Solution"><a href="#Designing-a-Solution" class="headerlink" title="Designing a Solution"></a>Designing a Solution</h1><p>Now that you have a good idea of what services are available in GCP, let’s see how we can put them together to create a more complex solution. Google provides lots of sample architectures in this slide deck. It includes examples for solutions like a mobile game backend and an Internet of Things ingestion and processing system.</p>
<p>Let’s have a look at a more typical solution. One of the most common things people need to set up on GCP is a website. There are many different ways to do this. I already showed you a simple example using App Engine, although I should mention that App Engine is typically used for much more complex applications.</p>
<p>If you only need to set up a static website (that is, one that doesn’t have any server-side code), then believe it or not, you don’t even need to use any sort of compute service. You can just upload your website to Cloud Storage and point the DNS record for your website to it. You don’t even need to use Google’s Cloud DNS service to make this work. If your website domain is already registered with another domain registrar, then you can just update your website’s DNS record there.</p>
<p>Okay, so now you know a couple of really simple ways to create a website on GCP, but what if you need to do something more complicated? This article on Google’s site has a more complex example that uses Compute Engine. There are a lot of services in this diagram, so let’s start from scratch and work our way up to the full architecture.</p>
<p>At the heart of the solution is Compute Engine. Why would you choose this instead of App Engine considering that it takes more work to set up and maintain it? Well, the main reason is that Compute Engine gives you complete flexibility, whereas App Engine has more constraints. For example, suppose you have a web application that runs on Windows. You couldn’t host your application on App Engine because it only supports Linux. That’s not the only reason for choosing Compute Engine. There are many custom Linux configurations that won’t work on App Engine either.</p>
<p>To make sure your app stays up even if one of the zones fails, you’ll want to distribute your instances across multiple zones. If you’re expecting a lot of traffic on your website, then you’ll also want to set up autoscaling so it will add more instances as traffic increases. The way to handle both of these requirements is to put a Global Load Balancer in front of your instances.</p>
<p>Another aspect of making sure your app stays up is to make sure it can deal with Distributed Denial of Service attacks. Fortunately, you can just add Cloud Armor to mitigate DDoS attacks.</p>
<p>Next, you need to put the website’s static files somewhere. This includes things like HTML pages and images. All of the Compute Engine instances should get these static files from the same place, and the logical place to put them is Cloud Storage.</p>
<p>To speed up response time when serving static files, you can cache them in Cloud Content Delivery Network. That way, when a user requests a static file that has been requested by another user recently, they’ll retrieve it from the cache instead of waiting for a Compute Engine instance to retrieve it from Cloud Storage.</p>
<p>That takes care of the web front-end, but now you need to set up the backend. That is, you need to set up the part of the application that handles dynamic content and stores new data. Although you could put the backend on the same instances that serve the front-end, it’s usually better to host it on separate instances, especially for high-traffic applications.</p>
<p>These backend app server instances should also be distributed across zones and configured for autoscaling. However, since these instances will be communicating with the front-end instances rather than with end-users, you need to use an Internal Load Balancer.</p>
<p>The App Server instances also need a central place for their data, but since they’ll deal with dynamic data, Cloud Storage is not the right place for it. There are a few options depending on what type of data you need to store and retrieve. The most commonly used service is probably Cloud SQL because it can handle transaction processing.</p>
<p>Although you could probably use Cloud SQL for all of your backend database needs, you might want to use a NoSQL database to handle some of the simpler types of data that need to be accessed more frequently. Firestore is a NoSQL database, so it’s faster and more scalable than Cloud SQL, but it can only work with certain types of data, such as user profiles and product catalogs.</p>
<p>Finally, you can use Google’s Cloud DNS service to help users find your website, but as I mentioned earlier, it’s not a requirement. If you’re already using a third-party DNS service, you can keep using it. </p>
<p>There are, of course, lots of other services you could add to this architecture, too. One important consideration is how to manage your application once it’s running. That’ll be the focus of the next video, so if you’re ready, then I’ll see you there.</p>
<h1 id="Management-Services"><a href="#Management-Services" class="headerlink" title="Management Services"></a>Management Services</h1><p>Once you’ve deployed applications on GCP, you’ll need to maintain them. Google provides many services to help with that.</p>
<p>One of the most important is the Cloud Operations suite, which was formerly known as Stackdriver. Cloud Monitoring gives you a great overview of what’s happening with all of your resources. By default, it provides graphs showing metrics like CPU utilization, response latency, and network traffic. You can also create your own custom graphs and dashboards. But an even more critical feature is that you can set up alerts to notify you if there are problems. For example, you can set up an uptime check that alerts you if a virtual machine goes down. </p>
<p>Another useful service in the Cloud Operations suite is Cloud Logging. This is a central place where you can search all of the logs related to your resources, which can be very helpful for troubleshooting.</p>
<p>The suite also includes Error Reporting, Cloud Trace, Cloud Debugger, and Cloud Profiler to debug live applications and track down performance problems.</p>
<p>In addition to monitoring performance, you’ll also need to monitor security and compliance. Security Command Center gathers this information in one place. Its overview dashboard shows you active threats and vulnerabilities, ordered by severity. For example, if one of your applications is vulnerable to cross-site scripting attacks, then that vulnerability will show up in the list. Security Command Center also includes a compliance dashboard that lets you know about violations of compliance standards, such as PCI-DSS, in your GCP environment.</p>
<p>So far in this course, I’ve talked about creating GCP resources manually, but once you’re happy with a particular configuration for a resource, such as a virtual machine, you’ll probably want to create nearly identical resources in a more automated way.</p>
<p>Google’s solution is Cloud Deployment Manager. To use it, you create a configuration file with all the details of the GCP resources you want to create, and then you feed it to Cloud Deployment Manager. What makes it really powerful is that you can define the configuration of multiple, interconnected resources, such as two VM instances and a Cloud SQL database. Then you can deploy all of them at once.</p>
<p>Google has many other management tools as well, but these are the ones you’ll probably use the most often.</p>
<p>And that’s it for management services.</p>
<h1 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h1><p>I hope you enjoyed learning about GCP. Let’s do a quick review of what you learned.</p>
<p>Google Cloud Platform is a collection of online services that organizations can use to build, host, and deliver applications, and it runs in Google’s data centers around the world.</p>
<p>GCP’s primary compute offerings are Compute Engine, App Engine, Cloud Run, Kubernetes Engine, and Cloud Functions.</p>
<p>Compute Engine runs virtual machines, which Google calls instances. A preemptible instance is a VM that will only run for 24 hours, and Google can remove it at any time without warning. Preemptible instances cost about 70% less than normal instances.</p>
<p>App Engine runs web and mobile applications. Cloud Run and Kubernetes Engine run containers. Cloud Functions runs individual functions. App Engine, Cloud Run, and Cloud Functions are referred to as serverless.</p>
<p>In the raw storage area, Google provides Cloud Storage for unstructured objects and Filestore for traditional file sharing.</p>
<p>GCP’s relational database offerings are Cloud SQL for MySQL, PostgreSQL, or Microsoft SQL Server, and Cloud Spanner, which is a massively scalable database that can run globally.</p>
<p>Google’s NoSQL offerings include Bigtable, Firestore, Firebase Realtime Database, and Memorystore. Bigtable is best for running large analytical workloads. Firestore is ideal for building client-side mobile and web applications. Firebase Realtime Database is best for syncing data between users in real time, such as for collaboration apps. Memorystore is an in-memory datastore that’s typically used to speed up applications by caching frequently requested data.</p>
<p>Google’s data warehouse service is BigQuery.</p>
<p>GCP’s equivalent of an on-premises network is a Virtual Private Cloud, or VPC. You can connect VPCs together using VPC Network Peering. To create a secure connection between a VPC and an on-premises network, you can use Cloud VPN, which runs over the internet, or you can create a dedicated, private connection using either Cloud Interconnect or Peering.</p>
<p>Google offers lots of options for migrating your on-premises applications. VMware Engine is a complete VMware environment that runs on GCP. Migrate for Compute Engine helps you migrate your local virtual machines from VMware to GCP. Migrate for Anthos will convert a VM into a container that’s managed by Google Kubernetes Engine. The Transfer Appliance is a physical storage server that you can use to ship large amounts of data to Google.</p>
<p>For authentication, Managed Service for Microsoft Active Directory lets you connect your on-premises Active Directory to one that’s hosted on GCP. If you aren’t using Active Directory, then you can use Cloud Identity instead.</p>
<p>Google offers lots of artificial intelligence services that don’t require any knowledge of machine learning. At the moment, Google divides these services into four categories: Sight, Language, Conversation, and Structured Data. Some of the key APIs are Vision, Video Intelligence, Translation, Natural Language, Text-to-Speech, Speech-to-Text, DialogFlow, and Recommendations.</p>
<p>If you need to train models using custom data, but you still don’t want to write any machine learning code, you may be able to use Google’s AutoML suite of services to do it. If you need to build custom models that are outside the scope of the AutoML suite, then you can use the AI Platform suite. It includes many services, but the most important ones are AI Platform Training and AI Platform Prediction.</p>
<p>Google is particularly strong in the data analytics area. Pub&#x2F;Sub acts as a buffer for services that may not be able to handle huge spikes of incoming data. BigQuery is the main option for storage and interactive analytics.</p>
<p>Dataproc is a managed implementation of Hadoop and Spark. Dataflow is a managed implementation of Apache Beam. Dataprep lets you do data processing without writing any code, and it uses Dataflow under the hood. To visualize or present your data with graphs, charts, etc., you can use Data Studio or Looker. Data Studio is free, but Looker is a more sophisticated business intelligence platform.</p>
<p>If you want to create a processing pipeline that runs tasks in multiple GCP services, then you can use Composer, which is a managed implementation of Apache Airflow. Data Fusion is similar to Composer except that it has a graphical interface and doesn’t require you to write any code.</p>
<p>To manage and ingest data from Internet of Things devices, Google offers IoT Core.</p>
<p>Cloud Build lets you create continuous integration &#x2F; continuous deployment pipelines. Cloud Source Repositories are private Git repositories hosted on GCP. Artifact Registry is a private artifact store hosted on GCP.</p>
<p>Cloud CDN caches your content on Google’s global network, which reduces the time it takes for your users to retrieve it. Cloud Load Balancing redirects application traffic to groups of VM instances distributed in different locations, and it can automatically scale the number of instances up or down as needed. You can use Cloud Armor to mitigate Distributed Denial of Service attacks. </p>
<p>Identity and Access Management, or IAM, lets you assign roles to users and applications. Everything in GCP is encrypted by default. Cloud Key Management allows organizations to manage their encryption keys. Secret Manager is a place to store your API keys, passwords, certificates, and other secrets. The Data Loss Prevention service helps you protect sensitive data, such as credit card numbers.</p>
<p>The Cloud Operations suite includes Monitoring, Logging, Error Reporting, Trace, Debugger, and Profiler. The Security Command Center shows you active security threats and vulnerabilities as well as compliance violations. Cloud Deployment Manager lets you automate the creation of GCP resources.</p>
<p>A region is basically a data center. Each region contains at least three zones. A zone is essentially an independent part of a data center and has its own power, cooling, network, and security infrastructure. Google divides its data centers into at least three independent zones so that if one of them goes down, it won’t affect the other zones.</p>
<p>You can interact with GCP using the web console, command-line tools, including gcloud, gsutil, bq, and kubectl, or by calling the Cloud SDK client libraries from your applications.</p>
<p>To learn more about GCP, please look through our Google Cloud Platform Library. We have courses, labs, and practice exams on nearly every GCP topic, and we have more content coming out all the time.</p>
<p>Please give this course a rating, and if you have any questions or comments, please let us know. Thanks and have fun with Google Cloud Platform!</p>
<h1 id="4Using-the-CLI"><a href="#4Using-the-CLI" class="headerlink" title="4Using the CLI"></a>4<strong>Using the CLI</strong></h1><p><a target="_blank" rel="noopener" href="https://github.com/cloudacademy/gcp-overview">Course GitHub repo</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/19/GCP-Cloud-Engineer-Cert-Prep-Google-Associate-Cloud-Engineer-34/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/19/GCP-Cloud-Engineer-Cert-Prep-Google-Associate-Cloud-Engineer-34/" class="post-title-link" itemprop="url">GCP-Cloud-Engineer-Cert-Prep-Google-Associate-Cloud-Engineer-34</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-11-19 00:03:25 / Modified: 00:03:26" itemprop="dateCreated datePublished" datetime="2022-11-19T00:03:25-04:00">2022-11-19</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/19/GCP-Cloud-Engineer-Cert-Prep-Google-Associate-Cloud-Engineer-34/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/19/GCP-Cloud-Engineer-Cert-Prep-Google-Associate-Cloud-Engineer-34/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/19/GCP-Cloud-Engineer-Google-Cloud-Networking-Challenge-33/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/19/GCP-Cloud-Engineer-Google-Cloud-Networking-Challenge-33/" class="post-title-link" itemprop="url">GCP-Cloud-Engineer-Google-Cloud-Networking-Challenge-33</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-11-19 00:03:23 / Modified: 00:03:24" itemprop="dateCreated datePublished" datetime="2022-11-19T00:03:23-04:00">2022-11-19</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/19/GCP-Cloud-Engineer-Google-Cloud-Networking-Challenge-33/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/19/GCP-Cloud-Engineer-Google-Cloud-Networking-Challenge-33/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/24/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/24/">24</a><span class="page-number current">25</span><a class="page-number" href="/page/26/">26</a><span class="space">&hellip;</span><a class="page-number" href="/page/266/">266</a><a class="extend next" rel="next" href="/page/26/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Hang Zhang"
      src="/images/123456.gif">
  <p class="site-author-name" itemprop="name">Hang Zhang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">2653</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/zh375636" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zh375636" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:hang.zhang.network@gmail.com" title="E-Mail → mailto:hang.zhang.network@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hang Zhang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>



// 在最后添加
<script src="/js/code-unfold.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : '40GUvOAaitQh1SZe7ua9cvss-MdYXbMMI',
      appKey     : 'iUO2yON0j55WMdu59zx12dCG',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
