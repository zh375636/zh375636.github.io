<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="IntroductionHello, and welcome to this course covering the AWS security service, Amazon GuardDuty, which was announced during AWS re:Invent 2017. This course will explain what the service is and gui">
<meta property="og:type" content="article">
<meta property="og:title" content="AWS-Security-Specialty-Understanding-Amazon-GuardDuty-21">
<meta property="og:url" content="https://example.com/2022/11/14/AWS-Security-Specialty-Understanding-Amazon-GuardDuty-21/index.html">
<meta property="og:site_name" content="Hang&#39;s Blog">
<meta property="og:description" content="IntroductionHello, and welcome to this course covering the AWS security service, Amazon GuardDuty, which was announced during AWS re:Invent 2017. This course will explain what the service is and gui">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-11-14T17:52:15.000Z">
<meta property="article:modified_time" content="2022-11-20T02:53:38.000Z">
<meta property="article:author" content="Hang Zhang">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://example.com/2022/11/14/AWS-Security-Specialty-Understanding-Amazon-GuardDuty-21/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>AWS-Security-Specialty-Understanding-Amazon-GuardDuty-21 | Hang's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hang's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/14/AWS-Security-Specialty-Understanding-Amazon-GuardDuty-21/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          AWS-Security-Specialty-Understanding-Amazon-GuardDuty-21
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-14 13:52:15" itemprop="dateCreated datePublished" datetime="2022-11-14T13:52:15-04:00">2022-11-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-19 22:53:38" itemprop="dateModified" datetime="2022-11-19T22:53:38-04:00">2022-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AWS-Security-Specialty/" itemprop="url" rel="index"><span itemprop="name">AWS-Security-Specialty</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/14/AWS-Security-Specialty-Understanding-Amazon-GuardDuty-21/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/14/AWS-Security-Specialty-Understanding-Amazon-GuardDuty-21/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <span id="more"></span>

<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>Hello, and welcome to this course covering the AWS security service, Amazon GuardDuty, which was announced during AWS re:Invent 2017. This course will explain what the service is and guide you through its features and configuration.</p>
<p>Before we start, I would like to introduce myself. My name is Stuart Scott. I’m one of the trainers here at Cloud Academy, specializing in AWS <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/amazon-web-services/">Amazon web services</a>. Feel free to connect with me with any questions, using the details shown on the screen, or tentatively, you can always get in touch with us, here, at Cloud Academy, by sending an email to <a href="mailto:support@CloudAcademy.com">support@CloudAcademy.com</a>, where one of our Cloud experts will reply to your question.</p>
<p>As a pre-requisite to this course, you should have a basic understanding of the fundamentals of AWS, along with an awareness of different security measures and mechanisms that are offered by different AWS services, such as within IAM, specifically IAM Policies.</p>
<p>This course has been designed for those who are in a role of a security consultant or specialist, security analyst, security auditor, Cloud architect, or Cloud operational support analyst. This would also be valuable to anyone looking to learn more about AWS Security and threat detection within AWS.</p>
<p>This course has been designed to lead someone who is new to Amazon GuardDuty through to becoming someone who has a sound understanding of the service. The lectures have therefore been constructed as follows:</p>
<ul>
<li>What is Amazon GuardDuty? This lecture focuses on explaining what the service is and the function that it provides.</li>
<li>Components and configuration: This looks at the different components and elements that make up a service. This lecture also includes a demonstration on how to configure a service.</li>
<li>Managing multiple accounts: If you have multiple accounts, then this lecture will explain how you can configure Amazon GuardDuty to work across all your AWS accounts that you have.</li>
<li>Managing permissions: As with any service, you need to ensure you have the correct permissions configured for both the service with the service-linked role, and also your operational staff who will manage the service. This lecture looks at the different permissions required.</li>
<li>Understanding Amazon GuardDuty findings: Here, we’ll look at how to view the findings generated by Amazon GuardDuty and the different components of these findings to help you remediate any issues.</li>
<li>Benefits to the enterprise: This lecture focuses on how Amazon GuardDuty can be of benefit to your business.</li>
<li>Costing: Understanding that cost is important when using the features of a new service. This lecture examines those costs and provides an example.</li>
<li>Partner offerings: A number of different third parties offer services that seamlessly interact with GuardDuty. So, here, I will look at a couple of these examples.</li>
<li>Summary: Finally, I provide a summary lecture, which will highlight the main points from each lecture.</li>
</ul>
<p>There are a number of key objectives to this course. These being: to understand what Amazon GuardDuty offers as a service, you’ll understand how to manage and configure the service for single and multiple accounts, you’ll understand how to implement the correct permissions to both enable and manage the service, you’ll have an awareness on how to manage and resolve findings generated, and you’ll be able to explain how Amazon GuardDuty can play an important role within your organization.</p>
<p>Feedback on our courses, here at Cloud Academy, are valuable to both us, as trainers, and any students that can take the same course in the future. If you have any feedback, positive or negative, it would be greatly appreciated if you can contact us at <a href="mailto:support@CloudAcademy.com.">support@CloudAcademy.com.</a></p>
<p>That brings us to the end of this lecture. Coming up next, I’ll be explaining exactly <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/what-is-aws-amazon-guardduty-1/">what Amazon GuardDuty is</a>.</p>
<h1 id="What-is-AWS-Amazon-GuardDuty"><a href="#What-is-AWS-Amazon-GuardDuty" class="headerlink" title="What is AWS Amazon GuardDuty?"></a>What is AWS Amazon GuardDuty?</h1><p>Hello and welcome to this lecture where I want to provide an introduction to the service, explaining what it is, what it does, and the problem that it solves.</p>
<p><a target="_blank" rel="noopener" href="https://cloudacademy.com/library/amazon-web-services/">AWS</a> still treats security as its number one priority across its public cloud. They know that without adequate security techniques, mechanisms, and measures in place to safeguard and protect their customers and their data, their customers will not have the confidence to use their services. Cloud security can still be seen as one of the main reasons that companies are slow to adopt cloud technology from a public cloud provider such as AWS. Much of this can be attributed to the lack of cybersecurity skills within an organization. Not having the knowledge and ability to confidently implement a high level of security within the cloud can be damaging to an organization.</p>
<p>Security is an ongoing development process. As technology changes, so do threats and risks against that technology. With this comes a need for newer, more advanced and powerful tools to protect against these threats, and AWS is at the forefront of this development.</p>
<p>Prior to <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/introduction-60/">Amazon GuardDuty</a>, there were 10 other services that sat within the security, identity, and compliance category of the AWS Management Console, making this service the 11th. Each security service has a very specific function and benefit that it provides to assist and help customers control, manage, and operate a secure and safe environment within the cloud. The services within this category already cover a wide scope of features and security mechanisms, so how does this new service differ from the rest that already exist?</p>
<p>Amazon GuardDuty is a regional-based intelligent threat detection service, the first of its kind offered by AWS, which allows users to monitor their AWS account for unusual and unexpected behavior by analyzing AWS CloudTrail event logs, VPC flow logs, and DNS logs. It then uses the data from logs and assesses them against multiple security and threat detection feeds, looking for anomalies and known malicious sources, such as IP addresses and URLs.</p>
<p>The service itself is powered by machine learning, and this allows the service to continuously evolve by learning and understanding operational behavior within your infrastructure. Amazon GuardDuty then uses this data to look for erroneous patterns within your AWS account that could indicate potential threats to your environment. These threats could be behavioral based, where a resource has been compromised by an account or credential exposure, unexpected API calls that sit outside security best practices, or even communications from suspicious sources.</p>
<p>Using different threat detection feeds, some generated from public sources and some by AWS, Amazon GuardDuty provides automatic and continuous security analysis for safeguarding your entire AWS environment. Any findings generated by the service are presented and issued with a priority level that enables you to investigate the issue further to ensure that your environment is not compromised and exposed unnecessarily. Amazon GuardDuty is very simple to activate within your account, and unlike other more traditional threat detection mechanisms, there is no need to install any agents or software on your resources, meaning that this is a very scalable and flexible security tool to have enabled.</p>
<p>With this in mind, it’s also possible to link your AWS accounts together to perform a threat detection layer across all of your accounts. In addition to this, the service itself operates entirely on AWS infrastructure, providing zero impact of the performance of your own existing resources within your account. Threat detection is key in the defense against a security breach. Having the ability to respond to a potential threat as it is detected significantly reduces the chances of a breach. Cyber criminals are using more advanced techniques to infiltrate networks and hosts using zero-day threats, and Amazon GuardDuty is the latest service to help defend against these attacks.</p>
<p>That now brings me to the end of this lecture. Coming up next, I will be discussing the different <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/components-and-configuration-1/">components</a> of the service and how it fits together.</p>
<h1 id="Components-and-Configuration"><a href="#Components-and-Configuration" class="headerlink" title="Components and Configuration"></a>Components and Configuration</h1><h2 id="Resources-mentioned-in-this-lecture"><a href="#Resources-mentioned-in-this-lecture" class="headerlink" title="Resources mentioned in this lecture:"></a>Resources mentioned in this lecture:</h2><p>Course: <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/aws-cloudtrail-introduction/aws-cloudtrail-an-introduction-1/">AWS CloudTrail: An Introduction</a></p>
<p>AWS Resource: <a target="_blank" rel="noopener" href="http://docs.aws.amazon.com/guardduty/latest/ug/guardduty_finding-types.html#actual-types">Amazon GuardDuty Finding Types</a></p>
<h2 id="Lecture-Transcript"><a href="#Lecture-Transcript" class="headerlink" title="Lecture Transcript"></a>Lecture Transcript</h2><p>Hello and welcome to this lecture. Now we have an understanding of what the service is, I want to talk about the components that make up Amazon GuardDuty and its configurable options.</p>
<p>Firstly, let me look at the data sources that the service uses to perform its analysis. As mentioned in the previous lecture, the service uses three data sets to monitor your <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/amazon-web-services/">AWS</a> account for threats, these being AWS CloudTrail Event Logs. These logs are generated from the output of the CloudTrail service in a JSON format and they hold all of the information and data relating to API calls that have been captured within your account. If you’d like further information on AWS CloudTrail, then please see our existing course <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/aws-cloudtrail-introduction/aws-cloudtrail-an-introduction-1/">here</a>, which covers the service in detail.</p>
<p>VPC Flow Logs, these logs capture and store network traffic information flown into an out of your network interfaces from instances within your VPC. They are often used to troubleshoot networking issues for instances and can be used as a security tool by monitoring what traffic is reaching your instance.</p>
<p>DNS Query Logs, these logs contain queries that DNS resolvers forward to Amazon Route 53 and they can include information such as the domain and subdomain that was requested, a timestamp of the request, the DNS record type, and the DNS response code. If you’re not currently running these logs or have them configured within your account, then you need not worry. When you enable <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/introduction-60/">Amazon GuardDuty</a>, it will automatically make these logs available to the services itself for analysis. However, it doesn’t manage these logs in anyway. If you want management of these logs, then you’ll need to configure this through the relevant service dashboard or API.</p>
<p>Amazon GuardDuty also incorporates machine learning. This allows the service to learn and adapt to what classes as unusual behavior within your account over time to then highlight it as a potential threat. This is an ongoing process. The more you work with your account, the more Amazon GuardDuty will be able to distinguish between intended operational changes and that of malicious or unusual behavior that sits outside of your normal parameters of operation. In addition to the analysis that is undertaken against the various logs that I’ve already discussed. </p>
<p>It’s also possible to upload your own list of trusted IPs and threat list. Any IP information that is added to the trusted IP list is white listed. This simply means that GuardDuty will not generate findings based on these IP addresses. They are trusted and known IP addresses. It’s worth mentioning, but you can only have one active trusted IP listed any time. You can also include your own list of threats as well based on IP information. This list will contain a known list of malicious IP address or networks, but you want to ensure Amazon GuardDuty generates findings for if any traffic is detected with this information. Unlike the trusted IP limit list of one, you are allowed six threat list to be simultaneously active within guardduty at any one time. To add either a trusted IP list or threat list is a very simple process. You simply need to provide three bits of information from within the Amazon GuardDuty dashboard. Firstly, you need to give your list a name, then provide the URL of whether source list is located on S3, and then the format of that list.</p>
<p>The main functions of Amazon GuardDuty is of course to detect any potential threats within your environment. When a threat is found, it is labeled as a finding within the GuardDuty dashboard, allowing you to take appropriate actions against them to resolve any security vulnerability that might exist. The content of the finding itself contains a lot of useful information and is essentially broken down into five parts. The finding summary, the resource affected, the action, actor, and additional information. Let me just run through each of these elements so you have a brief understanding of the complete finding.</p>
<p>The summary of the finding contains some key data, including the finding type, the severity, the region, the account ID, resource ID, time of detection, and depending on the threat detected, it can also contain information on which threat list was used to detect the finding. Much of this data is self-explanatory. However, I want to explain more about the finding type as this is a very useful piece of data when trying to ascertain what the finding relates to.</p>
<p>The finding type is a single phrase composed of concatenated data, which follows a specific syntax that defines a potential threat event that is detected. For example, the finding type of unauthorized access, EC2 &#x2F; SSH Brute Force shows that an EC2 instance has been involved with an SSH brute force attack. This makes it very easy to quickly identify the nature of the threat from the summary screen. As I said, this finding type is defined by a set syntax, which is as follows.</p>
<p>Using our previous example, we an see the finding type with the above syntax. As you can see, not every finding type will contain all elements of the four syntax. For a complete list of the available finding types and what they define, see the AWS documentation <a target="_blank" rel="noopener" href="http://docs.aws.amazon.com/guardduty/latest/ug/guardduty_finding-types.html#actual-types">here</a>.</p>
<p>Resource affected, this section is dedicated to providing information and by the affected resource in the threat that has been detected. Depending on the finding type, the information in this section and all remain sections can vary.</p>
<p>Action. The action section provides information relating to the action that was carried out, that resulted in the threat being detected.</p>
<p>Actor. The actor section contains data relating to the source of the detected threat, such as geographical information, IP address, port and domain.</p>
<p>Additional information. Finally, the additional information section may contain information such as which threat list was used to detect the threat and if the activity was considered to be unusual compared to historical data. Each finding is associated with the severity level and score. The score value will affect the severity. As of writing this course, the severity is set as follows. High is labeled is seven to 8.9, medium is four to 6.9, and low is 0.1 to 3.9. These different severity levels allow you to quickly identify which findings you should act upon first as a priority.</p>
<p>Any finding that is marked as high should be investigated immediately as it assumes that a security breach has occurred and the resource in question has been compromised which poses a significant threat to your infrastructure. Remediation of this finding should be your first priority before the threat extends further within your account with additional malicious activity.</p>
<p>A medium severity will genuinely indicate that GuardDuty had to take the suspicious activity within your account against a specific resource. Although not as critical as high, this level of finding should still be investigated as soon as possible as it could be the beginnings of a greater threat and could soon escalate to a high if left unchecked.</p>
<p>Low severity findings do not require you to take any immediate action. These are threats that were detected and blocked before any issues arose within your environment. However, it is still worth looking at any low findings to see if there are improvement that can be made to prevent it from happening again.</p>
<p>I now want to perform a quick demonstration introducing you to the service itself. I’ll show you how to enable the service, configure trusted IP and threat list, and I’ll walk you through each of the screens within the Amazon GuardDuty dashboard. So let’s get started.</p>
<p>Okay, so I’m signed into my AWS management console, and what I want to do first is go to Amazon GuardDuty and we can find that down under Security, Identity, &amp; Compliance. And if this is the first time that you’re using the service, you’ll be presented with this splash screen, and it just enables you to get started and gives you a quick overview of exactly what it is. So, let’s get started.</p>
<p>Firstly, we need to enable the service. And like I say, it’s a very simple process. All we need to do is to click enable guard duty, And when we do this, as it says here, when you enable GuardDuty, you grant GuardDuty permissions to analyze AWS CloudTrail Logs, VPC Flow Logs, and DNS query logs to generate security findings. And this will set up a service role permission which has this access here, but I’ll go more into permissions in a later lecture to explain these service roles et cetera.</p>
<p>So if I click on Enable GuardDuty. It’s as simple as that. So we now have GuardDuty running within this account within this region. And at the moment, we don’t have any findings which is absolutely fine. I don’t really have many resources running in this account. It’s just a test account. So if I just take you through the dashboard and each of the screens and we can just take a look and get a feel for the service.</p>
<p>So on the left-hand side, you can see we have three different headings. We have Findings, Settings, and Free trial. So let’s start at Findings. In the screen, it will show any findings that have been found by Amazon GuardDuty and it will list under here as a finding and when it was last seen, etc. Like I say, at the moment, we’ve only just enabled the service. I don’t really have any resources running, so there is no findings at the moment. If we go into Archived, this will show a list of archived findings that you’ve had, again, with the same columns.</p>
<p>If we go down to General under Settings, here it talks about the permissions of the service role that GuardDuty uses to monitor your resources. And like I say, I’ll dive deeper into permissions in a later lecture, but this is where you can just see the service role permissions that it has and the trust relationships as well. On the CloudWatch events, GuardDuty does support CloudWatch and if you click on this link here, it will tell you how to configure this.</p>
<p>Under Sample findings, this is quite useful. So, sample findings help you visualize and analyze the finding types that GuardDuty generates. And if we want to list a number of sample findings for us to kind of get familiar with the console and the different findings that it has. Then we can simply click on Generate sample findings. And now if we go back to our finding settings under Current, we can see that GuardDuty has enabled a number of different sample findings for us, and they’re indicated here as samples. Don’t worry, these aren’t real findings in your account, these are all samples, and we can see that we have 33 samples.</p>
<p>If we look along these icons here, we can see that one of them has a high severity and 32 of them have a medium severity. And if you click on each of these, you can filter on those to identify exactly where the finding is. And if you want to remove the filters, just simply click on the X here. So if we keep going through these settings on the left. So that’s Generate sample findings. Underneath this, it gives you two settings, one to enable you to suspend GuardDuty and another to disable GuardDuty.</p>
<p>When you suspend GuardDuty, it stops monitoring your AWS environment, and it won’t generate any new findings at all. But any existing findings you have will remain in the console. If however you disable GuardDuty, then again monitoring will stop and it won’t generate new findings and you’ll also lose all your existing findings as well. If you want a copy of those findings before you disable it, then it’s best to export that data before you do so.</p>
<p>Next, if we go down to Lists, now this is where we can perform list management of your trusted IP lists and also your threat list as well. Okay, so let’s add a trusted IP list and a threat list whilst we’re here. So if I click on Add a trusted IP list, specify the list name, let’s just call this TrustedIP, enter the location, and I’ve called it TrustedIP.txt. So that’s my bucket. And if I specify the format just as plain text. And you need to click on I agree to accept and agree to the GuardDuty service terms. And then click on Add list. There we’ve added the trusted IP list.</p>
<p>If we move down to a Threat list, we can do the same. So let’s just call this ThreatList in the same bucket, and I’ve called it ThreatList.txt. Specify the format, plain text again. I agree. Add list. Then we got it. So now we have our trusted IP list and also our threat list that GuardDuty will use. And if you had a number of threat list, then you can select different ones to be active, etc. So it’s very simple to add your trusted IP list and your threat list as you can see.</p>
<p>If we go down to Accounts on the left-hand side, this is where you can set up and manage multiple accounts. So you can use a master GuardDuty account. And then if you have other AWS accounts, you can add them as member accounts, and then view all the findings from those member accounts in this one master account So it makes management a lot easier, and I’ll talk about this in a further lecture when I talk about multiple accounts. So I’ll go into that a lot deeper then.</p>
<p>Now if we look at Free trial, we look at the details on the Free trial. When you first enable Amazon GuardDuty, you get 30 days free of the service. And using the screen here, you can see how many events have been monitored by CloudTrail logs and how many bytes we’re using through VPC Flow logs and DNS logs. And it’ll give you an estimate in cost on how much that would actually cost once you’re outside of your 30-day free trial. So it gives you a good estimation on understanding how much this service would cost you over a typical month. So like I say, when you first enabled the service, you get 30 days free, and you can use this screen to kind of get an estimation on how much it would cost you going forward, which I think is a really good idea.</p>
<p>And then finally, on the left-hand side, we have Partners, and this will take you off to a list of Amazon GuardDuty partners. That’s essentially it for the console. Like I say, it’s a very simple service. There’s not much to it at all.</p>
<p>Before I finish the demonstration, if we go into one of these findings, pick this one for example, we can see here that we have a brief description of what the finding is. We can see that an instance with an unusual type was launched by a IAM principal, has a severity, and tell us the region it was in, how many. The account ID that it came under and any resource information, and also the treat list name as well. Again, remember these are just samples. It tells us about the resource effective and the access keys and IDs and usernames, what action was used, like the API call and the service name, and also some geographic information as well about where that was initiated from. So when you select the finding, you can get quite a lot of information from this to help you resolve the issue. And I have a later lecture coming up that dives deeper into analyzing findings as well. So I’ll talk more about these findings in that lecture. Let’s click on Close. And there you have it.</p>
<p>So, it’s very simple to enable GuardDuty. It’s imply a one click and it’s enabled for that region, and you just have a few menus on the left-hand side that are very self-intuitive.</p>
<p>That now brings me to the end of this lecture. Coming up next, I’m going to be talking about more on how to <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/managing-multiple-accounts-1/">manage multiple accounts</a>, so you can miss out of the dashboard. So I’ll explain how to share the findings from all your member AWS accounts and push it to one master GuardDuty account.</p>
<h1 id="Managing-Multiple-Accounts"><a href="#Managing-Multiple-Accounts" class="headerlink" title="Managing Multiple Accounts"></a>Managing Multiple Accounts</h1><p>Hello and welcome to this lecture where I’m going to explain how it’s possible to link multiple <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/amazon-web-services/">AWS</a> accounts when using <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/introduction-60/">Amazon GuardDuty</a> for centralized management.</p>
<p>Many organizations have multiple AWS accounts for many different reasons. When using GuardDuty, it’s possible to have one of these accounts act as a master account, and then all other AWS accounts act as members. In this scenario, all the findings from the member accounts are configured to send a copy of the results to the dashboard of the master account. This is ideal for your security teams who manage multiple AWS accounts, as it allows them to view all findings in a central location, instead of having to view the findings from within each AWS account.</p>
<p>It’s important to point out that Trusted IP lists and threat lists within the member accounts are not used within the master account. The member accounts each have their own lists, which can be configured by the users within those member accounts. However, the master account does give you added control and administrative functions, such as having the ability of being able to suspend Amazon GuardDuty within its own account and other member accounts. If you wanted to disable the service, then you must first remove the member accounts from the master account, as the master account is not allowed to disable GuardDuty on its member accounts.</p>
<p>The operation of Amazon GuardDuty with the member accounts remains the same. The users can still perform the same functions from within the dashboard, and it’s still possible to view and review the findings, upload trusted IP threat lists, as well as suspend or disable the service on that member account.</p>
<p>To set up your AWS accounts in a master and membership <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/components-and-configuration-1/">configuration</a> for GuardDuty is a simple three stage process. You must first add an AWS account from within the master account, send an invitation to the member account, and then accept the invitation from within the member account. This process prevents a single account from simply adding member accounts without authorization. The member account has to accept the invitation before sharing its findings with the master account.</p>
<p>To show you how to create the link between accounts, I will now demonstrate these three steps by adding a member account to a master account.</p>
<p>Okay, so I’m at the dashboard of the Amazon GuardDuty, and what I need to do is go down on the left hand side to Accounts. Now, I’m going to have this account as my master account, and I want to invite a second AWS account that I have to be a member account. So, that member account’s findings and details will be fed through to this master account. So, the first thing I need to do is click on Add Accounts, and I need to enter the account ID of the member account, and also the associated email address of that account. Now, if you have maybe 10, 20, 30 AWS accounts, or even more, then you might find it a little laborious to add each individual account, so what you can do, you can upload a CSV file with all that information in with all the account IDs and the associated email addresses. As I only have the single account, I’m going to add, I can put that account number in, and also the associated email address. Click on Add, and at the bottom here, we can see these are the accounts to be added, and then click on next, and we see here that member accounts share the findings with you, and members must first accept your invitation.</p>
<p>So, if we go down to under the Status column and click on Invite. Now, if you wanted to, you can enter a personal message here that will go to owner of the secondary account, and I’m just going to say “Please accept.” At this point, we just need to click on Send Invitation. And that has now sent an email to the owner of the account that we added. And we can see the status is now saying “Pending.” So, if I go across to my email and take a look at the email that we’ve received.</p>
<p>Now, this is the email that I’ve received. Now, the title states that there’s action requested, and it says “The master account wants to become the AWS GuardDuty administrator for this secondary AWS account.” And we can see down here where it says the following notes were provided with this invitation, and it says “Please accept.” So, that’s that custom message that I added. Now, to view the invitation, we can click this link here, and it takes me straight to this screen, and it says you have a membership invitation, but we must enable GuardDuty before we can accept invitations. So, we’ll need to enable GuardDuty on this account first.</p>
<p>GuardDuty’s now enabled, and it states that “The following AWS accounts have requested permission <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/managing-permissions-1/">permission</a> to view and manage GuardDuty items on your behalf. You can accept only one invitation.” So, this is our master account here, and I want to accept, and then I’ll go across to Accept Invitation. And that’s it. So, this is now the member account, and it will push its findings across to the master account. So now, if I go down to Accounts on this member account, I can see that this is a member account, and that pushes its findings to this master account, so I’ve accepted the invitation there.</p>
<p>So now, if I go across to the master account. So, I’m back in my dashboard for my master account, and now if I go down to Accounts, I can see here that I have a member account added, and the status is now monitored. And that’s it. So, it’s a very simple process to achieve. So, from your account that you want to be the master, you then invite any member accounts. Those member accounts then simply accept that invitation, and from that point onwards, your master account will then monitor the status and findings of all your member accounts.</p>
<h1 id="Managing-Permissions"><a href="#Managing-Permissions" class="headerlink" title="Managing Permissions"></a>Managing Permissions</h1><h2 id="Resources"><a href="#Resources" class="headerlink" title="Resources"></a>Resources</h2><p><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/guardduty/latest/ug/guardduty_managing_access.html">AWS Policies for Access Management</a></p>
<p>Course: <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/overview-of-aws-identity-and-access-management-iam/introduction-81/">Identity &amp; Access Management</a> </p>
<h2 id="Lecture-Transcript-1"><a href="#Lecture-Transcript-1" class="headerlink" title="Lecture Transcript"></a>Lecture Transcript</h2><p>Hello and welcome to this lecture where I want to talk about the different permissions required and used when using <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/introduction-60/">Amazon GuardDuty</a>, both from a user perspective and from the service itself.</p>
<p>This lecture will primarily focus on permissions to perform the following functions. How to access the Amazon GuardDuty Dashboard. How to enable the Amazon GuardDuty within a region and to manage your Trusted IP and Threat Lists. Before a user even begins to use Amazon GuardDuty specific permission are required to access the dashboard and enable the service. For example, if a user is trying to access the dashboard to enable GaurdDuty on your <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/amazon-web-services/">AWS</a> account but receive an error that prevents them from doing so then it’s most likely related to their permissions.</p>
<p>If the user selects Amazon GuardDuty from the homepage of the AWS Management console the following error message may appear preventing them from access to the GuardDuty dashboard. This error indicates that user doesn’t have the relevant permissions to access the GaurdDuty service. They would need to speak to their administrator to ask them to revise their permissions for GuardDuty. However, if additional permissions were then given to that user by allowing all actions within GuardDuty using the following policy, they will then be able to access the dashboard without an issue. This does not mean however that the user has all the permissions they need to initially enable the service within the region. If the user attempts to enable the service with the above permissions alone they will receive the following error.</p>
<p>To enable the Amazon GuardDuty service a user will need specific IAM permissions that allows them to create a service-linked role that allows GuardDuty to retrieve information about some of your resources. So although the user will have full access to GuardDuty actions the user will still need these additional permissions relating to IAM and service-linked roles.</p>
<p>AWS has created an AWS management policy with the relevant permissions to allow you to enable GuardDuty within a region. The name of this policy is Amazon GuardDuty Full Access. This policy essentially allows full access to Amazon GuardDuty actions with the added permissions of being able to create the service-linked role as shown in this policy. One point to be made aware of with this Amazon GuardDuty Full Access is that it doesn’t allow you to upload a Trusted IP or Threat List as this again, requires different IAM permissions. If you do try to add a list with the Full Access policy you will receive the following error.</p>
<p>To allow a user to be able to manage your Trusted IP and Threat lists you will need to add the following permissions to the user group or role. Do remember to replace the AWS account number with your own account. With all this in mind, AWS have provided a policy that you can create as a custom policy which allows you genuine full access to Amazon GuardDuty which will allow you access to the dashboard to enable the service in all regions and perform operations within the service including updating and managing Trusted IP and Threat Lists. And this policy is as shown, however you must remember to replace the AWS account number with your own. While I am on the topic of AWS management policies you may also notice that there is another AWS management policy entitled Amazon GuardDuty Read Only Access. As expected this policy provides the user to have read-only permissions to Amazon GuardDuty allowing them to review findings.</p>
<p>Earlier I mentioned the fact that GuardDuty uses the service-linked role during the enablement of the service. This role, AWS Service Role for Amazon GuardDuty contains the following permissions. This is used to enable GuardDuty to have read-only visibility of your EC2 instances should a finding become known relating to one of these resources. If there is a finding against your EC2 instance GuardDuty can use these permissions to retrieve metadata about the resource to present in the finding it generates to help resolve the security issue and threat. This service-linked role also has an associated trust relationship which allows Amazon GuardDuty to adopt this role. Again, when this service is enable against a region these permissions are granted to Amazon GuardDuty automatically.</p>
<p>As with other AWS services you can be very specific with what actions a user, group or role can perform with Amazon GuardDuty by creating custom IAM policies. For further information and details on how to create custom IAM policies please see our existing course <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/overview-of-aws-identity-and-access-management-iam/introduction-81/">here</a>.</p>
<p>That now brings me to the end of this lecture. Coming up next I shall be diving into <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/understanding-amazon-guardduty-findings-1/">GuardDuty findings</a> in more detail.</p>
<h1 id="Understanding-Amazon-GuardDuty-Findings"><a href="#Understanding-Amazon-GuardDuty-Findings" class="headerlink" title="Understanding Amazon GuardDuty Findings"></a>Understanding Amazon GuardDuty Findings</h1><p>Hello, and welcome to this lecture. I’m going to take a deeper look at the findings generated by <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/introduction-60/">Amazon GuardDuty</a>, and how to look into the details further to help you remediate the issues you find.</p>
<p>In an earlier lecture, I briefly provided an overview of the findings section, however, in this lecture I want to look at these findings in a bit more detail and also the findings area of the dashboard to show you some additional features that it has. To do this, I feel it would best to demonstrate this form within the management console, so let’s take a look.</p>
<p>Okay, so I’m at the dashboard of Amazon GuardDuty. And, as you can see, I have a number of sample findings, which is what we went through earlier in a previous demonstration. So, let’s take more of a look around this section of the findings dashboard.</p>
<p>On the far left-hand side of this table you can we have a number of check boxes, and we can select individual findings. Now, what we can do with these selected findings, is we can go to actions at the top here, and either archive those findings or export them. So let’s just run through each of those. If we click on archive, it says our findings have now been archived. So, if we go over to the left-hand side and select archive, we can see those findings that we archived there. Now you might do this for ease of management, or for general housekeeping, just keepin’ a record of the findings that you’ve had. And if you want to select all findings in a table, you simply click on the top check box, there. Pretty standard stuff. I’m going to move those findings back into current.</p>
<p>Okay, and the other option we had under actions was export. And this will export the JSON data for all of those findings. And you simply click on download and it will export the JSON file. If you need to refresh your findings list, there’s the refresh button at the top, here, simply click on that and it’ll refresh your findings.</p>
<p>Over on the right-hand side, at the top, we have indicators that let you know how many findings are of a particular severity. So, at the moment, I have zero findings that are low severity, 32 findings that are medium and 1 finding that is high. That is a very quick way to have a look at your dashboard to see your most critical findings, and you can simply click on each of these to filter on these findings. So, that’s the high, and there’s all your medium, and obviously, we don’t have any low. You can add additional filters to your findings. So, for example, if we looked at this top finding, here, that would bring up all the details for this finding. Now, if there’s any hyperlinks on this screen, as you can see here with the plus or minus or the actual resource id, here or the instance, if you click on the plus, then that will add that as a filter. As you can see, here, in this row we have a filter row with severity of medium. Now I can select, exclude that, or currently, it’s included.</p>
<p>So, if we go back into that same finding and I want to filter on this account id only, I can click on the plus, and again add it into the filter. And, one more, if I filter on resource type of instance. And now that’s filtered all the findings that have a severity of medium, with this account id, and this resource type. Now you can see that it now only showing 19 of the total 33 findings. If you like, you can save this as a set filter. So, I’m just going to call this, instance. If I remove all my filters now, I can then revert back to that filter at anytime by clicking on the dropdown box, clicking on the name and it will bring up the filter. So, you can set up many different filters if you have different accounts, especially if you’re filtering for member to master accounts or you can filter on resource types, or severities. Anything that has a hyperlink within the details of that finding, you can add a filter against. For example, again here, an action type of DNS_REQUEST, so if I go ahead and add that, we now have only eight findings of the 33 that match this filter.</p>
<p>If you wanted to exclude any of these filters, then just simply hover over it and click on exclude. So now a filter on all findings with a medium severity, under that account id that do not include a resource type of instance. You can either include or exclude filters as you see fit. Let’s just clear those filters, just by clicking on this x, here.</p>
<p>So, let’s now take a closer look at a couple of these sample findings. Let’s take a look at this one here, let’s do a Bitcoin. When you click on a finding, it will open up this additional window which gives you lots more information about the finding. At the very top, here, we have the finding type, which just gives us a breakdown of what the finding’s relating to. And then, from here, we can see that this EC2 instance is querying a domain name that is associated with Bitcoin-related activity.</p>
<p>Now, unless you’re using this EC2 instance to mine for Bitcoin, then it’s pretty fair to say that this instance has been compromised in some way or another. So, you could either take a look at that instance and see if it has any software on it that it shouldn’t do, any kind of malware or anything like that. Failing that, it’s probably best to terminate that instance and then set up a new EC2 instance. And then, when you’ve done that, just make sure you’re applying best practices to harden that instance against any kind of security threats using the <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/amazon-web-services/">AWS</a> security best practices.</p>
<p>So, looking more at this window, here, we can the Severity of the finding, and it’s currently set as Medium, the Account ID that this finding is associated with, and that’s helpful if you have <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/managing-multiple-accounts-1/">multiple accounts</a> feeding through to a master account. We can see when this finding was last seen, two days ago. The Region it was in, and also the Resource ID that is affected by this, and how many times this finding’s come up. And if we scroll down to the Resource affected, this gives us a bit more information on the resource itself. So we can see the role of this resource was a TARGET, Resource type is set as an Instance and it gives us the Instance ID. And we can click on that instance id and it will take us into the EC2 management console direct to that instance. As this is just a sample, made-up instance id, it won’t lead me anywhere if I click on it. It will take me to the EC2 console, but it’ll explain that it can’t find the instance.</p>
<p>If we go down to Action, this gives us the Action type of the threat which was a DNS_REQUEST, and as we know, the instance was drawn to a query, a domain name that’s related to Bitcoin mining. And then down to Actor, this gives us the actual domain, and then in this particular finding there wasn’t really much in the Additional information section. So, in this instance, I would probably terminate the instance and then launch it again. And then just ensure that we harden that instance with security best practices.</p>
<p>Just while I’m here, these icons at the top just simply tell you where this additional window will appear on your screen. So we can have it at the bottom, to the side, or just full screen. I tend to have it to the side, just makes it a little bit easier to read. And then when you’re done with the information, just click on close.</p>
<p>Let’s take a look at another example.Let’s take a look at this one, here. This time the finding type relates to a Behavior threat, to do with an EC2 instance and Network Port Unusual. This is stating that the EC2 instance is communicating with a remote host on an unusual server port 22. So what this is telling us is, generally during the history of this instance, communicating on port 22 to this remote host hasn’t happened before so it’s an unusual behavior. It’s flagged it as a potential threat. So, we can take a look again, it’s given it a severity, you can see the account id, the region etc. This time we have a threat list name, so it’s found it due to one of the configured threat lists. If you go down to the Resource affected, again we can see that the resource is the TARGET, and again it give the instance id as well. Under the Action section, we can see that it’s an OUTBOUND network connection that’s being made.</p>
<p>We can see some more information, here, about the remote host, it give the IP address, the Port that it’s actually using and some information relating to the city and the country. This time under Additional information it does give us a bit more, it gives us threat list name, the unusual port, which is 22, and the protocol, UDP. So, it does depend on the finding type as to what level of information you get under these additional section such as Actor, Action and Additional information. So, again, it looks like your instance is being compromised. You want to check out the security groups and ACLs, and also the EC2 instance itself. Again, a good way if you have an EC2 instance that’s been compromised, is just terminate it and launch a new instance, and harden that instance according to best practices.</p>
<p>So, it’s very self-intuitive. The findings themselves do provide some good information as to what has been affected, what kind of threat it is, and some information to help you remediate the problem as well. It’s a good idea to get familiar with these sample findings as the more familiar you become with these, the easier it will be to help you remediate real issues when you generate your own findings with your production environment.</p>
<p>That brings me to the end of this demonstration and the end of this lecture. Coming up next, I’m going to be talking about how you can use Amazon GuardDuty as a <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/benefits-to-the-enterprise-1/">benefit to your enterprise environment</a>.</p>
<h1 id="Benefits-to-the-Enterprise"><a href="#Benefits-to-the-Enterprise" class="headerlink" title="Benefits to the Enterprise"></a>Benefits to the Enterprise</h1><p>Hello, and welcome to this lecture, where I shall be focusing on a number of benefits that this service provides to the enterprise.</p>
<p>By now, you may already have a number of ways of how this service could benefit your own organization, as this is a very powerful and useful security service to have at your disposal. Any service that is able to offer assistance into the protection of your data within the public cloud is very valuable. All too often, we hear about organizations that are being probed and hacked within the cloud environment, with millions of records being stolen, containing sensitive, personally identifiable information. This is one of the reasons that cloud adoption is stalled, due to security risks and an awareness of how to secure the environment correctly.</p>
<p>The main benefit of the service is that it is simply an intelligent threat detection service, which performs continual and automatic analysis and threat detection within your <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/amazon-web-services/">AWS</a> account by analyzing your cloud trail logs, DNS query logs, and VPC flow logs. Essentially, you now have an active service monitoring and detecting anomalies throughout your environment with the addition of having it powered by machine learning and utilizing multiple threat detection feeds, looking for any communications with un-trusted and malicious sources.</p>
<p>Whether you are running 10 instances or 10,000 instances, the service does not impose any performance issues against your resources, and will provide the same high level of detection used within huge global enterprise deployments as it does to small-scale, single availability zone deployments. Security is crucial, and having these security resources available from day one is not something a small organization would have had in a traditional datacenter deployment of a solution.</p>
<p>The technology, skill set, and resource to implement a threat detection system in a traditional environment will be very costly and unlikely to make it into the forefront of priority in most cases. Regardless of the size of your AWS account and the resources within it, you will be able to use the power or full force of this intelligent threat detection service for a minimal cost.</p>
<p>As I explained in an earlier lecture, it’s possible to aggregate the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/understanding-amazon-guardduty-findings-1/">findings</a> of all your AWS accounts into a single master account. This simplifies the management for your security team by allowing them to monitor any findings through a single console. Any efficiencies such as this that can be taken advantage of saves time and reduces risk of something being missed. As with any monitoring solution, being able to assess your entire infrastructure through a single pane of glass effect pays dividends in its productivity as a service, and makes management that much easier.</p>
<p>With many security detection and vulnerability solutions out there today, either an agent or other software is often required to be installed onto the server that you want to monitor and detect potential security threats for. With Amazon GuardDuty, this is not required. All threat detection is performed without the need to monitor the incidents with additional software or agents.</p>
<p>One of the many great things about Amazon GuardDuty is that it comes with no upfront costs at all. You only pay for the processing of your log files, which I’ll come onto in a later lecture of this course. Traditionally, to install and configure a scalable, intelligent threat detection solution, would require a considerable amount of capital expenditure. With Amazon GuardDuty, you simply click enable, and it starts working straightaway without any upfront costs.</p>
<p>Having a powerful, intelligent threat detection system such as <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/introduction-60/">Amazon GuardDuty</a> is one thing, but being able to automate responses to findings to help remediate potential security loopholes is another. You can use Amazon CloudWatch event rules and targets in conjunction with AWS Lambda to help you automate a response to a particular finding. With the ability to trigger automated responses based on GuardDuty findings, you are able to quickly and easily lock down a particular resource or restrict permissions that could stop an attack. For example, if you had a resource that was the target of a brute force SSH attack, you could set an automatic response to block SSH. For more information on AWS Lambda and Amazon CloudWatch, please see our content library for labs and courses on these services.</p>
<p>There are many features and reasons as to why this service will be beneficial to your business, many of which could save you a lot of money, should malicious activity occur within your environment. That now brings me to the end of this lecture. Coming up next, I want to talk about how much this service <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/costing-1/">costs to run</a>.</p>
<h1 id="Costing"><a href="#Costing" class="headerlink" title="Costing"></a>Costing</h1><h2 id="AWS-Resource"><a href="#AWS-Resource" class="headerlink" title="AWS Resource"></a>AWS Resource</h2><p><a target="_blank" rel="noopener" href="https://aws.amazon.com/guardduty/pricing/">Amazon GuardDuty Pricing</a></p>
<h2 id="Transcript"><a href="#Transcript" class="headerlink" title="Transcript"></a>Transcript</h2><p>Hello, and welcome to this very short lecture just to explain how much <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/introduction-60/">Amazon GuardDuty</a> is likely to cost you, and how the pricing structure works.</p>
<p>Essentially, the pricing for this service is broken down into two parts. CloudTrail Event Analysis, and VPC Flow Log and DNS Log Analysis. CloudTrail Event Analysis is charged at per one million events per month, whereas the VPC Flow Logs and DNS Logs are charged at per gig of log analyzed per month.</p>
<p>The cost for each depends on which region you are running the service in. For a full listing of each region, visit the <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/amazon-web-services/">AWS</a> pricing page of the service found <a target="_blank" rel="noopener" href="https://aws.amazon.com/guardduty/pricing/">here</a>. When you first enable Amazon GuardDuty, you are able to use the service free for the first 30 days. In addition to this, you are able to see how much Amazon GuardDuty would have cost you for those 30 days, to help you estimate your ongoing payment should you continue to use the service. As you can see from this image within my own account for testing, there are minimal events and log data. As such, after a week, it wouldn’t have cost me anything as yet. I’ve not reached one million events or one gig of data. However, you can see from here that should you be running this is your Enterprise account, as opposed to my personal test account, where you may have thousands of resources, it would allow you to estimate the ongoing costs associated with GuardDuty.</p>
<p>Before I finish this lecture, I just want to provide a costing example, based on running Amazon GuardDuty from within the London EU region, which currently states pricing as follows. Please note, for the latest pricing information, please refer to the AWS documentation. With this in mind, let’s presume we have the following data per month: 55 million CloudTrail Events, 3,000 Gigabytes of VPC Flow Logs, and 2,000 Gigabytes of DNS Query Logs. Using the charges from the table listed for the London region, we can calculate the costing as follows. The CloudTrail Events would work out at $242, and the VPC Flow Logs and DNS Query Logs will total 2,350, giving a total of $2,592 for that month.</p>
<p>The charges for this service are very simple to understand and estimate. You may be thinking, is this worth the cost? But at the same time, you should also be thinking of the cost against not using the service, and suffering the effects of a security breach. Not only will this have a financial impact on your organization in the event you have to shut systems down to remediate the issue, but there is also a significant cost of reputation to your business. All of this needs to be taken into consideration when looking at the cost of security.</p>
<p>That now brings me to the end of this lecture. Coming up next, I shall be looking at some of the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/partner-offerings-1/">partner offerings</a> that are available, that work in conjunction with Amazon GuardDuty.</p>
<h1 id="Partner-Offerings"><a href="#Partner-Offerings" class="headerlink" title="Partner Offerings"></a>Partner Offerings</h1><h2 id="Resources-1"><a href="#Resources-1" class="headerlink" title="Resources"></a>Resources</h2><p><a target="_blank" rel="noopener" href="https://aws.amazon.com/marketplace/pp/B0764JH55Q?ref=_ptnr_AL_Website_CloudInsightEssentials_AWS_Marketplace">Alert Logic Cloud Insight Essentials (US)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.crowdstrike.com/products/falcon-intelligence/">Crowdstrike</a></p>
<p><a target="_blank" rel="noopener" href="https://www.trendmicro.com/aws/guardduty/">TrendMicro</a></p>
<p><a target="_blank" rel="noopener" href="https://aws.amazon.com/guardduty/resources/partners/">Full Partner List</a></p>
<h2 id="Transcript-1"><a href="#Transcript-1" class="headerlink" title="Transcript"></a>Transcript</h2><p>Hello and welcome to this lecture. Well, I just want to briefly highlight some of the partner offerings that integrate with <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/introduction-60/">Amazon GuardDuty</a> and how to find out more information about them.</p>
<p><a target="_blank" rel="noopener" href="https://cloudacademy.com/library/amazon-web-services/">AWS</a> work with many approved vendors to seamlessly interact their services with existing tools and products on the market today. Many of these vendors focus on monitoring and security. And as a result, there are many partners that provide services that can interact with Amazon GuardDuty to help you get even more from the service. Many organizations will probably be familiar with some of the partners and would likely already be using some of their products within their current infrastructure and environment. I just want to highlight a few of these partners currently committed with the Amazon GuardDuty. So you are aware that there are additional benefits to be had from a security standpoint.</p>
<p>Starting with Alert Logic Cloud Insight Essentials for AWS. Alert Logic offer a product that allows you to gain additional insight into your Amazon GuardDuty findings. Again without any agent required on your resources. Cloud Insight Essentials is designed to help you respond to your GuardDuty findings faster by providing further intelligence about the threat, in addition to providing more information about how to remediate the issue with specific actions. It also adds a feature that allows you to produce reports to analyze trends with your AWS account from a threat detection perspective. For further information on this offering and what it can do please visit the <a target="_blank" rel="noopener" href="https://aws.amazon.com/marketplace/pp/B0764JH55Q?ref=_ptnr_AL_Website_CloudInsightEssentials_AWS_Marketplace">link</a> on the screen.</p>
<p>CrowdStrike is another partner of Amazon GuardDuty. However, they integrate their technology and threat intelligence feeds which are used within CrowdStrike Falcon to Amazon GuardDuty. GuardDuty can then pull data and information from CrowdStrike which uses AI and machine learning to provide protection and block against cyber security threats. For more information on CrowdStrike and CrowdStrike Falcon please visit the <a target="_blank" rel="noopener" href="https://www.crowdstrike.com/products/falcon-intelligence/">link</a> on-screen.</p>
<p>I’ll take a look at one more example. This time with Trend Micro. Trend Micro have an existing product called Deep Security which uses an agent that can be installed on EC2 or ECS deployments to help protect against an array of threats such as anti-malware and adds features such as intrusion prevention. Using automation through CloudWatch and Lambda triggers can be used to invoke deep security and engage its rich features to analyze and detect any issues that may have occurred on the resource. More information on how these two products can work together can be found <a target="_blank" rel="noopener" href="https://www.trendmicro.com/aws/guardduty/">here</a>.</p>
<p>These were just a few of the partners from the Amazon GuardDuty partners list which can be found <a target="_blank" rel="noopener" href="https://aws.amazon.com/guardduty/resources/partners/">here</a>.</p>
<p>You may find that you are already using services from these partners. If you are then you may find you already have additional security features available to you when and if you enable Amazon GuardDuty.</p>
<p>That brings me to the end of this lecture. Coming up next, I will be providing a <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/course-summary/">summary</a> of the key points taken from the lectures throughout this course.</p>
<h1 id="Course-Summary"><a href="#Course-Summary" class="headerlink" title="Course Summary"></a>Course Summary</h1><p>Hello and welcome to this final lecture of the course. We want to summarize the key points from each of the lectures.</p>
<p>I started the course by explaining what the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/what-is-aws-amazon-guardduty-1/">Amazon GuardDuty is and what it does</a>, and I explained that Amazon GuardDuty is a regional based intelligent threat detection service. It allows users to monitor their AWS Account for unual and unexpected behavior by analyzing AWS CloudTrail event logs, VPC flow logs, and DNS logs. The logs that were assessed against multiple security and threat detection feeds, looking for anomalies and known malicious sources. The service itself is powered by machine learning, and Amazon GuardDuty provides automatic and continuous security analysis for safeguarding your entire AWS environment. Findings are presented with a priority level that enables you to investigate the issue further, and the service does not require any agents or software on your resources. It’s also possible to link your AWS accounts together to perform a threat detection layer across all of your accounts. And this service has zero impact of the performance of your existing resources.</p>
<p>Following this, I then discussed the different component and the elements of the service itself. Within this lecture, we learned that there are three data sources that Amazon GuardDuty uses to perform its analysis: AWS CloudTrail event logs, VPC flow logs, and DNS query logs. Machine learning is interwoven with Amazon GuardDuty, allowing it to learn and adapt to what it classes as unusual behavior within your account at the time to then highlight it as a potential threat. List management allows you to upload your own list with trusted IPs and threat list, and any IP information that is add to the trusted IP list is whitelisted. Threat lists contain a known list of malicious IP addresses on networks that you want to ensure guide you to generate findings for if any traffic it detected with this information. GuardDuty findings are listing within the GuardDuty dashboard and allow you to take the appropriate actions against them to resolve any security vulnerabilities that may exist. The content of the finding itself can be broken down into five parts: the finding summary, the resource affected, the action, actor, and additional information. Each finding is associated with a severity level and score. The score value will affect the severity. I also gave a demonstration that introduced you to the service portion and how to enable the service, configure trusted IP and threat lists, and an overview of the different options within the Amazon GuardDuty dashboard.</p>
<p>Next, I spoke about how to link multiple AWS accounts for Amazon GuardDuty, allowing for centralized management. In a multi-account scenario, one account can act as a master account and then all others can act as members. Findings from member accounts send a copy of the results to the dashboard of the master account. And this allows you to view all accounts in a central location. Trusted IP lists and threat lists within the master account are not used within the member accounts, and the master account has additional control and administrative functions such as having the ability of being able to suspend Amazon GuardDuty within its own account and other member accounts. To set up your AWS accounts in a master-member configuration it’s a simple three-stage process. Add an AWS account from within the master account, send an invitation to the member account, and then accept the invitation from within the member account. Ie then performed a simple demonstration showing you how to carry out these steps.</p>
<p>Next, I focused on how to <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/managing-permissions-1/">manage permissions with Amazon GuardDuty</a> and here I covered the following points. To enable the Amazon GuardDuty service, the user will need some specific IAM permissions that allows them to create a service-linked role that allows GuardDuty to retrieve information about some of your resources. AWS has created an AWS management policy to allow you to enable GuardDuty within a region called Amazon GuardDuty full access. This policy allows full access to Amazon GuardDuty plus the ability to create a service-linked role. For full permissions to Amazon GuardDuty, you can create a custom policy which allows a full access to Amazon GuardDuty, the ability to enable the service, and permissions to update and manage trusted IP and threat lists. AWS offers another management policy entitled Amazon GuardDuty read-only access, and this provides read-only permissions to GuardDuty’s findings.</p>
<p>Following this section covering permissions, I then provided a demonstration where I looked at GuardDuty findings in greater detail.</p>
<p>Next, I looked at how Amazon GuardDuty can be used to bring benefit to the enterprise which included that it’s an intelligent threat detection service, it provides high-level security, regardless of deployment size, it has centralized management, there are no agents required, there are no upfront costs, and you can perform automation of remediation.</p>
<p>Next, I focused on the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/costing-1/">costing</a> of the service which offers a very simple charging method. Pricing for this service is broken down into two parts: CloudTrail event analysis and VPC flow log and DNS log analysis. CloudTrail event analysis is charged at one million events per month, and VPC flow logs and DNS logs are charged at per gig of log analyzed per month. And the cost varies depending on which region you have GuardDuty in. When you first enable Amazon GuardDuty, you are able to use the service free for the first 30 days. As an example of cost, the following table shows you the cost for the London, EU region. And the charges for this service are very simple to understand and estimate.</p>
<p>Finally, I looked at a number of different <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/understanding-amazon-guardduty/partner-offerings-1/">partners</a> that seamlessly interact the services with Amazon GuardDuty. Some of these included Alert Logic Cloud Insight Essentials for AWS, CrowdStrike, and Trend Micro. For more information on these partners and others, the full listing can be found here. That now brings me to the end of this lecture and to the end of the course.</p>
<h1 id="3Components-and-Configuration"><a href="#3Components-and-Configuration" class="headerlink" title="3Components and Configuration"></a>3<strong>Components and Configuration</strong></h1><p><a target="_blank" rel="noopener" href="https://cloudacademy.com/course/aws-cloudtrail-introduction/aws-cloudtrail-an-introduction-1/">AWS CloudTrail: An Introduction</a></p>
<p><a target="_blank" rel="noopener" href="http://docs.aws.amazon.com/guardduty/latest/ug/guardduty_finding-types.html#actual-types">Amazon GuardDuty Finding Types</a></p>
<h1 id="5Managing-Permissions"><a href="#5Managing-Permissions" class="headerlink" title="5Managing Permissions"></a>5<strong>Managing Permissions</strong></h1><p><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/guardduty/latest/ug/guardduty_managing_access.html">AWS Policies for Access Management</a></p>
<p><a target="_blank" rel="noopener" href="https://cloudacademy.com/course/overview-of-aws-identity-and-access-management-iam/introduction-81/">Identity &amp; Access Management</a></p>
<h1 id="8Costing"><a href="#8Costing" class="headerlink" title="8Costing"></a>8<strong>Costing</strong></h1><p><a target="_blank" rel="noopener" href="https://aws.amazon.com/guardduty/pricing/">Amazon GuardDuty Pricing</a></p>
<h1 id="9Partner-Offerings"><a href="#9Partner-Offerings" class="headerlink" title="9Partner Offerings"></a>9<strong>Partner Offerings</strong></h1><p><a target="_blank" rel="noopener" href="https://aws.amazon.com/marketplace/pp/B0764JH55Q?ref=_ptnr_AL_Website_CloudInsightEssentials_AWS_Marketplace">Alert Logic Cloud Insight Essentials (US)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.crowdstrike.com/products/falcon-intelligence/">Crowdstrike</a></p>
<p><a target="_blank" rel="noopener" href="https://www.trendmicro.com/aws/guardduty/">TrendMicro</a></p>
<p><a target="_blank" rel="noopener" href="https://aws.amazon.com/guardduty/resources/partners/">Full Partner List</a></p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/11/14/AWS-Security-Specialty-Lab-Follow-Best-Practices-with-AWS-Trusted-Advisor-20/" rel="prev" title="AWS-Security-Specialty-Lab-Follow-Best-Practices-with-AWS-Trusted-Advisor-20">
      <i class="fa fa-chevron-left"></i> AWS-Security-Specialty-Lab-Follow-Best-Practices-with-AWS-Trusted-Advisor-20
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/11/14/AWS-Security-Specialty-Lab-Detecting-EC2-Threats-with-Amazon-GuardDuty-22/" rel="next" title="AWS-Security-Specialty-Lab-Detecting-EC2-Threats-with-Amazon-GuardDuty-22">
      AWS-Security-Specialty-Lab-Detecting-EC2-Threats-with-Amazon-GuardDuty-22 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Introduction"><span class="nav-number">1.</span> <span class="nav-text">Introduction</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#What-is-AWS-Amazon-GuardDuty"><span class="nav-number">2.</span> <span class="nav-text">What is AWS Amazon GuardDuty?</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Components-and-Configuration"><span class="nav-number">3.</span> <span class="nav-text">Components and Configuration</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Resources-mentioned-in-this-lecture"><span class="nav-number">3.1.</span> <span class="nav-text">Resources mentioned in this lecture:</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture-Transcript"><span class="nav-number">3.2.</span> <span class="nav-text">Lecture Transcript</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Managing-Multiple-Accounts"><span class="nav-number">4.</span> <span class="nav-text">Managing Multiple Accounts</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Managing-Permissions"><span class="nav-number">5.</span> <span class="nav-text">Managing Permissions</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Resources"><span class="nav-number">5.1.</span> <span class="nav-text">Resources</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture-Transcript-1"><span class="nav-number">5.2.</span> <span class="nav-text">Lecture Transcript</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Understanding-Amazon-GuardDuty-Findings"><span class="nav-number">6.</span> <span class="nav-text">Understanding Amazon GuardDuty Findings</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Benefits-to-the-Enterprise"><span class="nav-number">7.</span> <span class="nav-text">Benefits to the Enterprise</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Costing"><span class="nav-number">8.</span> <span class="nav-text">Costing</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#AWS-Resource"><span class="nav-number">8.1.</span> <span class="nav-text">AWS Resource</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Transcript"><span class="nav-number">8.2.</span> <span class="nav-text">Transcript</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Partner-Offerings"><span class="nav-number">9.</span> <span class="nav-text">Partner Offerings</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Resources-1"><span class="nav-number">9.1.</span> <span class="nav-text">Resources</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Transcript-1"><span class="nav-number">9.2.</span> <span class="nav-text">Transcript</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Course-Summary"><span class="nav-number">10.</span> <span class="nav-text">Course Summary</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3Components-and-Configuration"><span class="nav-number">11.</span> <span class="nav-text">3Components and Configuration</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5Managing-Permissions"><span class="nav-number">12.</span> <span class="nav-text">5Managing Permissions</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#8Costing"><span class="nav-number">13.</span> <span class="nav-text">8Costing</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#9Partner-Offerings"><span class="nav-number">14.</span> <span class="nav-text">9Partner Offerings</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Hang Zhang"
      src="/images/123456.gif">
  <p class="site-author-name" itemprop="name">Hang Zhang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">2653</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/zh375636" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zh375636" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:hang.zhang.network@gmail.com" title="E-Mail → mailto:hang.zhang.network@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hang Zhang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>



// 在最后添加
<script src="/js/code-unfold.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : '40GUvOAaitQh1SZe7ua9cvss-MdYXbMMI',
      appKey     : 'iUO2yON0j55WMdu59zx12dCG',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
