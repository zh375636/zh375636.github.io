<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="IntroductionLecture TranscriptHello, and welcome to this course, which has been designed to give you an overview in the introduction to the Amazon Macie service. I will explain what the service is a">
<meta property="og:type" content="article">
<meta property="og:title" content="AWS-Security-Specialty-Enforcing-Compliance-Security-Controls-with-Amazon-Macie-23">
<meta property="og:url" content="https://example.com/2022/11/14/AWS-Security-Specialty-Enforcing-Compliance-Security-Controls-with-Amazon-Macie-23/index.html">
<meta property="og:site_name" content="Hang&#39;s Blog">
<meta property="og:description" content="IntroductionLecture TranscriptHello, and welcome to this course, which has been designed to give you an overview in the introduction to the Amazon Macie service. I will explain what the service is a">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-11-14T17:52:19.000Z">
<meta property="article:modified_time" content="2022-11-20T02:53:02.000Z">
<meta property="article:author" content="Hang Zhang">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://example.com/2022/11/14/AWS-Security-Specialty-Enforcing-Compliance-Security-Controls-with-Amazon-Macie-23/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>AWS-Security-Specialty-Enforcing-Compliance-Security-Controls-with-Amazon-Macie-23 | Hang's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hang's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/14/AWS-Security-Specialty-Enforcing-Compliance-Security-Controls-with-Amazon-Macie-23/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          AWS-Security-Specialty-Enforcing-Compliance-Security-Controls-with-Amazon-Macie-23
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-14 13:52:19" itemprop="dateCreated datePublished" datetime="2022-11-14T13:52:19-04:00">2022-11-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-19 22:53:02" itemprop="dateModified" datetime="2022-11-19T22:53:02-04:00">2022-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AWS-Security-Specialty/" itemprop="url" rel="index"><span itemprop="name">AWS-Security-Specialty</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/14/AWS-Security-Specialty-Enforcing-Compliance-Security-Controls-with-Amazon-Macie-23/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/14/AWS-Security-Specialty-Enforcing-Compliance-Security-Controls-with-Amazon-Macie-23/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <span id="more"></span>

<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><h2 id="Lecture-Transcript"><a href="#Lecture-Transcript" class="headerlink" title="Lecture Transcript"></a>Lecture Transcript</h2><p>Hello, and welcome to this course, which has been designed to give you an overview in the introduction to the Amazon Macie service. I will explain what the service is and does, and how you can use it within your own environment to enhance your security level, especially when it comes to identifying the potential exposure of sensitive data, such as PII, or secret keys stored on Amazon S3. This is critical when it comes to maintaining your specific compliance programs, such as GDPR. </p>
<p>Before we start, I would like to introduce myself. My name is Stuart Scott. I’m one of the trainers here at Cloud Academy, specializing in AWS, Amazon Web Services. Feel free to connect with me with any questions using the details shown on screen, alternatively, you can always get in touch with us here at Cloud Academy by sending an email to <a href="mailto:&#x73;&#117;&#x70;&#112;&#111;&#114;&#x74;&#x40;&#x63;&#x6c;&#x6f;&#117;&#100;&#x61;&#x63;&#x61;&#100;&#101;&#109;&#121;&#x2e;&#x63;&#111;&#x6d;">&#x73;&#117;&#x70;&#112;&#111;&#114;&#x74;&#x40;&#x63;&#x6c;&#x6f;&#117;&#100;&#x61;&#x63;&#x61;&#100;&#101;&#109;&#121;&#x2e;&#x63;&#111;&#x6d;</a>, where one of our Cloud experts will reply to your question. </p>
<p>The content of this course is centered around security and compliance. As a result, this course is beneficial to those who are in the roles of, or similar to, Cloud security architects, compliance managers, Cloud administrators, and Cloud support and operation engineers. </p>
<p>This course is made up of the following lectures to explain the service and how it operates:</p>
<ul>
<li>What is Amazon Macie? Within this lecture you will understand exactly what the service is and the benefits that it provides. </li>
<li>Enabling and associating Macie with S3. There are specific requirements that must be configured before you enable this service. This lecture looks at those requirements and how to fulfill them. In addition to this, I’ll also show you how to associate your Amazon S3 buckets with Amazon Macie. </li>
<li>Alerts. In this lecture, I focus on the different types of alerts that Amazon Macie generates to allow you to resolve and rectify any issues identified. </li>
<li>Dashboard. Here I look at the different metrics that are available to help you understand the data that Amazon Macie has captured, monitored, and identified. </li>
<li>Users. This lecture looks at how Amazon Macie categorizes users and how to gain statistics on individuals for further analysis. </li>
<li>Research. In this lecture explain how you can perform deeper analysis of the data recorded by Macie using queries. </li>
<li>Classifying and protecting data. A key component of Amazon Macie is the classification of your data and this lecture looks at how that process works. </li>
<li>Multiple AWS accounts with Amazon Macie. This lecture is a demonstration on how to configure one AWS account as a master, and one as a member account with an Amazon Macie to consolidate and manage your results centrally. </li>
<li>And finally, the course summary. This lecture will highlight the key points taken from each of the previous lectures.</li>
</ul>
<p>The objectives of this course are, to provide an understanding and awareness of what Amazon Macie is, and what it’s used for. Also, to provide an explanation of each configured component of the service, to allow you to gain maximum benefit from Macie’s capabilities. You’ll understand how the service can provide a customizable approach to maintaining compliance. You’ll also understand how through automation and machine learning, Amazon Macie detects and categorizes S3 content to detect potential security threats and exposures. </p>
<p>As a prerequisite of this course, you should have an understanding and awareness of the following, Amazon S3, and AWS CloudTrail, including how to setup a trail in CloudTrail. </p>
<p>Throughout this course, I will reference a number of different URL links, which will help and direct you to related information on specific topics. To make these links easily accessible to you, I have included them at the top of the transcript, within the lecture that they are referenced. </p>
<p>Feedback on our courses here at Cloud Academy are valuable to both us as trainers and any students looking to take the same course in the future. If you have any feedback, positive or negative, it would be greatly appreciated if you could contact <a href="mailto:&#x73;&#117;&#x70;&#x70;&#x6f;&#114;&#x74;&#64;&#99;&#x6c;&#x6f;&#117;&#x64;&#97;&#x63;&#97;&#100;&#x65;&#109;&#x79;&#46;&#99;&#x6f;&#109;">&#x73;&#117;&#x70;&#x70;&#x6f;&#114;&#x74;&#64;&#99;&#x6c;&#x6f;&#117;&#x64;&#97;&#x63;&#97;&#100;&#x65;&#109;&#x79;&#46;&#99;&#x6f;&#109;</a>. </p>
<p>That brings me to the end of this lecture. Coming up next, I start off by answering the question, what is Amazon Macie?</p>
<h1 id="What-is-Amazon-Macie"><a href="#What-is-Amazon-Macie" class="headerlink" title="What is Amazon Macie?"></a>What is Amazon Macie?</h1><h2 id="Resources-Referenced"><a href="#Resources-Referenced" class="headerlink" title="Resources Referenced"></a>Resources Referenced</h2><p><a target="_blank" rel="noopener" href="https://cloudacademy.com/webinars/establishing-privacy-program-gdpr-compliance-beyond-62/">GDPR Compliance Webinar</a></p>
<p><a target="_blank" rel="noopener" href="https://aws.amazon.com/about-aws/global-infrastructure/regional-product-services/">AWS Regional Product Service Table</a></p>
<h2 id="Lecture-Transcript-1"><a href="#Lecture-Transcript-1" class="headerlink" title="Lecture Transcript"></a>Lecture Transcript</h2><p>Hello and welcome to this lecture, which will answer the question, what is Amazon Macie? </p>
<p>Amazon Macie was introduced in August of 2017 as a powerful security and compliance enabling service which sits within the security identity and compliance category of the AWS management consult. The main function of the service is to provide an automatic method of detecting, identifying, and also classifying data that you are storing within your AWS account. Macie currently supports Amazon S3 storage. However, additional support for other storage systems will be developed and added over time. The service is backed by machine learning, allowing your data to be actively reviewed as different actions are taken within your AWS account. Machine learning can spot access patterns and user behavior by analyzing cloud trail event data to alert against any unusual or irregular activity. Any findings made by Amazon Macie are presented within a dashboard which can trigger alerts, allowing you to quickly resolve any potential threat of exposure or compromise of your data. </p>
<p>There are a number of key features that are offered by Amazon Macie during its detection and classification process. These can be summarized as follows. Amazon Macie will automatically and continuously monitor and detect new data that is stored in Amazon S3. Using the abilities of machine learning and artificial intelligence, this service has the ability to familiarize over time, access patterns to data. Amazon Macie also uses natural language processing methods to help classify and interpret different data types and content. NLP uses principles from computer science and computational linguistics to look at the interactions between computers and the human language. In particular, how to program computers to understand and decipher language data. The service can automatically assign business values to data that is assessed in the form of a risk score. This enables Amazon Macie to order findings on a priority basis, enabling you to focus on the most critical alerts first. In addition to this, Amazon Macie also has the added benefit of being able to monitor and discover security changes governing your data. As well as identify specific security-centric data such as access keys held within an S3 bucket. </p>
<p>This protective and proactive security monitoring enables Amazon Macie to identify critical, sensitive, and security focused data such as API keys, secret keys, in addition to PII and PHI data. It can detect changes and alterations to existing security policies and access control lists which effect data within your S3 buckets. It will also alert against unusual user behavior and maintain compliance requirements as required. </p>
<p>Over the past few months, you will have likely heard about numerous occurrences whereby huge quantities of PII data being stored in the cloud, have been exposed unnecessarily. Many of these instances can be attributed to a lack of understanding of key security controls offered by Amazon S3 by those storing data within the service, in addition to simple human error. Also, the sensitivity of the data may not of been understood before being stored. Understanding your data and its business value is essential. Therefore, having a managed service which provides in essence, a double-check, against your sensitive business data is invaluable. </p>
<p>For example, checking to ensure you are not allowing sensitive data to be accessible via the internet, which will almost certainly have adverse negative effects. There are a wide variety of compliance programs that need to be adhered to and ensuring you maintain your compliance is crucial to your business. For example, from a general data protection regulation, GDPR perspective, you are required to keep any personal information of EU citizens protected and secured at all times with adequate protection. If you inadvertently expose data of EU citizens, you could be faced with significant financial penalties, which can total 4% of your annual global turnover or up to 20 million euros, whichever is greater. So maintaining compliance and having the available tools and services to help you enable this, is fundamental for businesses storing data in the cloud. </p>
<p>If you would like to learn more about GDPR, you can listen to our existing webinar <a target="_blank" rel="noopener" href="https://cloudacademy.com/webinars/establishing-privacy-program-gdpr-compliance-beyond-62/">here</a>, entitled Establishing a Privacy Program GDPR Compliance and Beyond. Currently, Amazon Macie is not available in all regions of AWS, so I recommend you check the AWS regional product service table found <a target="_blank" rel="noopener" href="https://aws.amazon.com/about-aws/global-infrastructure/regional-product-services/">here</a> before relying on a service to work with your S3 data, which is also a regional service.</p>
<h1 id="Enabling-and-Associating-Amazon-Macie-with-Amazon-S3"><a href="#Enabling-and-Associating-Amazon-Macie-with-Amazon-S3" class="headerlink" title="Enabling and Associating Amazon Macie with Amazon S3"></a>Enabling and Associating Amazon Macie with Amazon S3</h1><h2 id="Resources-Referenced-1"><a href="#Resources-Referenced-1" class="headerlink" title="Resources Referenced"></a>Resources Referenced</h2><p><a target="_blank" rel="noopener" href="https://console.aws.amazon.com/cloudformation/home?region=us-east-1#/stacks/new?stackName=MacieServiceRolesMaster&templateURL=https://s3.amazonaws.com/us-east-1.macie-redirection/cfntemplates/MacieServiceRolesMaster.template">US East (Virginia) CloudFormation Template</a></p>
<p><a target="_blank" rel="noopener" href="https://console.aws.amazon.com/cloudformation/home?region=us-west-2#/stacks/new?stackName=MacieServiceRolesMaster&templateURL=https://s3-us-west-2.amazonaws.com/us-west-2.macie-redirection/cfntemplates/MacieServiceRolesMaster.template">US West (Oregon) CloudFormation Template</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/macie/latest/userguide/macie-setting-up.html#macie-setting-up-enable">CloudFormation Templates for all regions available</a></p>
<p>Course: <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/aws-automation-how-to-use-cloudformation/">How to use Cloudformation for Automation</a></p>
<p>Course: <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/advanced-aws-cloudformation/">Advanced use of AWS CloudFormation</a></p>
<p>Lab: <a target="_blank" rel="noopener" href="https://cloudacademy.com/amazon-web-services/labs/deploy-wordpress-cloudformation-17/">Deploy Wordpress using CloudFormation</a></p>
<p>Course: <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/aws-cloudtrail-introduction/">AWS Cloudtrail: An Introduction</a></p>
<p>Lab: <a target="_blank" rel="noopener" href="https://cloudacademy.com/amazon-web-services/labs/monitoring-aws-cloudtrail-events-amazon-cloudwatch-76/">Monitoring AWS CloudTrail Events with Amazon CloudWatch</a></p>
<h2 id="Lecture-Transcript-2"><a href="#Lecture-Transcript-2" class="headerlink" title="Lecture Transcript"></a>Lecture Transcript</h2><p>Hello and welcome to this lecture. Now we have an understanding of what Amazon Macie is, let me now explain how to enable it so you can associate it to your Amazon S3 data to understand any potential security issues. </p>
<p>As I mentioned previously, the services located under the security identity and compliance category within the AWS Management Console. When you first go into the service for the first time you’ll be presented with a splash screen similar to the following. From here you simply click on get started. Now at this point Amazon Macie will check your AWS account for specific requirements that are needed before you can go ahead and fully enable Amazon Macie. These requirements are to check the existence of IAM roles, specifically the AWSMacieServiceCustomerSetupRole and to check if AWS CloudTrail is enabled within your AWS account. Both of these are prerequisites to being able to enable Amazon Macie. If these components are not configured within your AWS account you will see the screen like this. As you can see, there are two red check marks against each of these requirements. </p>
<p>To resolve the first issue of the IAM roles, you will need to launch a preconfigured AWS CloudFormation Stack that has been created by AWS that will automatically set up and configure the roles that are needed. Dependent on your region that you’re using will depend on the CloudFormation Stack used. Currently there are templates for US East Virginia and US West Oregon. The URL links to these stacks can be found in the transcript of this lecture along with the URL source of these templates, allowing you to find more regional stacks as and when they are released. </p>
<p>Before I continue I just want to quickly mention that if you’d like additional information on AWS CloudFormation, then you can view our existing content here. We have a couple of courses, how to use CloudFormation for AWS Automation and Advanced Use of AWS CloudFormation, and we also have a lab Deploying Wordpress using AWS CloudFormation. </p>
<p>Okay, back to our CloudFormation Stacks. Regardless of which one you use dependent on your region, the process is very simple. So don’t worry if you’re not familiar with CloudFormation. When you click on one of the links for the stacks it will open up CloudFormation within your AWS account, providing you are logged into your account already. The data and information will already be prefilled and all you need to do is to accept the defaults. On the select template page you will see that it has already preconfigured the relevant template under the specify an Amazon S3 template URL heading. To proceed to the next screen press next. At the specified details screen leave the default stack name of MacieServiceRolesMaster and click next. On the options screen leave all settings as default and click next. On the final review screen you will need to acknowledge the message that CloudFormation might create IAM resources with custom names via checkbox. Once you have done so click create. At this point the CloudFormation Stack will be created and will generate the required resources defined by the stack, which includes the necessary IAM roles and policies that Amazon Macie requires. </p>
<p>The next requirement needed by Amazon Macie is the enablement of AWS CloudTrail. If you are not familiar with CloudTrail then you can see our existing content of the service here. We have a course, AWS CloudTrail: An Introduction and a lab, Monitoring AWS CloudTrail events with Amazon CloudWatch. The following demonstration will explain and show how to create and enable a new trail within CloudTrail to fulfill this second requirement. </p>
<p>Okay, so I’m logged into my AWS account and CloudTrail is under management tools here. So if we just select CloudTrail, and that will take us to the dashboard. And now from the dashboard on the left-hand side we can then create a trail here, which is what we need to do. So let’s create a new trail. We’ll call this trail name Macie-demo, and we can apply this trail to all regions. And just leave that as a default yes. Under management events, we want to be notified of all read&#x2F;write events. </p>
<p>If we scroll down to data events here you can see S3 and lambda. We’re only interested in S3 so let’s select all S3 buckets in your account. And by default it selected all read and write actions. If we wanted just to do specific buckets then we could add the bucket here, but we’ve said we will select all three S3 buckets in our account. Under storage location this is where it’ll store the CloudTrail logs, and we can create a new S3 bucket for this. So let’s give this a name of CloudTrail logs. And if we go down to advanced, here we can add a log file prefix if we wanted to, but there’s no need to for this demonstration. We can crypt our log files if we wanted to, and we can select a KMS key. For this demonstration I’m just going to leave that as a default of no. </p>
<p>Log file validation determines if the log file has been tampered with, so you can either have that on or off, and also here you can select to have an SNS notification for every long file delivery. And again, I’m going to set the default for no. So once that’s been selected you can click on create. As I should have expected, this bucket order exists. So I’m going to add cloud academy to the end of that because it needs to be a unique bucket name, as we know. That will then go ahead and create the trail. And here we have the new trail and the status is running. And that’s it. Now that we have both requirements completed for Amazon Macie we will now be able to enable the service. As you can see I now have both requirements fulfilled indicated by tick. There is one final element to address and that is the permissions checkbox that you can see at the bottom of the page. This simply asks you to acknowledge that through the enablement of Amazon Macie you are happy that the service will have permission to analyze you AWS CloudTrail logs and events. It’s worth noting that you can always disable Amazon Macie at any point, and this will in turn stop the monitoring and analysis of your logs. When you select the tick box you will then be able to enable Macie. </p>
<p>Once Macie is enabled you will be taken to the console of the service, which will look something like this. From here our next step is to associate our Amazon S3 buckets that we want Amazon Macie to monitor. The best way to show you how to do this is via a quick demonstration. </p>
<p>Okay, so I’m back in my AWS account, and I’ve just opened up Amazon Macie. From here what I need to do is on the left-hand side go down to integrations. And then you can see at the top here accounts and services. What I need to select is services. Now I need to select the account I want to integrate other services with Amazon Macie, and this is my AWS account. And at the moment the only viable option is Amazon S3. Overtime there will be more and more storage services added to this section. So all I need to do is click on add. And now here it’s asking me which S3 buckets I want Macie to monitor. So I’ve created a bucket down here called macie-demo-cloudacademy. So I just want Amazon Macie to monitor this bucket here. And I also want Macie to classify all the data within this bucket. And by classifying all the content within that bucket, as I add more and more content to this bucket then Amazon S3 will automatically detect and classify all that data within it to notify me of any potential issues. Once I’ve selected that I then click on review and save. </p>
<p>There’s a couple of tick boxes that you need to select here, the first one to say that you understand that S3 object-level logging is enabled for all buckets and that you understand that choosing to classify all objects in the selected S3 bucket can significantly affect the content classification costs. And then you click on save. And that’s it. Now your bucket will be classified by Amazon Macie, and it will be monitored as well. So it’s a very simple quick and easy process. We now have our Amazon Macie account enabled and our Amazon S3 bucket’s being monitored, which brings me to the end of this lecture. </p>
<p>Over the next few lectures I’ll be explaining the different elements of Amazon Macie console to help us understand how we configure and utilize it effectively as a compliance and security tool, starting with alerts.</p>
<h1 id="Alerts"><a href="#Alerts" class="headerlink" title="Alerts"></a>Alerts</h1><h2 id="Resources-Referenced-2"><a href="#Resources-Referenced-2" class="headerlink" title="Resources Referenced"></a>Resources Referenced</h2><p><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/macie/latest/userguide/macie-research.html#macie-query">Constructing Queries in Amazon Macie</a></p>
<h2 id="Lecture-Transcript-3"><a href="#Lecture-Transcript-3" class="headerlink" title="Lecture Transcript"></a>Lecture Transcript</h2><p>Hello and welcome to this lecture on Amazon Macie alerts. As Amazon Macie is a security analysis and compliance tool, we can expect it to identify and notify us of any potential issues that it finds, and this action is performed by Macie Alerts. By default, the service is pre-configured with a wide range of alerts based on security best practices and the sensitivity of data that the service will check against. Depending on your organization and the industry that you’re in, it can affect what you deem as sensitive information, and so there may not be an alert which fulfills your requirements. Thankfully, Amazon Macie provides the functionality of being able to create custom alerts which you can configure which Macie will then use against your data. This is very useful when it comes to maintaining and control and compliance of your data sets. </p>
<p>Alerts exist as two different types, these being basic and predictive. </p>
<p>Basic alerts. The basic alert consist of both pre-built alerts that come with Amazon Macie and custom alerts. These customized alerts are designed and built by you, which relate to specific security checks. The pre-defined alerts and checks defined by Macie have been categorized as follows. </p>
<ul>
<li>Anonymized access. This is where users are trying to gain access to your AWS account and its resources while trying to mask and hide their own identity. </li>
<li>Config compliance. This focuses on settings and policies that can relate to compliance issues within your environment such as a change to a CloudTrail login policy. </li>
<li>Credential loss covers scenarios where access control data may have been compromised. </li>
<li>Data compliance. This checks your data for identification of security content, such as access keys, credential data, or PII and PHI information. </li>
<li>File hosting. This check relates to compromised instances where malware may be detected. </li>
<li>Identity enumeration. This check helps to detect a potential attack or weakness in access control and credentials by identifying a rise in API calls or access attempts across your account. </li>
<li>Information loss. This looks at unusual behavior and irregular activity of access to information classed as sensitive. </li>
<li>Location anomaly. Checks for access requests where the source of the request is from an unexpected and unusual location from outside the normal operations based on history. </li>
<li>Open permissions. This check is very useful as it checks your permissions to sensitive data to see if they are overly permissive and potentially allow for unnecessary data exposure. </li>
<li>Privilege escalation. These checks focus on all access attempts, which will result in a privileged level of access control which could potentially cause further damage and harm to your environment. </li>
<li>Ransomware. This focuses on compromised infrastructure where ransomware has been detected. </li>
<li>Service disruption. This checks if a disruption to your environment is likely when making your own internal configuration alterations to your infrastructure. For example, the alteration of a security group that will result in the denial of access of previously used communications. </li>
<li>Suspicious access. Checks for unusual and risky access being requested by anonymous users where source data is being masked, such as their IP address, etc. For example, a malicious user masking their connection across a number of compromised hosts.</li>
</ul>
<p>It’s worth noting that these alerts provided by Amazon Macie cannot be altered or modified in any way. </p>
<p>Predictive alerts. Predictive alerts look at the behavior of your AWS account to automatically identify activities that sit outside the realms of normal operations. Over time, Macie forms a baseline understanding of day-to-day operations and learns what is normal and what is unusual behavior through analysis of your CloudTrail logs and events using machine learning. For example, this could be a sudden spike in user access of a particular S3 bucket that may normally only be accessed very rarely. When this happens, Amazon Macie will send a predictive alert informing you of the anomaly. The same principle applies to predictive alerts as with basic in that they can’t be edited or changed in any way. </p>
<p>Let me now explain the different points of interest on the alert itself so you know what to expect and what information comes with an alert as and when you receive one. This image shows an alert within my Amazon Macie console. This is the view of an alert that appears in the alerts section of the console for Macie, and it gives a high-level overview of information relating to that event that triggered the alert. The top half displays the severity, which is set to low, the name of the alert, which is Change to Cloudtrail logging policy, the alert type and category, these being basic and config compliance, and the bottom half gives some additional detail, such as when the alert was triggered, the identity that triggered the alert, and in which region, along with the number of results captured in the alert and how many times it’s been viewed. </p>
<p>To drill down into this further, you can click on the alert and it will display a detailed finding. This view is broken down into two parts, the alert summary and the alert details. The summary provides additional information allowing you to respond to the alert appropriately with the findings given. The description of the alert provides a deeper level of understanding of why the alert has been generated. A breakdown of results is also displayed, and as this relates to a CloudTrail action rather than an S3 action, it displays the API calls related and captured in the event. If it was related to S3 data, then it would list the S3 buckets and objects affected by the alert. The alert details section allows you to gain even more information. By clicking on the type icon, a whole host of additional information is displayed. I won’t go through all the data, but as an example, the following are just some elements of data captured for this alert. As you can see, you can obtain a substantial amount of information and useful data from these alerts to ascertain if there is a viable threat. If you analyze the alert and identify that this is in fact a legitimate security incident, then you can make the necessary changes to your infrastructure to ensure this doesn’t happen again. For example, restrict the user permissions or revoke the user entirely. However, you may decide that this activity is a normal operation and is expected of this user. In this situation, you have the ability to whitelist the user for this alert. By doing so, Amazon Macie will no longer register an alert for Change to Cloudtrail logging policy for this particular user. As you can see, you can also archive the alert for future reference or edit the alert. As this alert was predefined by Amazon Macie, you are unable to edit it. If it was a custom alert, then you could edit it as required. </p>
<p>Before I move on to show you how to create a custom alert, I just want to explain the different level of severity associated with these alerts and what these severities generally mean. There are five different severities for an alert, these being:</p>
<ul>
<li>Informational. If you receive this alert, it doesn’t indicate a threat or any risk to your current operations. These alerts are used to provide information to allow you to make informed decisions and changes to your infrastructure if you deem it necessary. </li>
<li>Low. This is the lowest level of a potential security threat that could compromise your data from a confidentiality, integrity, and availability perspective. Action isn’t required immediately, but it should be investigated and resolved in future changes and fixes. </li>
<li>Medium. This indicates the next level up for a threat that could impact the CIA of your data, and action should be taken against this prior to any low severities. </li>
<li>High. If an alert is set to high, this requires immediate action and attention, as there is a very high chance that your data can be compromised from a CIA perspective. </li>
<li>Critical. This is very similar to high. However, the main difference is that it is likely that your data and services have already been compromised from a CIA standpoint.</li>
</ul>
<p>Let me now move on to show you how you can add your own customized alert via a quick demonstration. In this demonstration, I will show you how to create a custom basic alert using a very simple query. </p>
<p>Okay, so I’m on the dashboard of my Amazon Macie account, and what I need to do to create my own alert is go down to Settings and then scroll down and select Basic alerts at the bottom. Now, this shows all the basic alerts that have been created, and as you can see, many of them have been created by Macie. But if I want to add my own alert, I can click on the green button here, click on Add New, and it’ll ask me for a number of different types of information. So we can give it an alert title. I’ll just call it This is a test alert. Same for a description. </p>
<p>Next I’ll need to select a category, and these are all the different categories for basic alerts. For this one, I’m going to select Anonymized Access. Now, this next section is the query. Now, this is where you enter the query information that defines what the alert is, the information that it’s searching for within the data that’s been collected by Macie through CloudTrail logs and also through S3 data. How to construct these queries is outside of the scope of this course. However, you can find more information on these queries in the following <a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/macie/latest/userguide/macie-research.html#macie-query">link</a> on the screen. </p>
<p>So I’m going to add in my query here, and what this will do, this will search for every time the GetBucketPolicy API is called by the user identity type of IAMUser. So this alert will not be triggered if an AWS service called the GetBucketPolicy, for example. It’ll only be alerted if an IAMUser requested the GetBucketPolicy. Next we have the index, and this is the source data that it’ll search upon, either CloudTrail data, S3 bucket properties, and S3 objects. For this particular query, I want it to search through the CloudTrail data. Then you can have the minimum number of matches. For this demonstration, I’m going to have it as one. For the severity, we can have informational, low, medium, high, or critical. I’m just going to leave this as informational. And then at the bottom here, we have enabled Yes - active. And all I need to do at this point is then click on Save. </p>
<p>And that’s now added our alert to this list of basic alerts, and we can filter and order these alerts. So if I click on the Created by, we can see here our alert, This is a test alert, and it’s a custom alert. Now, if we want to test that just to make sure it’s picking up data, we can go across to the magnifying class and click on Research current query. This takes us to the Research section, and as you can see, currently there’s a total of 13 matched results based on that query. But I’ll be covering more on this research feature in another lecture in later in this course. </p>
<p>So if you go back and find our alert again, then what we can do, as well, we can delete this alert or edit it, and if we want to edit it, we can just change the details here. And that’s how you create your own basic alert.</p>
<h1 id="Dashboard"><a href="#Dashboard" class="headerlink" title="Dashboard"></a>Dashboard</h1><h2 id="Lecture-Transcript-4"><a href="#Lecture-Transcript-4" class="headerlink" title="Lecture Transcript"></a>Lecture Transcript</h2><p>Hello and welcome to this lecture where I am going to be looking at the Amazon Macie dashboard. The Amazon Macie dashboard is the central hub of information that is collated, monitored, and classified through Amazon CloudTrail logs and any services associated to Macie, such as Amazon S3. The dashboard is accessed via the Amazon Macie console, which will look something like this. </p>
<p>Let’s start by looking at the four metric boxes at the top of the page and what they mean, starting with critical assets. This metric defines as a percentage how many of your assets have been identified as high-risk, which is anything with a risk value of eight, nine, or 10. These values are assigned to your assets in two ways, either by data classification made by Macie monitoring S3 data, or from specific API calls detected in your CloudTrail logs that have been marked with a set risk value. If the risk value has been classified based on S3 data, then the following categories are used to define its risk. The content type. Examples of this are plaintext, document, or source code. File extensions. Examples are .bat, .dmg, .sql. Themes. Examples of themes include financial keywords and social security keywords. And finally, regex configurations, which are regular expressions used to search for data patterns. More on these classification types and the methods behind it will be covered in the classifying and protecting data lecture later in this course. If the risk relates to an API call relating to your AWS infrastructure in some way, then the CloudTrail events in CloudTrail errors risk management will determine their value. Again, more on this will be discussed in that same lecture. </p>
<p>Next is the total event occurrences metric. This relates to your Amazon CloudTrail logs and calculates the number of API calls that Amazon Macie has monitored as a part of the security analysis of your infrastructure. The total user sessions metric is a count of user sessions which Macie has processed. A user session is defined by a five-minute aggregate of CloudTrail data. This metric provides its count from when Amazon Macie was first enabled in your AWS account. Finally, the total users metric, which shows the number of users that have been identified by CloudTrail data, which are then are then categorized into Platinum, Gold, Silver, or Bronze, depending on which API calls those users have been requesting and initiating, will relate to their perceived risk level, Platinum being high-risk, Bronze being low-risk. More on Amazon Macie users will be covered in the next lecture.</p>
<p>Let me now move on to the bottom half of the dashboard. So the bottom half of the dashboard screen is used to present a number of different views of graphs, charts, and statistics that Amazon Macie has detected and monitored through its sources. They are accessed via the following icons, and these icons represent the following. S3 objects for selected time range, S3 objects, S3 objects by PII, S3 objects by ACL, high-risk CloudTrail events and associated users, high-risk CloudTrail errors and associated users, activity location, CloudTrail events, activity ISPs, and CloudTrail user identity types. Let’s have a quick look at what each of these filter against starting with:</p>
<p> S3 objects for selected time range. This metric includes a slider bar which defines the objects that are visualized in the graph. The value of the slider goes between one to 10 and represents the minimum risk value of the object to be included. For example, if the slider is set to five, all objects represented in the graph will have a risk value of five or greater. The graph also shows when the object was last modified using the time ranges of zero to six months ago and beyond six months from the date Macie was enabled. </p>
<p>S3 objects. This metric shows your monitored S3 objects grouped together by Amazon Macie themes. The complete list of themes can be found under Settings &gt; Themes from within the Macie console. For each theme identified in this view, a percentage will be shown which indicates how much of your total objects are categorized to that particular theme. In addition to this, it’ll also provide a count number of the objects within that theme. More on themes will be discussed in the later lecture Classifying and Protecting Data. </p>
<p>S3 objects by PII, personally identifiable information. The third metric relating to S3 is split into two sections, S3 objects by PII priority and S3 objects by PII types. S3 objects by PII priority displays the objects that have been classified by Amazon Macie as having PII-related data associated with them, such as names, email addresses, credit card numbers, et cetera. These objects are then split out into different priority levels ranging between none, low, moderate, and high, depending on the quantity of PII data detected. Again, each of these priority classifications also have a percentage showing how much of your total objects are categorized within that PII priority value as well as a total count of objects in that priority. S3 objects by PII types metric displays the PII objects by their type classification. For example, here you can see the type of IPV4 and name where Amazon Macie has detected this data within my S3 objects. Again, the percentage and count values also exist per PII type. </p>
<p>S3 objects by ACL, access control list. The final metric relating to S3 displays three graphs relating to your access control list. The first graph is S3 objects by ACL URIs, uniform resource identifiers, which is used to define the object’s location. This shows how many URIs appear in your S3 access control list that your objects are associated to. The usual percentage and count statistics are also applied. Next we have S3 objects by ACL display names, which simply shows the different ACL display names that are associated to your objects along with the percentage of objects relating to each ACL name and its count of objects. Lastly, S3 objects by ACL permissions. This metric looks at the different level of access control list permissions, such as full control, read, write, et cetera. In this example, we can see that within the current set of ACLs used and associated to objects, the only permission given is full control to all objects. </p>
<p>High-risk CloudTrail events and associated users. This is the first of the metrics that relate to AWS CloudTrail. Much like the first S3 metric discussed earlier, this also provides a slider representing risk values from one to 10, which will affect the results displayed in two different charts. The first chart relates to the top 20 high-risk CloudTrail events detected in the last 60 days. These are events that have been captured through analysis of CloudTrail logs where Amazon Macie has classified specific API calls at a certain risk level. These APIs are then visualized on the bar chart displayed. The chart has date depicted along the x-axis and the API count on the y-axis. There is also a key provided for API identification, and you can also view this data as either a daily count or weekly. The second chart relates to the different users detected within the CloudTrail logs, and they’re presented in the same format as the previous graph, again showing the count, date, and key for easy identification of users. </p>
<p>High-risk CloudTrail errors and associated users. This focuses on any AWS CloudTrail errors detected, and those are errors resulting from API actions detected in the CloudTrail logs. Similarly to the previous metric, two charts are used again. The first relates to the top 20 high-risk CloudTrail errors detected in the last 60 days, and these errors are then visualized on the bar chart display. The second chart, again represented in the same way, displays the CloudTrail users who made the API calls that resulted in these errors. </p>
<p>Activity location. This represents a global map showing the locations of activity of actions that Amazon Macie is monitoring and analyzing. The map is interactive, allowing you to zoom in and out and also change the date range from the past 15, 30, or 90 days or the past year. </p>
<p>CloudTrail events. This metric identifies all of the CloudTrail events that Amazon Macie is monitoring and capturing. As with the other metrics, there is a count, and this count represents the number of user sessions for the API that was recorded. The percentage represents the occurrence of that API in the total list of events. </p>
<p>Activity ISPs. This metric simply records the ISPs that have been used when actions have been monitored in CloudTrail. </p>
<p>CloudTrail user identity types. This final metric indicates which user type has been used when calling APIs based on your CloudTrail logs. As you can see from this image, the majority of events recorded have been made by an account that belongs to a service indicated by the AWS Service user type. </p>
<p>That has now brought me to the end of this lecture covering the AWS dashboard. Coming up next, I will be looking at Amazon Macie users.</p>
<h1 id="Users"><a href="#Users" class="headerlink" title="Users"></a>Users</h1><h2 id="Lecture-Transcript-5"><a href="#Lecture-Transcript-5" class="headerlink" title="Lecture Transcript"></a>Lecture Transcript</h2><p>Hello and welcome to this lecture covering users. I want to define how Amazon Macie classifies users and the different user types available that I briefly mentioned in the previous lecture when looking at the CloudTrail User identity types within the dashboard. Let me first start out by talking about the users section within the console. You may recognize the platinum, gold, silver, and bronze categories which are always present on the dashboard. But this users screen provides additional information surrounding this metric. This screen essentially shows the different users that have been identified via CloudTrail data when linking to API calls. Depending on the history of those users will dictate how Amazon Macie classifies them between these four category ratings which ultimately reflect the level of perceived risk that those users pose. Let me define the differences between these categories a bit further. </p>
<p>Platinum. A user or role placed within this category is considered to make regular high risk API calls such as DeleteFlowLogs or UpdateTrail. These can often be contributed to users with administrative privileges, such as the root account. Due to the amount of control and elevated permissions these users pose, you should monitor their activity for any signs of compromise. </p>
<p>Gold. Users or roles categorized as gold will have been identified through their use of calling and making API requests relating to infrastructure changes, such as CreateRouteTable or RequestSpotinstances. Again, due to the permission level of these power users, they should also be monitored to ensure that they are not compromised in any way. </p>
<p>Silver. As we progress down the track, users or roles in the silver category are identified as performing medium level risk API calls. Remember, these risk levels are managed by Amazon Macie and automatically assigned these risk levels to the API calls. As an example, a medium level risk API could be DescribeRouteTables or ListObjects. </p>
<p>Bronze. Users or roles in this category provide the lowest level of risk due to history of their API call usage, which may include API calls such as DescribeSubnets and DescribeHosts. </p>
<p>These categories give you a very quick visualization as to how many users are operating with potentially over-elevated permissions. This allows you to drill down into these users further to ascertain exactly what tasks they are performing. On the main page of the user screen, you’ll see a list of users that Amazon Macie has identified. These users are categorized under the DLP, data loss prevention value column. It also provides a high level overview of the most recent activity, total events, errors, and unique IP addresses that have been attributed to that particular user. However, should you wish to investigate a particular user and gain further insight into events surrounding them, then you can click on their name within the user column. This will then provide you with a condensed version of the dashboard discussed in the previous lecture, with metrics and data that only relate to that user in question.</p>
<p>In this example, you may recognize the dashboard icons at the top where we have views relating to high-risk CloudTrail events, high-risk CloudTrail errors, activity location, CloudTrail events, activity ISPs, and CloudTrail user identity types. Again, these metrics in each view will only relate to events and data associated with that specific user. The last point I want to discuss in this lecture is how Amazon Macie defines user identity types, which is used in the main dashboard and the condensed dashboard for each specific user. </p>
<p>Amazon Macie identifies user identity types from the CloudTrail logs that it monitors and analyzes. Specifically using the user identity element from the events in the logs. The different user types are defined as follows. </p>
<ul>
<li>Root. This means that the request was initiated by the root account of your AWS account. </li>
<li>IAM user. Here the request was made by an IAM user. </li>
<li>Assumed role. This identity type defines that the request was made by credentials that were temporarily assumed having been obtained by calling the assumed role API for the security token service. </li>
<li>Federated user. Here the request, again, was made with temporary credentials but this time from calling the AWS STS GetFederationToken API. </li>
<li>AWS account. This simply defines that the request of the API was made by a different AWS account. </li>
<li>AWS service. Here the request was made by an AWS service rather than a particular user.</li>
</ul>
<p>That now brings me to the end of this lecture. Coming up next I will be discussing the research functionality of Amazon Macie.</p>
<h1 id="Research"><a href="#Research" class="headerlink" title="Research"></a>Research</h1><h2 id="Resources-Referenced-3"><a href="#Resources-Referenced-3" class="headerlink" title="Resources Referenced"></a>Resources Referenced</h2><p><a target="_blank" rel="noopener" href="https://lucene.apache.org/core/2_9_4/queryparsersyntax.html">Apache Lucene Query Parser Syntax</a></p>
<h2 id="Lecture-Transcript-6"><a href="#Lecture-Transcript-6" class="headerlink" title="Lecture Transcript"></a>Lecture Transcript</h2><p>Hello, and welcome to this lecture what looks at the research feature offered by Amazon Macie. This is a very useful function providing having an awareness and understanding of how to create queries using Apache Lucerne. How to construct queries is outside the limitations of this course. However, for further information you can visit the Apache Lucerne Query Parser syntax page. </p>
<p>This research function allows you to create your own queries against all of the data Amazon Macie has collected and monitored for AWS CloudTrail and Amazon S3. By doing so it enhances the flexibility of the service by providing a way of enabling deep dive analysis of your data that relates to your specific requirements within your business. Using the query parser you can build and construct your own queries to return the exact results that you need. </p>
<p>Underneath the query parser are a number of options that provide additional filters for your results. The first option allows you to limit the data source that Amazon Macie uses to perform your query. The options included here are CloudTrail data, S3 bucket properties and S3 objects. There are also two other filters that allow you to restrict the number of results found along with the date range filter. The number of results filters here include top 10, top 50, top 100 and top 500. The date range include seven days, 30 days, 90 days, 365 days, all, and a custom time frame. Amazon research is in fact closely tied with most of the other sections we have already discussed and look at. For example, the dashboard and alerts of Amazon Macie. When looking at the information represented in your dashboard graphs and visual representations of statistical information you will find that the graphs and images are interactive. If you were to click on the data or magnifying glass, by doing so you will often be redirected to the research feature. </p>
<p>For example, if I were to select CloudTrail events in the dashboard and then select the magnifying glass next to one of these events. Let’s say, get bucket policy, I am redirected to the research feature which will automatically fill out the query parser, allowing me to investigate the data further. As you can see, there are 707 results matched which we already knew from the dashboard page with the statistics provided there. However, what we could do now is perform additional analysis by drilling down in this information further. If I only wanted to look at IAM users that perform this API call rather than all user identity types which as we know know includes the root account IM users assumed roles of federated users, et cetera, et cetera then I can add some additional commands to the query parser which only currently states event name, error code key, get bucket policy. By adding the following commands after the current content, this query will then only display results where the get bucket policy API is used by IAM users only. </p>
<p>The results of this query are then displayed as follows. This query now only shows a total of nine matched results. This was a very simple example of how you can use the query parser to get further detailed analysis of your data that’s specific to the results that you need to investigate instant security threats and compliance requirements further. As you become more and more familiar with Amazon Macie and the components and elements that are of particular interest to you you are able to save your queries as a favorite to save you having to repeatedly type them into the query parser, using the following icon. </p>
<p>You can also create your queries and have them saved as a custom alert. This ensures that whenever criteria that matches your query appears it will appear within your alert screen to allow it to quickly identify and take the appropriate action as necessary. Again, this level of customization allows you to filter and direct your search for specific elements, allowing you to achieve different levels of compliance regulation. The following icon allows you to save your query as one of these custom alerts. </p>
<p>That now brings me to the end of this lecture. Coming up next I’ll be looking at how Amazon Macie classifies and protects your monitored data.</p>
<h1 id="Classifying-amp-Protecting-Data"><a href="#Classifying-amp-Protecting-Data" class="headerlink" title="Classifying &amp; Protecting Data"></a>Classifying &amp; Protecting Data</h1><h2 id="Resources-Referenced-4"><a href="#Resources-Referenced-4" class="headerlink" title="Resources Referenced"></a>Resources Referenced</h2><p><a target="_blank" rel="noopener" href="https://www.regexbuddy.com/regex.html">Regular Expressions (Regex)</a></p>
<h2 id="Lecture-Transcript-7"><a href="#Lecture-Transcript-7" class="headerlink" title="Lecture Transcript"></a>Lecture Transcript</h2><p>Hello and welcome to this lecture where I’ll be explaining how Amazon Macie makes its decisions on data classification through AWS CloudTrail logs and Amazon S3 actions. </p>
<p>Data being stored on Amazon S3 within your AWS account is classified by Macie which determines its level of business sensitivity and criticality. Every data object within your Amazon S3 buckets automatically receives a perceived level of risk based on this classification process. The data values depicted within the dashboard, discussed earlier, are all driven from this classification and risk assessment. So what are these categories of classification that Amazon Macie uses? </p>
<p>There are four categories for classification, which can be found under the settings menu within the Amazon Macie console. These being content type, file extensions, themes, and regex. The classifications within these categories can not be ordered or modified in any way. Neither can you add additional entries within each of these classifications. </p>
<p>Content type. The content type classification allows Macie to detect the type of file that is being stored on S3. For example, a binary file, a document, or source code object. Amazon Macie will then embed an identifier in the header of the file for classification. If you look at the different content types available, you will notice that there is a long list of types and every entry has the following fields. Name, description, classification, risk, and enabled. The first two fields are obvious. The classification field actually specifies the content type of that type of file. For example, an Adobe Illustrator file is classified as a document and a WireShark packet capture is classified as binary. The risk is a value between 1 to 10 and defines the business risk value of that type of content. Respectively, Adobe Illustrator files have a risk value of one and the WireShark files have a risk value of six. Finally, you can choose to have the content type entry enabled or disabled. If it’s enabled and active, the value will read yes. If it’s disabled the value will read no. This setting can be changed by selecting the entry and making the change. This is the only value that you can change on the content types. </p>
<p>File extensions. The file extension classification looks at the file extension of the object to ascertain its risk value. The same field types are used with file extensions as is for content type we just discussed. </p>
<p>Themes. Themes operate differently to both content type and file extensions in the fact that they assess the object based upon a series of key words that are detected within the actual object itself. Depending on these key words and their combinations will determine the risk level assigned to the object. The field types for themes are theme title, minimum keyword combinations, risk, and enabled. Examples of these titles are ‘American Express Credit Card Keywords’ or ‘Audit Keywords’, allowing you to determine the types of words that are being assessed. You can click on any of these entries to look at the actual words that are being scanned for. In the case of ‘Audit Keywords’, these are audit, risk assessment, security, and evaluation. The minimum keyword combinations is a numerical value showing how many of these keywords must be present in the object to dictate the risk level. </p>
<p>Regex. Like themes, regex or regular expression classifies content based on the actual content within the object. These regular expressions contain a text string for describing a specific search pattern allowing Amazon Macie to look for specific data within the content to calculate its risk. If you would like to learn and understand more about regex, then you can look at the link <a target="_blank" rel="noopener" href="https://www.regexbuddy.com/regex.html">here</a>. For each object stored on S3, Amazon Macie will assign a content type, file extension, theme, and regex value before defining its final risk value. This is determined by the highest value that was detected in each of these categories. For example, you may have an Excel document containing UK Passport numbers and the risk values may be classified as follows with a content type, file extension, and theme all with a risk value of one and a regex value of five. This would give a result of five as that was the highest value obtained for that data object. </p>
<p>During Amazon Macie’s process to classify data, it also performs automatic PII classification. This uses a list of predefined metrics relating to PII which include the following and are assigned a low, moderate, or high rating which is dependent on the quantities found within the object. The PII data searched includes full names, mailing addresses, email addresses, credit card numbers, IP addresses, driver license IDs, national identification numbers, and birth dates. </p>
<p>Amazon Macie uses two methods for protecting your data using AWS CloudTrail and artificial intelligence and machine learning to assess and review historical patterns of access. Using this historical data provided by CloudTrail, Macie can detect if there is unusual behavior occurring within your account that could potentially lead to your data being compromised. These methods include the use of AWS CloudTrail events and AWS CloudTrail errors. Both of these can be accessed by the settings menu within the Macie console, along with the data classification categories. </p>
<p>CloudTrail events provides a list of CloudTrail events along with their associated risk value of the API. The fields include name, description, classification, risk, and enabled. The classification field relates to the resource that a particular API is actionable against. It’s also possible to search the events by name. As you can see in the image, I’ve searched for get, which as returned all events with get in the title. The image shows just three of the results returned. As expected, an API starting with get is likely to have a higher risk value then an API starting with list, as a get is generally a request to retrieve data which could indicate an intrusion of some kind depending on the API in question. These three get events have a rating of eight, eight, and nine, which again is marked out of 10. </p>
<p>CloudTrail errors. This looks at the different errors that are generated and reported within CloudTrail. If you perform an action within AWS and receive an error back, it is generally because you did not have permission or access to the resource, you were using the wrong credentials, or some other kind of invalid request. These are all common errors that can occur when someone is trying to access or perform a function or action against something that they shouldn’t be. So from a security awareness and assessment point of view, these are crucial. As a result, the minimum risk value to these errors is five, with some reaching a risk value of 10, the highest possible value. </p>
<p>That now brings me to the end of this lecture covering the classification and protection of data within Amazon Macie.</p>
<h1 id="Multiple-Accounts-with-Amazon-Macie"><a href="#Multiple-Accounts-with-Amazon-Macie" class="headerlink" title="Multiple Accounts with Amazon Macie"></a>Multiple Accounts with Amazon Macie</h1><h2 id="Resources-Referenced-5"><a href="#Resources-Referenced-5" class="headerlink" title="Resources Referenced"></a>Resources Referenced</h2><p><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/macie/latest/userguide/macie-integration.html#macie-integration-member">CloudFormation Templates</a></p>
<h2 id="Lecture-Transcript-8"><a href="#Lecture-Transcript-8" class="headerlink" title="Lecture Transcript"></a>Lecture Transcript</h2><p>Hello and welcome to this very quick lecture where I want to demonstrate how you can use a single AWS Master account to gather data for multiple AWS accounts that you may have, to gain a full understanding of your business risk value based on everything that I’ve discussed so far. To do this, I shall perform a quick demonstration to explain how to complete this process. </p>
<p>OK so, to carry out this demonstration, I’m going to need two AWS accounts. I’m going to need a Master account, and also a second account that’ll be used as a Member account. And what I’ll do, I’ll add the Member account to the Master account, then all the dashboard findings will be sent through to the Master account rather than having to view Macie across all your different AWS accounts. </p>
<p>So I’ve logged into one of my AWS accounts, and this is going to be my Member account. Now the first step I need to do, is run a cloud formation stack. Now this cloud formation stack is provided by AWS, and it is different from the cloud formation stack that you first use to enable Macie, because that was to enable Macie as your Master account, whereas here, we want to enable Macie as a Member account. These stacks can be found on the following webpage, and I’ll also put a link to them within the transcripts as well. </p>
<p>So I’m going to run the cloud formation template for the Virginia region. Now again it’s very simple on this select template screen. All I need to do is go across to Next. I’ll leave the stack name as MacieServiceRolesMembers, and here I need to enter the Master account. So my Master account number is as follows, once I’ve put that Master account number in, I can then click on Next. Now here I can change a number of options if I need to, but I’m just going to leave all these as the default, then click on Next. And then at the Review screen, we just need to acknowledge the fact that AWS cloud formation might create IAM resources with custom names. So that’s just a simple checkbox, and then you scroll down, and go across to Create. </p>
<p>This will then go ahead and run the cloud formation stack. Just refresh the page there. We can see here the stack name is the MacieServiceRolesMembers stack, and it’s currently in progress. OK, now that’s complete, what I’ll do, I’ll go across to my other AWS account, which will be my Master account. I then open up Amazon Macie and I’ll add this Member account into my Macie console on my Master. </p>
<p>OK, so I’m now in my Master account, so if I go across to Amazon Macie. And then on the left hand side, if I go down to Integrations. And on the Accounts page here, we can see currently that we don’t have any Member AWS accounts. So, to add the account we click on the Plus across this side, enter the Account ID. Now that’s the Account ID of the Member account where we’d just run the account formation script. Then click on Add Accounts. And then we can see that it’s now been approved. So if we click on Close, and we can check our Member AWS account section here, we can now see that, that account is now a Member account, and up here is our Master account, which is the account that I’m currently logged into. So if you have multiple AWS accounts, you’ll have one as your Master account, where you set it up and enable it using the cloud formation script that we discussed earlier in this course, and if you need to add Member accounts, then you need to use a different cloud formation script, which will configure that Macie account as a Member account. And once you have those Member accounts configured, you then go to your Master account and simply add them here. </p>
<p>That brings me to the end of this lecture. Coming up next will be a summary of all the key points taken from the previous lectures.</p>
<h1 id="Course-Summary"><a href="#Course-Summary" class="headerlink" title="Course Summary"></a>Course Summary</h1><h2 id="Lecture-Transcript-9"><a href="#Lecture-Transcript-9" class="headerlink" title="Lecture Transcript"></a>Lecture Transcript</h2><p>Hello, and welcome to this final lecture within this course covering Amazon Macie. Hopefully you should now have a better understanding of Amazon Macie, and how it can be used to enhance your security level within your AWS account. Specifically across your data being stored in Amazon S3. The abilities of being able to automatically classify data and its potential risk value, and being able to identify security loopholes and potential exposures with your business critical data is invaluable. Amazon Macie provides a means of ensuring you have a way of enabling compliance on different levels. For example, it can be used as a service to help you enable compliance regulations to be met by GDPR. Through the use of alerts, metrics, deep analysis, best practices and customization, you can use Amazon Macie to meet stringent compliance needs within your business. </p>
<p>I now want to review and highlight some of the key points taken from each of the lectures within this course. I started by focusing on what Amazon Macie was and in this lecture we learnt that the main function of this service is to provide an automatic method of detecting, identifying, and also classifying data that you are storing within your AWS account. It’s backed by machine learning to detect access patterns and look for unusual or irregular activity. Findings are presented within a dashboard which can trigger alerts, and Amazon Macie, automatically and continuously monitors data in S3. Natural language processing methods are used to help classify data types and content. Objects are assigned a risk value based on data classification. Amazon Macie can monitor and discover security changes governing your data, and it can detect sensitive and security focused data, such as API keys, secret access keys, in addition to PII and PHI data. It can also detect changes to security policies and access control lists, and alert against unusual user behavior . This all helps you to maintain compliance requirements as needed. </p>
<p>Following this lecture, I looked at how to enable the service and associate your S3 data. In this lecture I explained that your AWS account needs to meet two requirements before you can enable Macie. You need to check the existence of IAM roles, specifically the AWS Macie service customer setup role. And to check that AWS CloudTrail is enabled within your AWS account. Point one here can be implemented through the use of CloudFormation templates provided by AWS. And point two simply requires that you create a trail within CloudTrail. When both requirements are met, you can then enable the service. You can then associate your Amazon S3 buckets with Macie via the integrations menu in the console. During this particular lecture, I provided a demonstration on how to do this. </p>
<p>Next I focused my attention on the different types of alerts generated and that are available with Amazon Macie. By default, Macie is pre-configured with a wide range of alerts based on security best practices and the sensitivity of data that the service will check against. Macie offers the ability to create custom alerts. These alerts exist as two different types. Basic, which consist of prebuilt alerts that come with Amazon Macie, and also custom alerts. Predictive alerts look at the behavior of your AWS account to automatically identify activities that sit outside the realms of normal operations. Alerts displayed in the console show summarized details, however these details can be expanded by clicking on the alert itself. The alert summary shows information allowing you to respond to the alert appropriately with the findings given. The alert detail section offers a whole host of additional information retrieved by CloudTrail events. It’s possible to whitelist users for specific alerts that are identified. The severity of an alert can either be informational, low, medium, high, or critical. I also provided a demonstration on how to create your own alerts. </p>
<p>Following this lecture, I discussed the Amazon Macie dashboard. In this lecture, we learnt that the Amazon Macie dashboard is the central hub of information that is collated, monitored and classified through Amazon CloudTrail logs and any services associated to Macie, such as Amazon S3. The dashboard has four metric boxes at the top of the page. Critical assets, this metric defines as a percentage how many of your assets have been identified as high risk, which is anything with a risk value of eight, nine, or 10. Total event occurrences metric. This relates to your Amazon CloudTrail logs and calculates number of API calls that Amazon Macie has monitored as a part of the security analysis of your infrastructure. Total user sessions is a count of user sessions which Amazon Macie has processed. And total users shows the number of users that have been identified by CloudTrail data. The bottom of the dashboard is used to present a number of different views in graphs, charts and statistics of monitored data. These being S3 objects for the selected time range. This displays the S3 objects within a time range at a minimum risk level. S3 objects, this metric shows your monitored S3 objects grouped together by Amazon Macie themes. S3 objects by PII. This shows PII data grouped by priority and type. S3 objects by ACL. This groups S3 objects by their ACL URIs, display names, and permission levels. High-risk CloudTrail events and associated users. This metric relates to the top 20 high-risk CloudTrail events detected in the last 60 days. High-risk CloudTrail errors and associated users. This displays the errors resulting from API actions detected in the CloudTrail logs. Activity location, this represents the global map showing the locations of activity of actions that Amazon Macie is monitoring and analyzing. CloudTrail events, this identifies all CloudTrail events monitored by Macie. Activity ISPs, this records the ISPs that have been used by users. And finally, CloudTrail user identity types. This groups users detected by their identity type, such as an IAM user. </p>
<p>Once I had reviewed the Macie dashboard, I looked at the users section. In this lecture I covered the following points. Users are grouped by platinum, gold, silver and bronze. Which represents their perceived level of risk based on their history of API calls. Platinum poses the highest risk, and bronze the lowest risk. Additional data can be generated by selecting the user, which will present you with a condensed version of the dashboard displaying metrics only relating to that particular user. User identity types are defined from CloudTrail logs that it monitors and analyzes via the user identity element. User identity types include, root, which means the request was initiated by AWS root account. IAM user, the request was made my an IAM user. Assumed role, defines that the request was made by credentials that were temporarily assumed by the assumed role API. Federated user, the request again was made with temporary credentials, but using the STS GetFederation Token API. AWS account, the request was made by a different AWS account. And AWS service, the request was made by an AWS service. </p>
<p>Following this lecture, I then focused on the research feature of Amazon Macie. Here I covered the following points. The research function allows you to create your own queries against all of the data that Amazon Macie has collected and monitored via AWS CloudTrail and Amazon S3. It enables you to perform deep dive analysis of your data that relates to your specific requirements within your business using the query parser. You can filter the results based on CloudTrail data, S3 bucket properties, and S3 objects. You can also filter on the number of results found, along with a date range filter. Research is integrated with all elements of Macie, for example the dashboard and alerts. An example of an entry on the query parser is as follows. Which will only display the results with a get bucket policy API call is used by IAM users only. It’s possible to save your favorite queries within a favorites list, and you can also create your queries and have them saved as a custom alert. </p>
<p>Following this lecture, I then moved my focus on to explain how Amazon Macie classifies your data to assign its risk value. In this lecture, I explained that every data object within the Amazon S3 bucket automatically receives a perceived level of risk based on a classification process. There are four classification categories. Content type allows Macie to detect the type of file that is being stored on S3. For example, a binary file, a document, or source code object. File extensions. This looks at the file extension of the object to ascertain its risk value. Themes. This assesses the object based on a series of key words that are detected within the actual object itself. And Regex, regular expression. This classifies content based on content within the object using a text string for describing a specific search pattern. Each S3 object has a risk value for each category. The object’s final risk value is given by the highest value received between the four categories. Amazon Macie also performs automatic PII classification using a list of predefined metrics. Amazon Macie uses AI and machine learning to assess and review historical CloudTrail data access patterns using CloudTrail events and CloudTrail errors. CloudTrail events provide a list of CloudTrail events along with the associated risk value of the API. CloudTrail errors looks at the different errors that are generated and recorded within CloudTrail. </p>
<p>The final lecture was a demonstration where I showed you how to use a single AWS master account to gather data for multiple AWS accounts. </p>
<p>That now brings me to the end of this lecture, and to the end of this course. You should now be able to effectively use Amazon Macie to help you protect your data, and to meet and maintain governance and compliance regulations within your environment. </p>
<p>If you have any feedback on this course, positive or negative, please do contact us at <a href="mailto:&#115;&#117;&#x70;&#112;&#x6f;&#x72;&#x74;&#x40;&#99;&#x6c;&#x6f;&#x75;&#100;&#x61;&#99;&#97;&#100;&#x65;&#109;&#x79;&#46;&#x63;&#111;&#x6d;">&#115;&#117;&#x70;&#112;&#x6f;&#x72;&#x74;&#x40;&#99;&#x6c;&#x6f;&#x75;&#100;&#x61;&#99;&#97;&#100;&#x65;&#109;&#x79;&#46;&#x63;&#111;&#x6d;</a>. You feedback is greatly appreciated. Thank you for your time, and good luck with your continued learning of cloud computing. </p>
<p>Thank you.</p>
<h1 id="2What-is-Amazon-Macie"><a href="#2What-is-Amazon-Macie" class="headerlink" title="2What is Amazon Macie?"></a>2<strong>What is Amazon Macie?</strong></h1><p><a target="_blank" rel="noopener" href="https://cloudacademy.com/webinars/establishing-privacy-program-gdpr-compliance-beyond-62/">GDPR Compliance Webinar</a></p>
<p><a target="_blank" rel="noopener" href="https://aws.amazon.com/about-aws/global-infrastructure/regional-product-services/">AWS Regional Product Service Table</a></p>
<h1 id="3Enabling-and-Associating-Amazon-Macie-with-Amazon-S3"><a href="#3Enabling-and-Associating-Amazon-Macie-with-Amazon-S3" class="headerlink" title="3Enabling and Associating Amazon Macie with Amazon S3"></a>3<strong>Enabling and Associating Amazon Macie with Amazon S3</strong></h1><p><a target="_blank" rel="noopener" href="https://console.aws.amazon.com/cloudformation/home?region=us-east-1#/stacks/new?stackName=MacieServiceRolesMaster&templateURL=https://s3.amazonaws.com/us-east-1.macie-redirection/cfntemplates/MacieSer">US East (Virginia) CloudFormation Template</a></p>
<p><a target="_blank" rel="noopener" href="https://console.aws.amazon.com/cloudformation/home?region=us-west-2#/stacks/new?stackName=MacieServiceRolesMaster&templateURL=https://s3-us-west-2.amazonaws.com/us-west-2.macie-redirection/cfntemplate">US West (Oregon) CloudFormation Template</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/macie/latest/userguide/macie-setting-up.html#macie-setting-up-enable">CloudFormation Templates for all regions available</a></p>
<p><a target="_blank" rel="noopener" href="https://cloudacademy.com/course/aws-automation-how-to-use-cloudformation/">Course: How to use Cloudformation for Automation</a></p>
<p><a target="_blank" rel="noopener" href="https://cloudacademy.com/course/advanced-aws-cloudformation/">Course: Advanced use of AWS CloudFormation</a></p>
<p><a target="_blank" rel="noopener" href="https://cloudacademy.com/amazon-web-services/labs/deploy-wordpress-cloudformation-17/">Lab: Deploy Wordpress using CloudFormation</a></p>
<p><a target="_blank" rel="noopener" href="https://cloudacademy.com/course/aws-cloudtrail-introduction/">Course: AWS Cloudtrail: An Introduction</a></p>
<p><a target="_blank" rel="noopener" href="https://cloudacademy.com/amazon-web-services/labs/monitoring-aws-cloudtrail-events-amazon-cloudwatch-76/">Lab: Monitoring AWS CloudTrail Events with Amazon CloudWatch</a></p>
<h1 id="4Alerts"><a href="#4Alerts" class="headerlink" title="4Alerts"></a>4<strong>Alerts</strong></h1><p><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/macie/latest/userguide/macie-research.html#macie-query">Constructing Queries in Amazon Macie</a></p>
<h1 id="7Research"><a href="#7Research" class="headerlink" title="7Research"></a>7<strong>Research</strong></h1><p><a target="_blank" rel="noopener" href="https://lucene.apache.org/core/2_9_4/queryparsersyntax.html">Apache Lucene Query Parser Syntax</a></p>
<h1 id="8Classifying-amp-Protecting-Data"><a href="#8Classifying-amp-Protecting-Data" class="headerlink" title="8Classifying &amp; Protecting Data"></a>8<strong>Classifying &amp; Protecting Data</strong></h1><p><a target="_blank" rel="noopener" href="https://www.regexbuddy.com/regex.html">Regular Expressions (Regex)</a></p>
<h1 id="9Multiple-Accounts-with-Amazon-Macie"><a href="#9Multiple-Accounts-with-Amazon-Macie" class="headerlink" title="9Multiple Accounts with Amazon Macie"></a>9<strong>Multiple Accounts with Amazon Macie</strong></h1><p><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/macie/latest/userguide/macie-integration.html#macie-integration-member">CloudFormation Templates</a></p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/11/14/AWS-Security-Specialty-Lab-Detecting-EC2-Threats-with-Amazon-GuardDuty-22/" rel="prev" title="AWS-Security-Specialty-Lab-Detecting-EC2-Threats-with-Amazon-GuardDuty-22">
      <i class="fa fa-chevron-left"></i> AWS-Security-Specialty-Lab-Detecting-EC2-Threats-with-Amazon-GuardDuty-22
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/11/14/AWS-Security-Specialty-An-Overview-of-Amazon-CloudWatch-24/" rel="next" title="AWS-Security-Specialty-An-Overview-of-Amazon-CloudWatch-24">
      AWS-Security-Specialty-An-Overview-of-Amazon-CloudWatch-24 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Introduction"><span class="nav-number">1.</span> <span class="nav-text">Introduction</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture-Transcript"><span class="nav-number">1.1.</span> <span class="nav-text">Lecture Transcript</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#What-is-Amazon-Macie"><span class="nav-number">2.</span> <span class="nav-text">What is Amazon Macie?</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Resources-Referenced"><span class="nav-number">2.1.</span> <span class="nav-text">Resources Referenced</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture-Transcript-1"><span class="nav-number">2.2.</span> <span class="nav-text">Lecture Transcript</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Enabling-and-Associating-Amazon-Macie-with-Amazon-S3"><span class="nav-number">3.</span> <span class="nav-text">Enabling and Associating Amazon Macie with Amazon S3</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Resources-Referenced-1"><span class="nav-number">3.1.</span> <span class="nav-text">Resources Referenced</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture-Transcript-2"><span class="nav-number">3.2.</span> <span class="nav-text">Lecture Transcript</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Alerts"><span class="nav-number">4.</span> <span class="nav-text">Alerts</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Resources-Referenced-2"><span class="nav-number">4.1.</span> <span class="nav-text">Resources Referenced</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture-Transcript-3"><span class="nav-number">4.2.</span> <span class="nav-text">Lecture Transcript</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dashboard"><span class="nav-number">5.</span> <span class="nav-text">Dashboard</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture-Transcript-4"><span class="nav-number">5.1.</span> <span class="nav-text">Lecture Transcript</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Users"><span class="nav-number">6.</span> <span class="nav-text">Users</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture-Transcript-5"><span class="nav-number">6.1.</span> <span class="nav-text">Lecture Transcript</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Research"><span class="nav-number">7.</span> <span class="nav-text">Research</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Resources-Referenced-3"><span class="nav-number">7.1.</span> <span class="nav-text">Resources Referenced</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture-Transcript-6"><span class="nav-number">7.2.</span> <span class="nav-text">Lecture Transcript</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Classifying-amp-Protecting-Data"><span class="nav-number">8.</span> <span class="nav-text">Classifying &amp; Protecting Data</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Resources-Referenced-4"><span class="nav-number">8.1.</span> <span class="nav-text">Resources Referenced</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture-Transcript-7"><span class="nav-number">8.2.</span> <span class="nav-text">Lecture Transcript</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Multiple-Accounts-with-Amazon-Macie"><span class="nav-number">9.</span> <span class="nav-text">Multiple Accounts with Amazon Macie</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Resources-Referenced-5"><span class="nav-number">9.1.</span> <span class="nav-text">Resources Referenced</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture-Transcript-8"><span class="nav-number">9.2.</span> <span class="nav-text">Lecture Transcript</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Course-Summary"><span class="nav-number">10.</span> <span class="nav-text">Course Summary</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture-Transcript-9"><span class="nav-number">10.1.</span> <span class="nav-text">Lecture Transcript</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2What-is-Amazon-Macie"><span class="nav-number">11.</span> <span class="nav-text">2What is Amazon Macie?</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3Enabling-and-Associating-Amazon-Macie-with-Amazon-S3"><span class="nav-number">12.</span> <span class="nav-text">3Enabling and Associating Amazon Macie with Amazon S3</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4Alerts"><span class="nav-number">13.</span> <span class="nav-text">4Alerts</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#7Research"><span class="nav-number">14.</span> <span class="nav-text">7Research</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#8Classifying-amp-Protecting-Data"><span class="nav-number">15.</span> <span class="nav-text">8Classifying &amp; Protecting Data</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#9Multiple-Accounts-with-Amazon-Macie"><span class="nav-number">16.</span> <span class="nav-text">9Multiple Accounts with Amazon Macie</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Hang Zhang"
      src="/images/123456.gif">
  <p class="site-author-name" itemprop="name">Hang Zhang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">2736</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">72</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/zh375636" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zh375636" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:hang.zhang.network@gmail.com" title="E-Mail → mailto:hang.zhang.network@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hang Zhang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>



// 在最后添加
<script src="/js/code-unfold.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : '40GUvOAaitQh1SZe7ua9cvss-MdYXbMMI',
      appKey     : 'iUO2yON0j55WMdu59zx12dCG',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
