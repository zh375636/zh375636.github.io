<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="IntroductionWelcome to implementing continuous delivery. My name is Matthew Quickenden and I’m going to be guiding you through how to implement dependency management. If you have any questions, feel f">
<meta property="og:type" content="article">
<meta property="og:title" content="AZ-400-Implementing-Dependency-Management-With-Azure-DevOps-18">
<meta property="og:url" content="https://example.com/2022/11/18/AZ-400-Implementing-Dependency-Management-With-Azure-DevOps-18/index.html">
<meta property="og:site_name" content="Hang&#39;s Blog">
<meta property="og:description" content="IntroductionWelcome to implementing continuous delivery. My name is Matthew Quickenden and I’m going to be guiding you through how to implement dependency management. If you have any questions, feel f">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-11-19T00:37:54.000Z">
<meta property="article:modified_time" content="2022-11-27T17:18:36.000Z">
<meta property="article:author" content="Hang Zhang">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://example.com/2022/11/18/AZ-400-Implementing-Dependency-Management-With-Azure-DevOps-18/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>AZ-400-Implementing-Dependency-Management-With-Azure-DevOps-18 | Hang's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hang's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/18/AZ-400-Implementing-Dependency-Management-With-Azure-DevOps-18/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          AZ-400-Implementing-Dependency-Management-With-Azure-DevOps-18
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-18 20:37:54" itemprop="dateCreated datePublished" datetime="2022-11-18T20:37:54-04:00">2022-11-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-27 13:18:36" itemprop="dateModified" datetime="2022-11-27T13:18:36-04:00">2022-11-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AZ-400/" itemprop="url" rel="index"><span itemprop="name">AZ-400</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/18/AZ-400-Implementing-Dependency-Management-With-Azure-DevOps-18/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/18/AZ-400-Implementing-Dependency-Management-With-Azure-DevOps-18/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>Welcome to implementing continuous delivery. My name is Matthew Quickenden and I’m going to be guiding you through how to implement <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/implementing-dependency-management-with-azure-devops/what-is-dependency-management/">dependency management</a>. If you have any questions, feel free to connect with me on LinkedIn or send an email to <a href="mailto:support@cloudacademy.com">support@cloudacademy.com</a>.</p>
<p>This course is intended for people who want to become Microsoft-certified <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Azure</a> DevOps Engineers or who need to combine people, processes, and technologies to continuously deliver products and services to meet business objectives. This is focused on packages created and used during the development cycles. While you don’t need any specific coding knowledge, having some experience with Visual Studio or like development tooling and Azure DevOps will be useful. Students who may not have any experience or background in development and are just interested in learning will be able to benefit from this course.</p>
<p>By the end of this course, you should have a good understanding of how packages are managed within Azure DevOps and the implications of package management methodologies. Your feedback on this course is important, so please give it a rating when you’re finished. Let’s get started.</p>
<h1 id="What-is-Dependency-Management"><a href="#What-is-Dependency-Management" class="headerlink" title="What is Dependency Management?"></a>What is Dependency Management?</h1><p>What is dependency management? With modern software architectures and development methods, software dependencies can become intertwined quickly. With more online repositories like GitHub and Docker Hub, pre-built libraries and services can be easily published and leveraged. These projects can be managed by all sorts of individuals or groups, and have a wide range of work ethics from well-maintained solutions, with good community and multiple contributors, and release schedules, all the way to the other end of the spectrum. Code is also developed internally and is often reused. Wherever the source comes from the problem is the same. Once implemented, one project now has a dependency on another.</p>
<p>When a team comes together to build a solution, they may decide for various reasons to leverage code that already exists. Depending on the type and language used for the project, there are different sources that can be leveraged to accelerate development. For instance, let’s say you’re running a .NET application, that’s going to be processing JSON, that you retrieved from <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Azure</a> to describe Azure resources.</p>
<p>Rather than having to write all the logic to handle the JSON, your team decides to leverage a popular package called Newtonsoft.Json, which is a publicly available package. You could leverage the NuGet package that’s already been built and published for consumption.</p>
<p>By leveraging this package in your code, you have created a dependency on the package for your solution.</p>
<p>A package is a standardized way of distributing codes that can be consumed by another application or solution. Metadata is used to help store and version, and identify these packages.</p>
<p>There are different types of packages, as shown here in the image, that can be retrieved from upstream sources, found in artifacts in Azure DevOps.</p>
<p>NuGet. NuGet is a free open source package manager, designed for the Microsoft development platform used in .Net, since its introduction in 2010. NuGet has evolved into a larger ecosystem of tools and services. NuGet is distributed as a Visual Studio extension. The NuGet package has a.nupkg suffix, and as a zip file with a specific folder structure.</p>
<p>Maven packages are often used for Java projects. Maven can also be used to build and manage projects written in C#, Ruby, Scala, and other languages. A Project Object model file describing the metadata of the project is stored within the package.</p>
<p>NPM is a package manager for JavaScript programming language. It’s primarily used for runtime environments with Node.js. An NPM package contains a package.json file, describing the metadata of the package.</p>
<p>The Python Package Index is a repository of software for the Python programming language. Python’s packaging is built for distributing reusable code, called libraries, between developers. These packages are libraries used as building blocks to create applications, and have a.tar.gz extension.</p>
<p>Azure DevOps also has the ability to store Universal Packages. A Universal Package installed one or more files together in a single package that have a name and version, which is useful for many ad hoc situations where you want diversion and track files.</p>
<p>Containerized workloads are becoming more popular as platforms like Kubernetes are becoming mainstream. Docker images are generally complete self-contained systems.</p>
<p>Azure artifacts is available in Azure DevOps, DevOps server, as well as in Team Foundation Server 2017, and 2018. The sources allow you to integrate packages seamlessly into your CI&#x2F;CD pipeline. There are three concepts you need to understand when managing Azure artifacts: feeds, views, and upstream sources.</p>
<p>Feeds are the primary method for delivering packages. Microsoft recommends one feed per project. To achieve this we can utilize the feature of upstream sources, which allows us to combine multiple sources into a single feed. Using this method allows us to control sources in your project in the various levels of access. Here we can see two options we have when adding upstream sources. A public source, and from an existing Azure Artifacts feed from within your Azure DevOps organization.</p>
<p>When adding a public source, the only supported package type is an NPM source as shown here.</p>
<p>When adding a source from within your Azure DevOps organization, you can target an Azure Artifacts feed. This allows you to use different package types, for example, NuGet, Python, and Maven.</p>
<p>You can scope the visibility of your package feed to your organizations, which is multiple projects. This is the default. To project that is, this project or one project, specific people, which is a target audience, or public use.</p>
<p>A benefit of bring all these packages together in one feed is the copies are made of the sources. If you’re using sources, and those sources go offline, you’ll be able to maintain your own version of this package.</p>
<p>Let’s take a look at views, and when and how you should use a view. For example, let’s Do you want to share a package feed with an external partner. With the scope, you could use a public scope. However, this would make the package available to the internet. Views are a good way to address this use case. Using views means the data is read only. To gain access to these views, the external partner needs to be part of your Azure AD.</p>
<p>Views provide way to have the same feed used for debug and release packages. By default, there are three views. The @Release view contains all the packages that are considered official releases. The @Prerelease view contains all the packages that have labels in the version numbers, and local, which contains all the releases and prereleases of packages as well as downloaded cached content from upstream sources.</p>
<p>By default, the published packages will all belong to the local view only.</p>
<p>You have the option to promote a version to a view. As we can see here the version 1.0.74.1 is published to the prerelease view.</p>
<p>Upstream sources enable you to manage your product’s dependencies in a single place. Using upstream sources makes it easy to use common packages in your solution. It has the added benefit, and gives you protection against outages and corrupted or compromised packages from upstream sources, as a copy of the packages stored locally.</p>
<p>There are many different tools and ways to manage your packages, depending on the type of packages you’re working with. We’re going to look briefly at some of the methods using NuGet package management. However, these concepts apply generally to all packages.</p>
<p>To publish a package into your feed, if you’re using the command line, you often need to use an API key. Here’s a brief example of using .NET NuGet push.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dotnet nuget push MyApp.1.0.0.nupkg -k &lt;yourAPIKey&gt; -s https://repo.nuget.org/v3/index.json</span><br></pre></td></tr></table></figure>

<p>These are some other commands or methods to assist with managing your NuGet packages. This is not a complete list, but highlight some of the key functionality. Pack, it creates a NuGet package based on the specific nuspec spec file or project file. List displays a list of packages from a given source. Restore downloads and installs any missing packages from the packages folder. Install downloads and installs a specific package into your project. Delete deletes or unlists a package from a packet source.</p>
<p>This brings us to the end of the first section, looking at what <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/implementing-dependency-management-with-azure-devops/introduction/">dependency management</a> is, and what Azure Artifacts look like. We’re going to jump into a <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/implementing-dependency-management-with-azure-devops/demo-building-a-package/">demo</a> and work through <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/implementing-dependency-management-with-azure-devops/demo-building-a-package/">creating a package</a>.</p>
<h1 id="Demo-Building-a-Package"><a href="#Demo-Building-a-Package" class="headerlink" title="Demo: Building a Package"></a>Demo: Building a Package</h1><p>Welcome to our first session. We’re sitting in the portal here at dev.azure.com and we’ve already got an organization created, we’re logged into. The goal of the session is we’re going to create a package in Visual Studio, and we’re gonna increment the versions, add some <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/implementing-dependency-management-with-azure-devops/introduction/">dependencies</a> and make sure that’s committed to an artifact repository in our project.</p>
<p>First, we need to create a project. We’re gonna call this the depend on project. If we go now down to the <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Azure</a> repo, we are gonna use Visual Studio to create the code. We need to make sure that we create a gitignore file for Visual Studio. Otherwise, you’ll end up with errors to do with files in use. So we now need to clone that project. And we’re just gonna use the IDE and clone to Visual Studio. We’re gonna let the browser handle opening this for us and connecting us to the right project. We’ll just need to login with our credentials. Now this is going to connect to the dev.azure.com and to our organization in a particular azure git repo. Here, we can choose to leave all the defaults and clone the project.</p>
<p>So we can see now that that project is connected here depends on project we connected to the master branch, we go to the team explorer, we currently have no solutions. So we’re gonna do a new solution. And in this case, we’re gonna look for a class library for .NET Core. So we can do a cross platform build. We’re gonna call this, depends class, and create. For this exercise, we’re not going to write any code. And that’s fine. The principles of uploading the code and the dependencies will work as they should.</p>
<p>So we can see in the Solution Explorer, we have the class.cs file we have over here. And we also have dependencies for the project. If we look at the properties of this file, we can see we have the package over here and currently is version of 1.0.0. We’re gonna change this to 001. And if we just click off that, we can see we’ve got that change. We’re just gonna save that. And close that page.</p>
<p>Looking at Visual Studio, we now have three changes to push. So we’re gonna call this our first. And we’re gonna do a commit all and push. That’s initializing the push, we can see that working here, and successfully pushed origin master. If we return here and look at files, we can see in our project depend on project files that we have, class and class files in here.</p>
<p>The next thing we need to do is create a pipeline and make sure we can build this project. So we’re gonna come over to the Azure pipelines and create our first pipeline. We’re gonna use the classic editor down here, create a pipeline without writing YAML. We’re obviously going from an Azure Git repo. And by default, it’s connected to the repo of this project. Continue. </p>
<p>We’re gonna choose the .NET Desktop for our template and get ourselves some more screen real estate here. And we can see these jobs have been added to this project. So we get the NuGet installer, we currently restore a package, build a solution. We’ve got this test here for testing the libraries, we’re not gonna use that, we’re just gonna remove it. We also don’t need to publish any symbols for debugging here. And the rest of that is fine.</p>
<p>So let’s do our first save and queue. And we’re gonna call this build1, run. You can see that job has been queued. And if we jump in here, we’ll just watch this.\</p>
<p>That looks like it succeeded. If we go look at our artifacts, in our drop folder, we have dependency, class bin, release .Net Core, depclass.dll. If we download that file, choose to keep that we can see this file depclass which if we look in there are downloads and check the properties of this file, we can see we have the version 0.0.1 as we stated in the build.</p>
<p>So next we wanna go to our pipeline and add in the ability to versions automatically. And we wanna push that version into a NuGet repository into our artifacts feed.</p>
<p>Let’s go create our artifacts feed to begin with. So we go over here, create feed. We’re gonna leave these options as default including the upstream sources, and create.</p>
<p>When we look at this feed, there’s nothing in the feed ‘cause we haven’t published anything to it. We can look at the properties of the feed and we can see the description here for if we want to give a description. We need to just save that. And we can see we have some other options here for hide deleted packages, package sharing badges. So if you’re doing build badges, how successful packages retention policies.</p>
<p>We can also see there are permissions here. And why it was important to do that first build pipeline was that it actually adds the depends on build service as a contributor to this artifact feed. Otherwise, you have to add that manually if you don’t have the build service run once already. We can also see this the different views for local pre release and release we’ve looked at and also upstream sources.</p>
<p>So if you wanted to add another upstream source, for instance, you could click on the add and do a public source. In this case, I’ve already got a link for a repository. Its just a couch app. So we can just say it’s an NPM source. And NPM is the only option package type, custom NPM, give it a name and add. And now we have another repository available for us in this feed. </p>
<p>So now that we’ve created this feed, we wanna publish our own package into it. If you go back to build pipeline. And we’re gonna edit the pipeline. We need to increment the package version as we build it. So let’s add a task into this job. And we’re gonna look for assembly. Now, you may not have this installed, it may be in your marketplace, so you need to go and install it. In my case I already do. I’m just gonna add it. It’s fairly simple to install. If you just follow it to the website and publish it to your organization.</p>
<p>We move on to the second task in the list, and we can see, we’re using the project files it’s the source files directory. And what we wanna do is change the attributes of the assembly. It’s all the different things we can change in this task. In our case, we want to change the assembly version, file version, and package version. And here we’re going to put the build.buildnumber. And we’re gonna copy that to the correct places. In this case, the assembly version, file version and package version.</p>
<p>You might be asking where are we getting this build number from? That’s one of the options of the pipeline. We have build versions by default. We’re just gonna clean this up. And we’re gonna do version 1.0.$(dayofyear).$(rev:r). And that will give us the day of the year and the revision build for the day. So let’s save this.</p>
<p>If we go and look at our tasks, we now need to continue on and create a package that we’re gonna push into the artifact repository. So in this case, we’re not gonna use the drop folder anymore. So let’s delete this. And we’re gonna wanna add a task from the NuGet packager, add, pull, push.</p>
<p>If we go to the task we can see the command we wanna run is push. If we come down here, we can look for our project depend feed. And we just now need to make sure that we have that package created because of the version of .NET Core that we’re using, we need to use the build solution over here and &#x2F;t:pack and during the build that’ll create a package bin, in the bin folder.</p>
<p>Once that build is completed, we wanna copy those files. So if we look for the source folder here, we can see our path. And we’re gonna just pick this path here for the project. And we just want the files in the bin directory. So let’s save this and cue it.</p>
<p>So that looks like it succeeded. If we go to the artifacts and we choose project feed, we can see here is our depend class and it’s pushed into the repository. If we look in here we can see what part of the code bunch, there’s a bunch of information about the project.</p>
<p>The last piece of the session we wanna cover is adding other dependencies to this. So if we go back to our project, and our solution, so if we go over here and select manage NuGet packages on the dependencies, we can browse for the NuGet package source nuget.org. I’m gonna browse, and we’re gonna add, say this one here. This is a Newtonsoft JSON handler. And perhaps the Microsoft extensions for logging. So again, we’ll choose, you can choose different versions. We’re gonna choose the latest stable version and install. Accept the licenses and we can see this that change. So we’re gonna change this and we’re gonna call this dependencies, commit and push, synchronizing, and if we return to our pipeline.</p>
<p>Now, you could obviously have this pipeline, start running on a push, we’ve got it set up manually in this case, so we’re gonna need to run that pipeline. And we’ll just choose run.</p>
<p>So we can see that succeeded. If we go to the artifacts folder, and we look here we’ve got the new version .2 that’s the next run. And we scroll over here we can see there’s the additional dependencies as part of this package.</p>
<p>So in our <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/implementing-dependency-management-with-azure-devops/dependency-management-strategy/">next session</a>, we’re going to try and consume this package from this feed and install it in another project.</p>
<h1 id="Dependency-Management-Strategy"><a href="#Dependency-Management-Strategy" class="headerlink" title="Dependency Management Strategy"></a>Dependency Management Strategy</h1><p>Dependency management strategy. As the code base of your project grows, it can become complicated to track and manage changes for different aspects of your solution. The problem grows as more people and teams become involved. A standardized versioning system can be extremely useful to address this problem.</p>
<p>Versioning is a critical part of software development to help you track changes in your code over time. It allows us to know what features and what code is being deployed in various places, to know what we expect it to do, track bugs and issues, and ensure the right groups of people get the right versions of code.</p>
<p>Semantic versioning, also known as SemVer, is a versioning system that has become common practice to use over the last several years. A package version looks like this, 4.7.6. The first number is the major version.</p>
<p>The major denotes a significant change to the package. This could include a complete redesign, breaking changes and additional testing to ensure backwards compatibility still works.</p>
<p>The minor version. These changes are often used to increment towards a major change. These often include new features or functionality.</p>
<p>And the final number, patches. This is used to indicate that there are bug fixes.</p>
<p>Sometimes a qualifier is used such as alpha, beta, or RC1, RC2, for release candidate one and release candidate two. These help denote the quality of the package. It’s used for those consuming the package in the pre-release cycles to know that they may experience unexpected results.</p>
<p>As you develop your package and create features, you can create new versions. Each version represents a fixed version of the code at a point in time. Whenever a package is published it should not be allowed to change any more. If this package did change you could risk breaking other solutions that rely on this specific version. The term for this is called an immutable package.</p>
<p>Depending on your pipeline and what type of package you are developing, there are methods to automatically increment version numbers. In the screen shot, we can see the build number format is using a function, rev:.r. This will automatically increase the revision each time the pipeline is executed.</p>
<p>Another method for addressing the complexities of <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/implementing-dependency-management-with-azure-devops/introduction/">managing dependencies</a> is componentization. Componentization is the act of separating and structuring your product or library into a set of components, discrete parts of your code that provide a set of features. There are two methods for this, source componentization and package componentization.</p>
<p>Source componentization. Components are broken up into different projects within the same source code. This can mean a component can have references to another complied component within the same source code. This is called binary composition. This can work as long as the source code is not shared outside of the project, however, it can increase build times and comes with added complexity. Once these separate components are leveraged by different teams or code is branched, it becomes difficult to track changes and ensure the consistency. This method becomes very cumbersome and difficult to manage.</p>
<p>Package componentization refers to using packages for distribution of software. Packaging code with structured methods means you can add metadata, like versioning, to your package to allow for reliable distribution needed for dependency management. When a component package is checked into a package source, other solutions can leverage the package and be developed independently of each other.</p>
<p>It is important to remember there is no one right answer. When looking at your code base and considering how to componentize and turn your code into packages there are different methods you can use to guide how and where to <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/implementing-dependency-management-with-azure-devops/demo-building-a-package/">create packages</a>.</p>
<p>You can look for duplicate code within your code base, group parts of your code with similar functionality, perhaps code with similar release cycles, leveraging existing organizational group structures, or stable code with very few changes to itself.</p>
<p>There is tooling available to help you find dependencies and duplicate code that may be good candidates for creating packages. Visual Studio Enterprise has a code clone analysis tool to search for duplicate code. There are other tools like Sonarqube, ReSharper, and Copy&#x2F;Paste Detector, depending on your needs. Many of these tools have other features to help you improve the general quality and detect dependencies.</p>
<p>This brings us to the end of this section. Now we’re going to look at a demo where we’ll <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/implementing-dependency-management-with-azure-devops/demo-consuming-our-package/">consume the package</a> that we created previously.</p>
<h1 id="Demo-Consuming-Our-Package"><a href="#Demo-Consuming-Our-Package" class="headerlink" title="Demo: Consuming Our Package"></a>Demo: Consuming Our Package</h1><p>In the last session, we created this depclass in Visual Studio, and we use the <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Azure</a> Pipeline to build that project and upload it into the artifacts.</p>
<p>This artifact here, if we look at it, happens to have the two dependencies we put in there, and it’s now published. In this session, we’re going to consume this package. We’re just gonna create a new project and connect up to this feed, and then install that <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/implementing-dependency-management-with-azure-devops/introduction/">dependency</a> within our environment.</p>
<p>Before we do that, we’re just going to take a look at the options here on the package feed. And we did talk about promoting packages into the different views. So, if we look here, we have prerelease, release and local, which is the feed we’re in at the moment. So, you can choose to promote any different version of a package into different feeds.</p>
<p>So, here we can choose the version one, and we can put that into prerelease. And we can see here that’s tagged with a different view. We’ll come back to our project here, and we gonna create a new project. And we’re gonna create a new console app. And we’re gonna choose a new folder for this, as if it was a new project, use dependency, and select Create.</p>
<p>Now, we have the dependencies over here, and what we wanna do is go to the Manage NuGet packages, and we’d like to install our current package. So, up here we’ve got package sources, and if we choose the drop-down, we can see we have nuget.org Visual Studio offline. And we select the gear. Here we can add a new package. So, if we choose Add new package, it’s looking for a name and a source.</p>
<p>We return to our view over here, and we choose to Connect to this feed. If we choose Visual Studio, it will give us some information on how to connect to these different feeds. So, in this case, we can see that prerelease feed. We wanna connect to the main feed. So, we come back here, connect to feed, Visual Studio, and there’s the feed name, and that’s the local feed link. Scroll across, copy that and paste that into the source. And we’ll give the same name for the package name. And if you select that from our source, and choose Browse, you can see the dependency class that we created, and the different versions there. We wanna use one for this instance. And if we expand this, we can see the dependency class, which was our module.</p>
<p>We come back to our menu here, the Artifacts. I’ve already deployed this once. So, I can say the downloads are counting up, the number of users that are consuming it. So, I get information here telling me that how many people are using this package. In this case, we want to now update to the latest version. So, here we can see update to latest version.</p>
<p>Now, when we update the latest version that included the extension and the Newtonsoft JSON dependencies, which the login came with these licenses. So, I’ve got to accept these licenses, and now they’re available in my dependencies. This brings the session to a conclusion. I hope you found this useful, in showing how to consume a dependency that we’ve created.</p>
<h1 id="Security-amp-Compliance"><a href="#Security-amp-Compliance" class="headerlink" title="Security &amp; Compliance"></a>Security &amp; Compliance</h1><p>Security and compliance. Trying to stay in control of <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/implementing-dependency-management-with-azure-devops/introduction/">dependencies</a> that your project is consuming could be an overwhelming task if you had to do it manually. Luckily, there are numerous tools to enable good governance and security scanning of packages and can help you find and detect vulnerabilities or exploits.</p>
<p>If you’re publishing <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/implementing-dependency-management-with-azure-devops/demo-consuming-our-package/">packages</a> to be consumed, security is important. If other companies, people or groups within your organization are going to trust software published by you it is important to ensure that only the people with the appropriate authority have the ability to publish packages. There are different roles for package feeds as shown here in this table.</p>
<p>In recent times, we have seen a number of companies in the news for a variety of reasons related to security and compliance. Often this has resulted in large fines or breach in security and customer information exposed. A company has a duty of care and responsibility to ensure their code is secure and adheres to licensing requirements.</p>
<p>Open source is becoming a much larger part of the IT world today. While it is great to be able to leverage the work done by the community or other vendors this comes with its own problems and at a cost.</p>
<p>You have to be aware of what you’re using and any bugs or vulnerabilities that come along with that package. The code may even contain malicious content which you do not want to introduce into your organization.</p>
<p>While these bugs and vulnerabilities may be known, there may be no regular cadence to code release, meaning you can’t be sure when or if it will be patched.</p>
<p>Some publicly available software comes along with certain license agreements. For instance, this package is not to be used for commercial use. In that situation you do not want to be caught out.</p>
<p>As we said earlier, trying to track and stay on top of licensing and code vulnerabilities is a challenge. There are tools you can use to integrate scanning for these things directly into your CI or CD pipelines. In addition, tools can be pointed at a repository and scan the artifacts of the repository directly. The benefit over scans done on the build pipeline is that sometimes vulnerabilities and exploits are found after code is released. If the code is only scanned during a build and an exploit was found months later, it could be missed.</p>
<p>One tool is WhiteSource Bolt. This tool will generate a report that can be found in the Pipeline section with three main areas:</p>
<ul>
<li>Security vulnerabilities which displays various levels of severity from low to medium and high.</li>
<li>License Risks and Compliance shows a list of license types that are used and makes an assessment of risk.</li>
<li>Outdated Libraries displays old versions of libraries. While these often have less immediate impact that can cause problems and introduce risks.</li>
</ul>
<p>We’re going to take a look at the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/implementing-dependency-management-with-azure-devops/demo-whitesource-bolt/">WhiteSource Bolt</a> demo. WhiteSource have a quick start template that will create a pipeline and allow us to test the product and have a look at the report it generates.</p>
<h1 id="Demo-WhiteSource-Bolt"><a href="#Demo-WhiteSource-Bolt" class="headerlink" title="Demo: WhiteSource Bolt"></a>Demo: WhiteSource Bolt</h1><p>In this session, we’re going to look at scanning packages for license compliance. If you bring up a tab in your browser, we’re gonna search for a project which will help us quick start here. So I’ve just searched for managing open source <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/implementing-dependency-management-with-azure-devops/security-compliance/">security</a> and licenses with WhiteSource. We will get to the <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Azure</a> DevOps lab here. And if you scroll down, explains how to go through the project, there’s basically a DevOps generator here, which will create the content for us.</p>
<p>So what we’ll do is sign in. And here’s our WhiteSource Bolt project. So you need to select your organization, give your project a name. We’ll call this WhiteSource and that’s fine. Create project.</p>
<p>So now that’s provisioned successfully, we can navigate to the next project. And we can see the WhiteSource project has been provisioned in our organization. We can go to pipelines, we now see the WhiteSource Bolt. If we select that we can see we’re using the free version, you will probably be asked to put in your email address and details, I’ve already entered those in. And that will allow you to use this pipeline.</p>
<p>So if we now go to the pipelines, select the pipeline, and run. Leave these things as default. See that’s now gone into phase one. And the tab now’s created WhiteSource Bolt build report. So we’ll just watch this job complete.</p>
<p>So we can see that job completed, took just under four minutes. If we go back to the job itself, we can see the WhiteSource Bolt build report. You can see here a number of tiles. This is the vulnerability score, vulnerability libraries, severity distribution, aging vulnerability libraries. And then there’s a detailed list of exactly what vulnerabilities there are and the severities and which libraries they affect. There’s also a link to help you look at those in more detail. You can go through that session yourself and look at what else WhiteSource Bolt can offer for you.</p>
<p>This concludes our session. I hope you found this useful.</p>
<h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>With the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/implementing-dependency-management-with-azure-devops/demo-whitesource-bolt/">White Bolt</a> demo complete, this brings us to the end of the course. I hope you have learned something about <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/implementing-dependency-management-with-azure-devops/introduction/">dependency management</a> and found these demos useful to understanding further what this means in practice.</p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/11/18/AZ-400-Deploying-And-Monitoring-Azure-App-Service-Web-Apps-17/" rel="prev" title="AZ-400-Deploying-And-Monitoring-Azure-App-Service-Web-Apps-17">
      <i class="fa fa-chevron-left"></i> AZ-400-Deploying-And-Monitoring-Azure-App-Service-Web-Apps-17
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/11/18/AZ-400-Introduction-to-Azure-Resource-Manager-19/" rel="next" title="AZ-400-Introduction-to-Azure-Resource-Manager-19">
      AZ-400-Introduction-to-Azure-Resource-Manager-19 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Introduction"><span class="nav-number">1.</span> <span class="nav-text">Introduction</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#What-is-Dependency-Management"><span class="nav-number">2.</span> <span class="nav-text">What is Dependency Management?</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Demo-Building-a-Package"><span class="nav-number">3.</span> <span class="nav-text">Demo: Building a Package</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dependency-Management-Strategy"><span class="nav-number">4.</span> <span class="nav-text">Dependency Management Strategy</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Demo-Consuming-Our-Package"><span class="nav-number">5.</span> <span class="nav-text">Demo: Consuming Our Package</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Security-amp-Compliance"><span class="nav-number">6.</span> <span class="nav-text">Security &amp; Compliance</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Demo-WhiteSource-Bolt"><span class="nav-number">7.</span> <span class="nav-text">Demo: WhiteSource Bolt</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Conclusion"><span class="nav-number">8.</span> <span class="nav-text">Conclusion</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Hang Zhang"
      src="/images/123456.gif">
  <p class="site-author-name" itemprop="name">Hang Zhang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">2736</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">72</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/zh375636" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zh375636" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:hang.zhang.network@gmail.com" title="E-Mail → mailto:hang.zhang.network@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hang Zhang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>



// 在最后添加
<script src="/js/code-unfold.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : '40GUvOAaitQh1SZe7ua9cvss-MdYXbMMI',
      appKey     : 'iUO2yON0j55WMdu59zx12dCG',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
