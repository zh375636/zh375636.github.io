<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Course IntroductionHi there. Welcome to Getting Started with Azure Virtual Machines. My name is Thomas Mitchell and I’ll be taking you through this course. I’m in Azure instructor at cloud Academy and">
<meta property="og:type" content="article">
<meta property="og:title" content="AZ-104-Getting-Started-with-Azure-Virtual-Machines-11">
<meta property="og:url" content="https://example.com/2022/11/18/AZ-104-Getting-Started-with-Azure-Virtual-Machines-11/index.html">
<meta property="og:site_name" content="Hang&#39;s Blog">
<meta property="og:description" content="Course IntroductionHi there. Welcome to Getting Started with Azure Virtual Machines. My name is Thomas Mitchell and I’ll be taking you through this course. I’m in Azure instructor at cloud Academy and">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-11-19T00:21:57.000Z">
<meta property="article:modified_time" content="2022-11-22T15:39:46.000Z">
<meta property="article:author" content="Hang Zhang">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://example.com/2022/11/18/AZ-104-Getting-Started-with-Azure-Virtual-Machines-11/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>AZ-104-Getting-Started-with-Azure-Virtual-Machines-11 | Hang's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hang's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/18/AZ-104-Getting-Started-with-Azure-Virtual-Machines-11/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          AZ-104-Getting-Started-with-Azure-Virtual-Machines-11
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-18 20:21:57" itemprop="dateCreated datePublished" datetime="2022-11-18T20:21:57-04:00">2022-11-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-22 11:39:46" itemprop="dateModified" datetime="2022-11-22T11:39:46-04:00">2022-11-22</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AZ-104/" itemprop="url" rel="index"><span itemprop="name">AZ-104</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/18/AZ-104-Getting-Started-with-Azure-Virtual-Machines-11/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/18/AZ-104-Getting-Started-with-Azure-Virtual-Machines-11/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Course-Introduction"><a href="#Course-Introduction" class="headerlink" title="Course Introduction"></a>Course Introduction</h1><p>Hi there. Welcome to Getting Started with Azure Virtual Machines. My name is Thomas Mitchell and I’ll be taking you through this course.</p>
<p>I’m in Azure instructor at cloud Academy and I have over 25 years of IT experience, several of those with cloud technologies. If you have any questions feel free to connect with me on LinkedIn or send an email to <a href="mailto:support@cloudacademy.com">support@cloudacademy.com</a>.</p>
<p>This course is intended for those who are interested in learning about the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/section-one-introduction/">basics of Azure virtual machines</a>. To get the most from this course you should have a basic understanding of <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Microsoft Azure</a> and of the Azure portal.</p>
<p>We’re going to start things off by looking at what virtual machines are and what resources are necessary before deploying a virtual machine. We will also cover <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/azure-vm-pricing/">Azure VM pricing</a> and the different <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/virtual-machine-options/">virtual machine options</a> that are available to you.</p>
<p>We’ll then take a look at <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/availability-sets-and-availability-zones/">availability sets and availability zones</a>. You’ll also get to see a demonstration that shows you how to <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-create-an-availability-set/">create an availability set</a>, using the Azure portal.</p>
<p>Later on, we will dive into the deployments of both a <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-deploying-and-connecting-to-a-windows-virtual-machine-via-the-azure-portal/">Windows virtual machine</a> and a <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-deploying-and-connecting-to-a-linux-virtual-machine-via-the-azure-portal/">Linux virtual machine</a>. I’ll walk you through a demonstration of how to deploy each, and how to connect to each. We’ll connect to the Windows VM using RDP and we’ll connect to the Linux VM via SSH, using putty.</p>
<p>We’ll wrap things up by covering basic management tasks. You’ll learn how to start VMs, stop VMs, redeploy VMs, and resize VMs.</p>
<p>We’d love to get your feedback on this course, so please give it a rating when you’re finished. So, if you’re ready to learn about Azure virtual machines, let’s get started.</p>
<h1 id="Section-One-Introduction"><a href="#Section-One-Introduction" class="headerlink" title="Section One Introduction"></a>Section One Introduction</h1><p>Hi there. Welcome to getting started with VMs. In this section, we’re going to cover the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/course-introduction/">basics of virtual machines</a>. We’ll talk about what virtual machines are and when you should use them. We’ll also take a look at the resources that are necessary to deploy virtual machines. Later on, in the section, you’ll learn about <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Azure</a> VM pricing and about the different virtual machine options that are available to you.</p>
<p>We have lots to get to, so join me in the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/what-is-a-virtual-machine/">next lecture</a>.</p>
<h1 id="What-is-a-Virtual-Machine"><a href="#What-is-a-Virtual-Machine" class="headerlink" title="What is a Virtual Machine?"></a>What is a Virtual Machine?</h1><p>Hi there. Before we get into the fun stuff, let’s take a look at what <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/course-introduction/">Azure virtual machines</a> are.</p>
<p>An Azure virtual machine is an on-demand, scalable computer resource that is available in <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Azure</a>. Virtual machines are generally used to host applications when the customer requires more control over the computing environment than what is offered by other <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/related-resouces/">compute resources</a>. When you leverage a virtual machine to host your application, you get the flexibility of virtualization without the need to buy or maintain any underlying physical hardware. That said, you will have to manage the typical tasks that are associated with any other server, including configuration, patch management, and software installation.</p>
<p>Because they are quick and easy to set up, Azure virtual machines are often used to deploy development and test environments. Organizations will also use Azure virtual machines to host their applications in Microsoft Azure, due to their pay-as-you-go nature, which allows you to only pay for VM’s when you need them. Azure virtual machines are also often used to extend on-prem data centers to Microsoft Azure, because VM’s that are attached to a virtual network can communicate with on-prem environments over a site to site VPN.</p>
<p>When designing an application infrastructure that includes Azure VMs, there are important considerations to think about. You should think about virtual machine naming conventions as well as where you are VM’s will be deployed. Generally speaking, virtual machines in Azure should be deployed in locations that are closest to those who will be accessing those VM’s.</p>
<p>Other important considerations include VM sizing requirements and the number of VM’s that will be needed, especially since Microsoft Azure imposes CPU and virtual machine quotas that you may or may not need to have lifted.</p>
<p>You should also think about what operating system you’re VM’s will need to run and what the configuration of your VM’s should look like once they start.</p>
<h1 id="Related-Resources"><a href="#Related-Resources" class="headerlink" title="Related Resources"></a>Related Resources</h1><p>Welcome to ‘Related Resources’. Certain resources are required in order to deploy an <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/course-introduction/">Azure virtual machine</a>. Generally speaking, if these resources do not exist prior to VM creation, they will be created when the VM is created. For example, before creating a virtual machine, a resource group must exist. This is because a new virtual machine must be contained within a resource group. </p>
<p>A virtual network is also required before deploying a virtual machine, because a virtual machine must be connected to a virtual network. This also means that a virtual NIC is also necessary.</p>
<p>If you are deploying a virtual machine that uses unmanaged disks, a storage account will be required to hold the virtual hard disks for the virtual machine. If the virtual machine you are deploying uses only managed disks, a storage account is not required.</p>
<p>A virtual machine that will be remotely accessed will require a public IP address. If the virtual machine will only be accessed internally, a public IP address is not required.</p>
<p>Although they are not required, data disks can be attached to a virtual machine to expand its storage capabilities. It’s usually a good idea to attach at least one data disc to a VM if you plan to host an application on that VM.</p>
<h1 id="Azure-VM-Pricing"><a href="#Azure-VM-Pricing" class="headerlink" title="Azure VM Pricing"></a>Azure VM Pricing</h1><p>Welcome to Azure VM pricing. There are several ways to purchase <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/course-introduction/">Azure virtual machines</a>. You can purchase them on a pay-as-you-go basis, or you can purchase reserved VM instances. You can also use spot pricing to purchase unused compute capacity.</p>
<p>Leveraging pay-as-you-go allows you to pay for your compute capacity by the second. Pay-as-you-go requires no long-term commitments nor any upfront payments. You can increase compute capacity as you need it and decrease it when you don’t. You pay only for what you use. Pay-as-you-go pricing is recommended for customers who prefer the low cost and flexibility of Azure VMs.</p>
<p>When you purchase a reserved VM instance, what you are doing is making an advance purchase of a virtual machine for either one year or for three years. This commitment is made up front and it gets you a savings of up to 72% when compared to pay-as-you-go pricing. You would typically opt for reserved VM instances when you have applications with steady-state usage or if you are looking for budget predictability. Of course, only those customers who can commit to using a VM for at least a year can take advantage of reserved VM instances.</p>
<p>Spot pricing allows an organization to purchase unused <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Azure</a> compute capacity at a discount of up to 90% when compared to pay-as-you-go prices. However, workloads that are run on spot instances must be able to tolerate interruptions. Spot pricing is good for customers who are running interruptible applications and are looking to drastically lower their compute costs. Workloads that must meet an SLA are not good candidates for Azure VM spot pricing.</p>
<h1 id="Virtual-Machine-Options"><a href="#Virtual-Machine-Options" class="headerlink" title="Virtual Machine Options"></a>Virtual Machine Options</h1><p><a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/course-introduction/">Azure virtual machines</a> come in several flavors. General-purpose virtual machines offer a balanced CPU to memory ratio. These machines are perfect for development and testing environments, small databases, and low traffic Web servers. </p>
<p>Compute-optimized virtual machines offer high CPU to memory ratios. These virtual machines are ideal for medium traffic Web servers and network appliances. They are also good for batch processing and can function as application servers.</p>
<p>Memory-optimized virtual machines offer high memory to core ratios. Organizations typically use memory-optimized virtual machines for relational database servers, large caches, and for performing in-memory analytics.</p>
<p>Storage optimized virtual machines offer high disk throughput and IO. They are perfect for big data, SQL, and NoSQL databases.</p>
<p>GPU virtual machines are specialized for heavy graphic rendering and video editing. These VMs come with single GPUs and multiple GPUs.</p>
<p>High performance compute virtual machines are the fastest and most powerful CPU virtual machines available. These virtual machines are designed to handle high performance compute workloads, including things like molecular modeling, genomic research, and financial risk modeling. Some high-performance compute virtual machines come with optional high throughput network interfaces. </p>
<p>The type of virtual machine that you deploy will be largely dependent on the workload you plan to host on the VM.</p>
<h1 id="Section-One-Conclusion"><a href="#Section-One-Conclusion" class="headerlink" title="Section One Conclusion"></a>Section One Conclusion</h1><p>Congratulations, you’ve reached the end of this section. Let’s review what you’ve learned.</p>
<p>We started off by covering the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/what-is-a-virtual-machine/">basics of virtual machines</a>. We talked about what virtual machines are and when you should use them. We also took a look at the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/related-resouces/">resources</a> that are necessary to deploy virtual machines. Later on, we covered <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/azure-vm-pricing/">Azure VM pricing</a> and the different <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/virtual-machine-options/">Azure VM options</a> that are available.</p>
<p>At this point, you should be familiar with the basics of <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/course-introduction/">Azure virtual machines</a>.</p>
<h1 id="Section-Two-Introduction"><a href="#Section-Two-Introduction" class="headerlink" title="Section Two Introduction"></a>Section Two Introduction</h1><p>Welcome to high-availability features. Over the next few lectures and demonstrations, you are going to learn about <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/availability-sets-and-availability-zones/">availability sets and availability zones</a>. You’ll learn what each offers, and how they differ. To reinforce what you learn in the upcoming lectures, we’ll walk through a demonstration where I’ll show you how to <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-create-an-availability-set/">create an availability set</a> that we will add a <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/course-introduction/">VM</a> to later on.</p>
<p>So, with that, please join me in the next lecture, where we’ll talk about availability sets and availability zones.</p>
<h1 id="Availability-Sets-and-Availability-Zones"><a href="#Availability-Sets-and-Availability-Zones" class="headerlink" title="Availability Sets and Availability Zones"></a>Availability Sets and Availability Zones</h1><p>Hi there, welcome to availability sets and availability zones. Over the next few minutes, we’re going to take a look at what they are, and what they offer.</p>
<p>An availability set provides redundancy and availability for <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/course-introduction/">virtual machines</a>. Deploying at least two virtual machines into an availability set ensures that at least one of them remains available whenever planned or unplanned maintenance occurs. When you deploy at least two virtual machines into an availability set, you qualify for a VM SLA of 99.95% uptime.</p>
<p>Even if you deploy a single virtual machine, by itself, into an availability set, you can qualify for a 99.9% VM SLA, provided you use premium SSD or ultra-disk for all operating system discs and all data disks that are attached to the VM.</p>
<p>Every VM that is deployed into an availability set is assigned an update domain and a fault domain by <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Microsoft Azure</a>.</p>
<p>An availability set contains five update domains by default, although this can be increased to 20 update domains in resource manager deployments. An update domain is a group of virtual machines and underlying physical hardware that can be rebooted at the same time. When planned maintenance is performed on the Azure platform, only one update domain is rebooted at a time. This ensures that all VMs and associated hardware are not taken down at the same time.</p>
<p>a fault domain is a group of virtual machines that shares a common power source and a common network switch. When virtual machines are added to an availability set, they are distributed across up to three different fault domains in resource manager deployments, or across two fault domains in classic deployments.</p>
<p>Deploying VMs in an availability set will not protect an application from failures associated with the operating system of the VMs or from failures that are application-specific. However, placing virtual machines in an availability set will provide protection against network outages, physical hardware failures, and power interruptions within an Azure data center.</p>
<p>Availability zones are similar in concept to availability sets. However, there is a distinct difference. While availability sets are used to protect applications from hardware failures within an Azure data center, availability zones, protect applications from complete Azure data center failures.</p>
<p>An availability zone is a unique physical location that exists within an Azure region. Every availability zone contains at least one data center within the region. Each of these data centers has its own power, its own networking, and its own cooling. To ensure resiliency, every enabled region in Azure consists of at least three separate zones that are physically separated. It is this physical separation that protects applications from data center failures.</p>
<p>I should note here that when you deploy virtual machines in an availability zone, they will be covered by a 99.99% VM uptime SLA.</p>
<p>Like availability sets, availability zones consist of fault domains and update domains. However, unlike availability sets, an availability zone consists of a single fault domain and a single update domain. Deploying three or more VMs across three availability zones within an Azure region will cause Azure to split those VMs across three different fault domains and three different update domains to ensure that the virtual machines in different zones are never updated at the same time.</p>
<p>Ultimately, availability zones are used to protect applications from entire Azure data center failures, while availability sets are used to protect applications from hardware failures within an azure datacenter.</p>
<h1 id="DEMO-Create-an-Availability-Set"><a href="#DEMO-Create-an-Availability-Set" class="headerlink" title="DEMO: Create an Availability Set"></a>DEMO: Create an Availability Set</h1><p>Hi there and welcome back. In this brief demonstration, I’m going to show you how to create an <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/availability-sets-and-availability-zones/">availability set</a>. We’re not going to put anything in the availability set quite yet, because we’ll do that later on when we create our <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/course-introduction/">virtual machines</a>.</p>
<p>So on the screen here, I’m logged in to my <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Azure</a> portal. I’m logged in as my admin account here and what I’ve done is create a resource group called VM Course. So I’m looking at my empty resource group here.</p>
<p>To create my availability set, I’m simply going to go up here, click add and then I’m going to search for availability. And then from the market place here, I can select availability set.</p>
<p>We can see here in the create blade, that Microsoft Azure is telling us that an availability set is a group of virtual machines that are split out across multiple fault domains and update domains. And this is what I was talking about earlier. It also tells us here that the availability set ensures the application that’s hosted on our VMs isn’t affected by single points of failure. And these were the failures I was talking about earlier. Things like network switches and power units.</p>
<p>Now we do have a plans tab here, if we click plans, there’s nothing new here, it’s just repeating the description. There are no special plans for availability sets, it’s just an availability set. So we’ll just go back over to overview. And then what we’ll do is create our availability set.</p>
<p>Now on the create blade we have some information we need to provide. We need to tell Azure what subscription and resource group is going to hold our new availability set. For this demonstration, we’re going to put it in the Lab Subscription and in the VM Course resource group. And then what we need to do is give our availability set a name. So we’re just going to call this, my avail set.</p>
<p>Now if we hover over the icon for region here, basically this is telling us that the region we select is where this availability set is going to be deployed to. So, since we’re going to work in Central U.S, we’ll put this in the Central U.S region. That’s the region I usually work in when I’m doing labs and demonstrations.</p>
<p>If we hover over fault domains here, we can see that a fault domain contains virtual machines that share common power and physical network switches. The default here is two. If we hover over update domains here, we can see that machines that are in an update domain will be restarted together during planned maintenance. It also tells us here, and we covered this earlier, that Azure will never restart more than one update domain at a time.</p>
<p>The default configure is to fault domains and five update domains. Now we can expand the fault domains to three and we can drag our slider for update domains to a maximum of 20. So let’s drop these back down to two and five, their defaults and then we have an option here for managed disks. If we hover over the icon here, we can see that if we want to use virtual machines in this availability set with managed disks, we need to set this option to yes. We can also see here that if we hover away, that yes if the default option.</p>
<p>So we’ll leave this in its current configuration. If we click next here for advanced, we can see that we have the option to configure a proximity placement group. The proximity placement group allows you to group as your resources physically close or within the same region, and that’s what it’s telling us up here. Now if we hover over the icon here for proximity placement group, we get a little more information.</p>
<p>We can see that a proximity placement group is a logical grouping that’s used to ensure the Azure compute resources are physically located close to one and other. Generally speaking, you would use a proximity placement group to ensure resources that require low latency remain close together. An example of this would be, let’s say a great plains deployment where you might have the great plain server that has to talk back to a SQL server.</p>
<p>So in this scenario, if you planned on deploying great plains to one VM and then SQL to another VM, you’d probably put them in a proximity placement group because you want those two servers as close together as possible to minimize that latency. We’re not doing anything with proximity placement groups here so we’ll leave this alone at its default and then of course we could do some tagging, we’re not gonna do any tagging here, so from this point, we can click review and create.</p>
<p>We can see that the validation passes and then we’ll create our availability set. The creation of an availability set takes just a few seconds and we can see it’s already been completed. If we go to our resource here, now we can see here we have nothing in the availability set right now, but we’ll take care of that later on when we add a few virtual machines.</p>
<p>So with that, let’s call it a wrap and I’ll see you over in the next lecture.</p>
<h1 id="Section-Two-Conclusion"><a href="#Section-Two-Conclusion" class="headerlink" title="Section Two Conclusion"></a>Section Two Conclusion</h1><p>Congratulations, you’ve completed high-availability features, let’s review what you’ve learned. In this section you learned about <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/availability-sets-and-availability-zones/">availability sets and availability zones</a>. You learned what each offers and how they differ from one another. To reinforce what you learned. We walked through a demonstration that showed you <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-create-an-availability-set/">how to create an availability set</a>.</p>
<p>At this point, you should have a fair understanding of what availability sets are, what availability zones are, and the differences between them. You should also know how to create an availability set that you can add <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/course-introduction/">VM</a>s to.</p>
<h1 id="Section-Three-Introduction"><a href="#Section-Three-Introduction" class="headerlink" title="Section Three Introduction"></a>Section Three Introduction</h1><p>Hi there and welcome to deploying and connecting to <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/course-introduction/">Azure virtual machines</a>. In this section, you will learn how to <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/creating-and-connecting-to-azure-vms/">create and connect to Azure VMs</a>. We’ll start off with the basics of creating and connecting to VMs and then will dive into a few demonstrations. You’ll first learn how to <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-deploying-and-connecting-to-a-windows-virtual-machine-via-the-azure-portal/">deploy and connect to a Windows virtual machine</a> using the <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Azure</a> portal, and then you’ll learn how to <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-deploying-and-connecting-to-a-linux-virtual-machine-via-the-azure-portal/">deploy and connect to a Linux virtual machine</a>. In the Linux demonstration, I’ll show you how to create SSH keys using PuttyGen, and how to use those keys with putty to connect to the Linux VM over SSH.</p>
<p>We have lots to get to. So, let’s get started.</p>
<h1 id="Creating-and-Connecting-to-Azure-VMs"><a href="#Creating-and-Connecting-to-Azure-VMs" class="headerlink" title="Creating and Connecting to Azure VMs"></a>Creating and Connecting to Azure VMs</h1><p>Hi there and welcome to creating and connecting to Azure VMs. Before we dive into the actual deployment and configuration of <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/course-introduction/">Azure virtual machines</a>, let’s cover some of the basics regarding Azure VMs.</p>
<p>Azure VMs are scalable computing resources that you can spin up on demand. You typically use Azure virtual machines to host applications when you need significant control over the computing environment. While Azure virtual machines provide the benefits of virtualization, you still need to handle common tasks that are associated with running a server, including server configuration, server patching, and software installation.</p>
<p>Because of how easy it is to deploy and configure Azure virtual machines, organizations often rely on them for their development and test environments. Virtual machines are also useful when you wish to lift and shift your on-prem applications to <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Microsoft Azure</a>. What makes them even more attractive for hosting applications in the cloud is the fact that you only pay for what you need. If you need extra virtual machines to support an increased application load, you can simply spin up new VMs. You can then decommission the VMs when they are no longer needed.</p>
<p>By connecting Azure virtual machines to a virtual network that is connected to an on-prem network through a site to site VPN, you can also use them to extend your on-prem data center.</p>
<p>If you determine that a virtual machine is the right solution for application, there are some considerations to think about before rushing off and deploying that VM. For example, you’ll need to decide where the VM should be deployed. This is important because you generally want to deploy your virtual machines in the region that is closest to the users who will be accessing that VM. Deploying a virtual machine in the eastern US region for users that reside in Europe probably makes no sense.</p>
<p>Sizing is also something you need to think about. When you deploy a VM, you’ll be asked to select a VM size. Generally speaking, the application we plan to deploy on the VM will dictate the correct sizing for the VM. Applications that are CPU intensive will typically require a CPU intensive virtual machine, while memory-intensive applications might perform better with a VM that contains more memory.</p>
<p>You will, of course, also need to decide whether you need a <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-deploying-and-connecting-to-a-windows-virtual-machine-via-the-azure-portal/">Windows VM</a> or a <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-deploying-and-connecting-to-a-linux-virtual-machine-via-the-azure-portal/">Linux VM</a>. These are all considerations that you must think about before deploying a virtual machine in Microsoft Azure.</p>
<p>So now that you have a basic understanding of virtual machines and the necessary resources to deploy them, let’s jump into the next lesson, where I’ll show you how to deploy and connect to a Windows virtual machine, using the Azure portal.</p>
<h1 id="DEMO-Deploying-and-Connecting-to-a-Windows-Virtual-Machine-via-the-Azure-Portal"><a href="#DEMO-Deploying-and-Connecting-to-a-Windows-Virtual-Machine-via-the-Azure-Portal" class="headerlink" title="DEMO: Deploying and Connecting to a Windows Virtual Machine via the Azure Portal"></a>DEMO: Deploying and Connecting to a Windows Virtual Machine via the Azure Portal</h1><p>Hi there, welcome back. In this demonstration, I’m going to walk you through the process of deploying a Windows virtual machine using the <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Azure</a> portal. When we deploy it, we’re going to deploy into the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-create-an-availability-set/">availability set</a> that we set up earlier.</p>
<p>So on the screen here, I’m logged into my Azure Portal, and I’m in my VM course resource group that I created prior to creating my availability set. I’m also logged in as my administrator. To begin the process of our VM deployment.</p>
<p>From my resource group here, I can either go out to the hamburger and create a new resource, or I can click add here along the top menu bar. From the marketplace, I can either search for what I’m looking for, or I can just select my Windows Server 2016 data center from the popular list, which is what I’m going to do here.</p>
<p>To complete the deployment of my virtual machine, I need to provide some information in several of these tabs. Some of these tabs are optional. And we’ll go through each of these and touch on what’s important. When we launch the virtual machine deployment, we’re presented with the basic tab.</p>
<p>On this basics tab, we start things off by telling Azure which subscription and resource group will host our virtual machine. You’ll have to provide this information for just about any resource you deploy in Azure. So we’re going to deploy into the lab subscription and into our VM course resource group.</p>
<p>We then need to give our VM a name, so I’ll just call it VM one. If we hover over the icon here, we can see that a virtual machine has two distinct names. It has the virtual machine name and the guest hostname. That’s the name within the operating system.</p>
<p>Now when you create a VM in the portal, the same name that you specify here, is used for both the virtual machine name and the hostname. It’s also important to note that as you can see here on this pop up, the virtual machine name cannot be changed after the VM is created. You can however, change the hostname within the OS once you’ve logged into it.</p>
<p>So we’ll call this VMO one and we’ll deploy into central US. This availability option here, if we hover over it gives us the ability to deploy our virtual machine into either an availability zone or an availability set. We talked about the differences between these two earlier.</p>
<p>What we’re going to do here for this exercise is deploy into an availability set. When we select it, we’re then prompted with another drop down, where we can choose from any previously deployed availability sets. We can see here I have my avail set, so we’ll select it. And if we didn’t have any availability sets here, we did have an option here to create a new one. We can see in our image here that we’re deploying a Windows Server 2016 data center server, although we could drop down here and select some other image to deploy from. But we’ll leave it here at 2016. And the spot instance, option here allows you to purchase unused Azure compute capacity, and it allows you to do that at a discounted rate.</p>
<p>Now, that being said, you don’t want to deploy <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/course-introduction/">Virtual Machines</a> using spot instances unless they can tolerate an outage. If we click on learn more about spot instances here, we can see right out of the gate that Microsoft allows you to use spot instance VMs to take advantage of unused capacity at a cost saving.</p>
<p>The very next sentence here is that at any point in time, when Azure needs that capacity back, Azure is going to evict your spot instance. So what this means is that spot Vms and Microsoft mentions it here. It mentions here that spot VMs are good for workloads that can handle interruptions. And what that means is a VM that batch processes jobs or something that you use in a dev test environment, would be good for spot VMs but anything that can’t tolerate an interruption would be something that you don’t want to use spot VM instances for.</p>
<p>So let’s close this out. We’ll leave this set to No. And then our sizing here, the default size is DS1V2 which is one virtual CPU and three and a half gig of RAM. We can change the size if we want to. And we can see here based on our default filters, the only VMs that are available to us in the small range, Gen two, which are general-purpose machines that support premium discs.</p>
<p>We have a small list of machines here to choose from. If we clear our filters here, we can then see we have the full gamut of VMs that we can take a look at, and possibly deploy if we want to. So let’s go back and restore our default filters because I want you to deploy a machine that has premium disk.</p>
<p>So what we’ll do for this exercise is deploy a DS2V2 virtual machine, which has two processors and seven gig of RAM. It also supports eight data disks. So we’ll go ahead and select this new size. And then we need to provide some administrator information. This administrator account info is the local admin for the virtual machine. As we scroll down here, we can see we then have to configure some inbound port rules and some inbound ports in the default configuration, which is what we’re going to do here, this VM will be accessible over the internet via RDP. And you’re going to get a little yellow box here with a warning that essentially tells you that, hey, this is probably a bad idea unless you’re just doing some basic testing.</p>
<p>This is because what this does is allow RDP to anyone from the internet. This, in turn, leaves your machine open to attacks, and the only thing protecting it is a user and password combination. It’s not something you’d want to do in a production environment. Certainly, if we select the drop down for inbound ports, we can see that we can also allow HTTP, HTTPS, and SSH. We’ll leave this alone at RDP for now. And if we wanted to allow other ports, we could then go in and configure those later on through a network security group. We’ll leave this default setting here and then down the bottom here is Where you can configure your Azure hybrid benefit.</p>
<p>This is essentially the option you have. If you already own Windows licenses with an active SA or Windows Server subscription. You can use this hybrid benefit to save on your licensing costs. We don’t have any licensing here, so we’ll select No.</p>
<p>Now if I wanted to create a default VM, I could stop here and click review and create. Azure would make some assumptions for me and spin up the VM. But what I wanna do here is walk you through some of these tabs. So instead of reviewing and creating, we’ll go ahead and click next for discs.</p>
<p>Now on this disk page, we can specify the disk options for our OS disk, and we can create data disks. If we hover over OS disk type here, we can see that this option allows us to choose between managed disk types to support our workloads. The options we have are standard HDD, standard SSD and premium SSD.</p>
<p>If we’re looking for high IOPS for our VM, for example, maybe it’s running, it’s going to run SQL, then we can select premium SSD. Standard SSD is the recommended OS disc type for most workloads. Standard HDD would be good for test environments or really low end servers.</p>
<p>Obviously, the HDD disks are backed by magnetic disk, while the SSD options are backed by solid state disks. For this demonstration, we’ll go with a standard HDD. Now when I do that, I get a prompt here that tells me that my selected VM size supports premium disks. And remember, we ensured we selected a VM size earlier that did support premium discs. And I did that too.</p>
<p>So we get this prompt. What this is telling me here is that if I select a standard HDD disk, I’m going to lose out on the connectivity SLA. What Microsoft here is telling me is that we should use a premium SSD if we have high IOPS workloads. It also tells me here that virtual machines that use premium SSD disks qualify for the 99.9% connectivity SLA.</p>
<p>I’m not worried about the SLA for this demonstration. So I’ll leave this here at standard HDD. We can also see here, this enable ultra disk compatibility is designed for delivering high throughput. We can see here that we don’t have access to ultra disk compatibility, because it’s not available for this VM size or this location. So we’re fine here.</p>
<p>We’ll leave that default it and then what we’ll do here is create a data desk and generally speaking, you’ll want to create data discs because you want to leave your OS disk, just for that the OS. So to create a data disc, we’ll go ahead and click create and attach a disk. And then in the name box, it gives it a default name, which we can change. I’ll leave this alone. And then in the source type, we can create a disk from either a snapshot of another disk, a blob that’s in a storage account or we can create an empty disk.</p>
<p>If we select the drop down here we can see the options snapshot, storage blob, or none an empty disk. We’ll create our empty disk here. And we can see the default is one terabyte premium SSD. We can also change this size, which I’m going to do and I’ll drop this down to standard HDD as well.</p>
<p>This is a lab environment so I’m not trying to go broke using SSD everywhere. When we do this, we can either select a pre-configured size, or we can customize the size. So I’ll just create a 10 gig data disk. And we can okay. We can see it’s now 10 gig and we’ll okay it.</p>
<p>When we create our data disk, we have the option of setting our host caching, we can set the caching for the disk to none read-only or read-write. Let me close my safe password here. The default here is read-only. So we’ll leave the read-only at its default here.</p>
<p>With our disk configured, let’s go ahead and click next for networking. And on this tab, we need to specify our network interface information. We need to configure our port information and security information and then some additional accelerated networking and load balancing options.</p>
<p>The virtual network if we hover over here, we can see that it operates much like a traditional network in a physical data center. VMs on the same virtual network can access each other by default, there’s nothing blocking communications. When you deploy a virtual network, which is necessary for a VM, you will also have to specify a subnet.</p>
<p>We can see since we have no virtual networks deployed already, it’s creating a new virtual network for us. If I select the drop down here, I can see I do have some other virtual networks and other resource groups that are available. But for this exercise we’ll allow it to create the new virtual network called VM course dash v-net.</p>
<p>When it creates the new virtual network. It’s also going to create a default subnet. If we hover over the icon for the subnet, we can see that a subnet is a range of IP addresses that falls within the virtual network. So whatever range is defined for the subnet needs to fall within the address space that is defined for the virtual network.</p>
<p>We’re allowing Azure to do this for us. So Azure will make sure it falls within the correct range. The public IP address allows us to access the VM from outside the local network, we have two options here, we can create a new public IP, or we can set it to none.</p>
<p>If we set it to none, we can’t remote to it from the internet, we can only access it via the internal address from the virtual network that it’s on or maybe over a VPN that’s connected to it. We don’t have any that infrastructure in place. So we’ll allow it to create the new public IP called VM or one IP. We could also create one manually here on our own. So I’ll close this.</p>
<p>The network security group here is a set of rules that we can use to allow or deny inbound and outbound traffic to and from our virtual machine. Now in this pop up here, what Microsoft is actually doing is recommending that in order to simplify management of our security rules, they’re telling us that what we should do is associate the network security group to individual subnets, rather to specific interfaces on VMs. Because if you define a NIC network security group here for this VM, and then we create a Nic network security group for the next VM that we create, and the one we created for that, and the one after that, you now have a whole bunch of VMs with separate Nic network security groups that need to be managed by creating a single network security group and assigning it to the subnet that hosts those VMs you only have one to manage.</p>
<p>For this exercise, we’ll let it create a basic Nic network security group for us. Then we have the same option here for public inbound ports. If we hover over the icon here, this setting tells us what we can allow into our VM. We can either block everything, or we can allow selected ports. We’re going to allow RDP by default. And again, we get the notice here that this is a bad idea. That’s fine, it’s a test environment. And then if we hover over accelerated networking, we can see that what we can do here is enable low latency and high throughput networking for this network interface. I’m not worried about that right now for this demonstration, so we’ll leave this set to the default on.</p>
<p>And then under load balancing, if we change the option here to yes, we can configure a load balancer for our virtual machine. Now this load balancer doesn’t get us everything we want unless we add a second or third or fourth VM to that load balancer. We’re not going to do any load balancing for this demonstration. So we’ll turn load balancing off.</p>
<p>If we click next for management here, we can see that we have some management information we can provide, we can see that Azure is telling me that I already have Azure Security Center, protecting my subscription. And then I can also down here, configure some monitoring and some identity-related settings.</p>
<p>Further down, we can configure the auto-shutdown and backup. So let’s bounce back up here. And the boot diagnostics, if we hover over it allows you to capture serial output and screenshots of the VM. For example, when it’s booting up, this helps troubleshoot any issues that the VM has at boot up time.</p>
<p>The OS guest diagnostics allow you to capture metrics for every minute of the virtual machine is running. Now, because we have boot diagnostics on, we’re also prompted for a diagnostics storage account. This is because we need a storage account to host the data that diagnostics is going to dump out.</p>
<p>You’ll notice if I turn this off, we now have new monitoring, so we have no requirement for a storage account. If we turn boot diagnostics back on, it’s asking me for a diagnostic storage account. If I select the drop down, you can see I have a couple different ones that are available, but we have none in this resource group.</p>
<p>So what I’ll do is all allow this to create a new diagnostics storage account. The default option for OS guest diagnostics is off so we’ll turn this on. Now under the identity section here, we can configure a system-assigned managed identity and Azure Active Directory options, if we hover over the icon here, we can see that a system-assigned managed identity allows Azure resources to authenticate to cloud services like Key Vault, without needing to store credentials in any kind of code.</p>
<p>Essentially, if you use a system-assigned managed identity, permissions can be granted via the role-based access control right to the resource. We’re not going to use system-assigned managed identity here, nor are we going to use the option to log in with Azure Active Directory credentials.</p>
<p>If we hover over the icon here, we can see that this option allows us to use our corporate AD credentials to log into the VM enforce MFA and to enable access via our back roles. We can see that this image doesn’t support login with Azure Active Directory anyway, so it’s off. And then these last two options are pretty self-explanatory, we can configure auto shutdown, which allows us to configure the virtual machine to automatically shut down at a particular time of day.</p>
<p>If we click on here, we can specify the time that we want our VM to shut down, along with the timezone. We also have to tell Azure if we want a notification prior to shut down and where that notification should go. We’re not going to auto shut down this VM, so we’ll turn that back off and then of course, we have the backup option here, which allows us to configure our virtual machine to be backed up using Azure backup.</p>
<p>If we click on, we could then create the recovery services vault that Azure backup needs, and then we could create a backup policy. We’re not too worried about backup right now so we’ll leave this off and then we’ll go to advanced.</p>
<p>In this advanced section here, we can configure extensions, we can configure cloud in it, we can look at Azure dedicated hosts and we can configure proximity placement groups, and then select the VM generation we want to use. Extensions are used to provide post-deployment configuration and automation.</p>
<p>If we hover over the icon here, we can see that we can add new features, or even anti virus protection to the VM through an extension. For example, if we select an extension to install, we have a bunch of different windows features here or Windows applications or agents that we can install. If we wanted to install Microsoft anti-malware, we would select anti-malware and create it.</p>
<p>Now anti-malware is built into defender now so there’s no need for anti-malware, so we’ll close this out. But this is where you would select what you want to be installed on your VM at the time of deployment. We’re not going to use any extensions here, and then clouding it is a way to customize Linux VMs when they boot for the first time, this is a Windows VM so it’s telling us that the selected image doesn’t support cloud in it, makes sense.</p>
<p>Dedicated hosts allow you to provision a physical server within Azure Data Center. And that physical server is dedicated to your specific Azure subscription. When you configure a dedicated host, what you’re doing is ensuring that only VMs from your subscription run on that host, rather than have them shared out across other customers within the Azure landscape.</p>
<p>Now we’ve got a little icon here that tells us that we can’t even use dedicated hosts because we’re using an availability set. So keep that in mind, if you deploy in an availability set you can’t use dedicated hosts. And then the proximity placement group is something we talked about earlier, it allows you to group those Azure resources physically closer together within the same region.</p>
<p>Under proximity placement group, we have a notice here that the selected availability set is not in a proximity placement group. It’s telling us here that if we want to use a proximity placement group, we either can’t use an availability set or we need to create a new availability set and this is because the existing one isn’t already in the proximity placement group. We’re not using a proximity placement group so I’m not worried about it. And then lastly we have the VM generation.</p>
<p>The generation two VMs as you can see here, support features like UEFI-based boot architecture, higher memory and larger OS disk size limits. If we hover over VM generation here, we can see here that our choice to create a generation one or generation two VM is going to depend on the OS and the boot method we want to use.</p>
<p>The key takeaway here is that generation two VMs support most 64-bit versions of Windows, and more current versions of Linux and FreeBSD. We’ll leave this set to gen one and then we’ll go into tags. And this is where you can tag your machines. Let’s say you have a department that needs five VMs, what you can do here is create a tag called department, which I’ve already created in a previous demonstration for another lab and then what we could do is specify that this VM is for the finance department.</p>
<p>Tagging is a good way to bill back within an organization. So for example, if the finance department asks for 15 virtual machines for some cockamamie application, then you can tag all 15 of those VMs with the Finance Department tag so when it comes time to pay the Azure bill, you can go back to the finance department and say hey, back up for these 15 VMs you asked for.</p>
<p>So it allows you to group your VMs for billing and for management, and for better reporting. So we’ll leave this tagged at the finance department and then we can review and create our virtual machine. At this point, we get the validation and Azure is telling us we’re good to go but it is giving us a warning here, that again, we have RDP open to the internet.</p>
<p>It’s obviously a recurring theme, because they don’t want you opening your machines to the internet over RDP, unless you’re just doing testing. So we can review our settings here and then if we’re happy with our settings, we can click Create.</p>
<p>The deployment of a virtual machine usually takes a good 15 or 20 minutes but what I’ll do here is I’ll call it a wrap because in the next lesson, we’re going to <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-deploying-and-connecting-to-a-linux-virtual-machine-via-the-azure-portal/">deploy a Linux machine</a>. So before we kick off the Linux deployments, I’ll show you the running VM that we’ve created in this demonstration.</p>
<p>So let’s call it a wrap and I’ll see you over there.</p>
<h1 id="DEMO-Deploying-and-Connecting-to-a-Linux-Virtual-machine-via-the-Azure-Portal"><a href="#DEMO-Deploying-and-Connecting-to-a-Linux-Virtual-machine-via-the-Azure-Portal" class="headerlink" title="DEMO: Deploying and Connecting to a Linux Virtual machine via the Azure Portal"></a>DEMO: Deploying and Connecting to a Linux Virtual machine via the Azure Portal</h1><p>Hello and welcome back. In the previous lesson, we walked through the process of <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-deploying-and-connecting-to-a-windows-virtual-machine-via-the-azure-portal/">creating a Windows virtual machine</a>. What we’re going to do here is deploy a Linux VM. Now, what we’re not going to do in this demonstration is walk through all of the individual settings, like we did in the Windows VM demonstration, because, frankly, I’ve already shown them to you. But what I will do is point out the differences along the way.</p>
<p>One thing we are going to focus on is the authentication method for this VM, because instead of using RDP, we’re going to use SSH. And as part of that authentication process, we’re going to set this VM up so that it can use SSH keys for authentication versus a username and password. Part of that process will require us to use PuTTYgen to create the SSH keys, and then we’ll have to use PuTTY to connect to the VM using those SSH keys.</p>
<p>So, let’s jump in here. On the screen, I’m logged into my <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Azure</a> Portal, and I’m in my VM course resource group, like I was in the previous demonstration. You can see here we have our VMO 1, that eventually spun up. And if I select it here, you can see that it stopped.</p>
<p>I don’t leave my VMs running because it gets expensive, especially when I’m not doing anything with them. So, we’ll go back out to our VM course resource group here. And what we’ll do is we’ll deploy our Linux VM, just like we did for our Windows VM. After clicking Add there, we can either search the marketplace or we can select the Ubuntu server 1804 LTS. We’ll go ahead and deploy Ubuntu server.</p>
<p>You can see immediately that the screens are almost identical to that of the Windows VM. So, we’re going to bypass a lot of these options, kind of skip over them. You’ve already learned this stuff in the last demonstration, so I don’t want to bore you by going through them all over again. So, let’s kick things off.</p>
<p>We’re going to deploy into the lab subscription and the VM course resource group. We’ll call this new VM VM02. And we will deploy into central US, along with all of my other resources. And for this demonstration, I’m going to leave the availability options set to no infrastructure redundancy required.</p>
<p>If I select the drop down, I do have the option of availability zone or set. But since I already showed you how to add this to an availability set, we’ll leave this set to no infrastructure. We can see our image is Ubuntu server, and we will not be using a spot instance.</p>
<p>For this demonstration, we’ll leave the default size alone, which is one CPU and three and a half gig of RAM, but down here in administrator account, this is where we’re going to make some changes. You can see we have two different authentication types. We can use an SSH public key or a password.</p>
<p>If I select password here, I’m prompted, just like I was for a Windows VM, to enter a username and password for the administrator account. What we’re going to do though is make things fun by using an SSH public key. By selecting SSH public key, we’re going to use a key to authenticate.</p>
<p>Now, even though we specify SSH public key, we still need to provide a username. And in this SSH public key box, we need to paste in a public key. If we hover over the icon here next to public key, we can see that we need to provide an RSA public key in either a single line format or in multi line PEM format. We can generate SSH keys by using the SSH key Gen on Linux and OSX, or via PuTTYgen on Windows.</p>
<p>Since I’m running Windows, we’re going to use PuTTYgen. So, let me drag my PuTTYgen key generator over here. And don’t worry, at the end of this demonstration, I’ll provide a link that you can use to download PuTTYgen. It’s a free tool. So, what I’m going to do here is I’m going to use my PuTTY key generator to create a public key and private key that we’ll use to authenticate to our VM later on.</p>
<p>Now, if we hover over the icon here next to public key, we can see that we need to provide an RSA key. So, to generate our RSA key here, we’re going to ensure that the type of key to generate is set to RSA, and then we’ll click Generate. What we need to do then is move our mouse around here in this box. And what that does is generates a key based on those random movements. So I have my public key here that’s been generated based on my mouse movements. This public key here is what we’re going to paste into this SSH public key box. But before I do that, I want to protect my keys with a passphrase, and then I want to save both the public and private keys so I don’t lose them.</p>
<p>So, we’ll go ahead and create a passphrase to protect my key. And we’ll confirm it. And then, what I’ll do here is I’ll save my public key. Now, what I also want to do is save the private key. So, now that I have my keys saved, what we’ll do here is we’ll select my public key and we will paste it into our public key box.</p>
<p>So, now that we have our username and public key created, what we’ll do here is leave the inbound port rules at their defaults. You can see here, we have the notice about open access just like we did with RDP, but in this case, we’re allowing SSH. Let’s go ahead and click forward to disks. And we can see the disks page is the same as it was for our Windows VM.</p>
<p>So, we’re not going to do anything here. For this demonstration, I am not going to create a data disc. We’ll leave our OS disk type at premium SSD for this demonstration, and then we’ll go ahead and click into networking. The networking page is also the same as it was for the Windows VM. We need to define our network information, our NIC and inbound information. And then, our load balancing options.</p>
<p>You can see here that the virtual network has already defaulted to the virtual network that was created when we created the Windows VM. It also defaulted to the default subnet for that virtual network. So, we’ll leave those alone. And as it did with the Windows VM, it’s going to create a new public IP for me so I can connect to it over the internet. We’ll leave the security information alone at its defaults. And this particular VM doesn’t support accelerated networking.</p>
<p>So, the accelerated networking option is set to off. Like we did with the Windows VM, we’ll leave load balancing turned off. And we’ll go to management. And we can see the management page is the same as it was for Windows. There is nothing new here. We can see for our diagnostic storage account that it’s defaulting to our VM course diag storage account that we created when we created the Windows VM as well.</p>
<p>This is because this VM course diag storage account is in the same resource group as the VM we’re creating. We’ll go ahead and leave system-assigned managed identity turned off, as well as login with Azure Active Directory credentials.</p>
<p>So, let’s go ahead and click Advanced. And we can see the advanced page is basically the same as well as it was for Windows. But I do wanna point out here, if I select an extension here under extensions, the list of extensions I get are all for Linux machines. I’m not going to get Windows extensions here. Everything I see here is going to be for Linux.</p>
<p>When I deployed the Windows VM, I got windows resources. So we’re not going to install any here. But what I do want to point out is that cloud-init, while it wasn’t germane to a Windows VM, it is germane to a Linux VM. If we click on Learn More here and open it up in a tab, we can see all the information about cloud-init. We’re not going to get into cloud-init here because it’s frankly a little more advanced than what the intent of this course is, but essentially what this cloud-init is used for is to configure a <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/course-introduction/">virtual machine</a>, or even virtual machine scale sets, as you see here, at the time of provisioning. We can see that cloud-init configurations are run on first boot once all of the VM resources have been provisioned.</p>
<p>We’re not going to use cloud-init to do any configuration, but I wanted to show you that this exists, and you should probably check it out, just to read up on it so you understand it. But as far as basic deployment of a VM, this isn’t critical to know. So, I’m going to close this out and go back in. We are not going to use host groups, nor are we going to use proximity placement groups. We talked about these earlier, so I’m not going to go over them again. And we’ll deploy a Gen 1 VM here.</p>
<p>I should point out the note at the bottom here, which is actually kind of interesting. The Gen 2 VMs do not support some Azure platform features, including Azure disk encryption, which is kind of surprising.</p>
<p>We’re deploying our VM in a Gen 1 fashion. So, we’ll go ahead and click Next through tags. And we’ll do the same thing we did for Windows. We’ll tag it with a department tag. And we’ll call it finance. If we click review and create here, we get the validation passed banner here. And again, we get another warning that we have SSH open to the internet, giving us the whole speech that we shouldn’t do that, that’s fine.</p>
<p>Once this validation completes, we can scroll down to the bottom and click Create. And what this will do is deploy our new VM. We can see that our deployment has completed. And we’ll go ahead and click Go To Resource here. From our overview page here we can see that our VM is running.</p>
<p>So, at this point let’s connect to our virtual machine over SSH using PuTTY. Let me drag my PuTTY Client over. And again, I’ll provide you with a link at the end that you can use to download PuTTY and PuTTYgen.</p>
<p>Now, from my PuTTY screen here, what I need to do is plug in the IP address of the VM I’m trying to connect to. We’re going to connect over Port 22 and use SSH. Now, before we connect to our VM we need to expand SSH down here at the bottom, and then go into the Off page. Since we’re using SSH keys to authenticate, I need to browse for the private key that matches the public key that we created for the VM. And this is the private key that I saved off earlier. So, we’ll browse, and we’ll go into keys here, and there is my private key that I saved earlier. At this point, I can click Open.</p>
<p>Now, let me drag over the security alert I got here. What PuTTY is doing is it’s telling me that the host key on the server hasn’t been cached in my local registry. This is essentially a security key saying hey, do you know what you’re connecting to and are you sure that’s what you want to do? And basically it tells me here if I trusted click Yes, if not click No. Well, I trust it because it’s the VM that I deployed. So, we’ll click Yes. And then, what I’ll do is I’ll drag over the PuTTY screen.</p>
<p>Now, I’m being prompted to login as, so I need to provide my username. When I press enter here, it’s going to authenticate with the public key, and then it’s going to prompt me for that passphrase that I configured.</p>
<p>Remember, I had to create that passphrase in PuTTYgen when I created the key. That’s what it’s asking for here. And at this point, we can see that I’m logged into VMO 2 as VM Admin. So, with that, I’ve created a VM that runs Linux. I’ve configured it to use SSH keys for authentication. I’ve created the SSH key pair. And then, I’ve used PuTTY to log in via SSH using that key pair.</p>
<p>So at this point, you should now know how to provision a basic Linux VM, how to configure authentication through SSH, and how to use PuTTY to connect over SSH.</p>
<h1 id="Section-Three-Conclusion"><a href="#Section-Three-Conclusion" class="headerlink" title="Section Three Conclusion"></a>Section Three Conclusion</h1><p>Congratulations, you’ve come to the end of deploying and connecting as your VMs. Let’s review what you’ve learned. In this section, you learned how to <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/creating-and-connecting-to-azure-vms/">create and connect to Azure virtual machines</a>. You learned how to deploy and connect to a <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-deploying-and-connecting-to-a-windows-virtual-machine-via-the-azure-portal/">Windows virtual machine</a> using the Azure portal as well as how to deploy and connect to a <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-deploying-and-connecting-to-a-linux-virtual-machine-via-the-azure-portal/">Linux VM</a>. You also learned how to create SSH keys using PuttyGen and how to use those keys to connect to the Linux VM over SSH using putty.</p>
<p>At this point, you should have a good understanding of how to deploy both Windows VMs and Linux VMs using the <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Azure</a> portal.</p>
<h1 id="Section-Four-Introduction"><a href="#Section-Four-Introduction" class="headerlink" title="Section Four Introduction"></a>Section Four Introduction</h1><p>Welcome to basic management tasks. This section of the course will be the last. Instead of lectures, we’re going to focus our efforts on some demonstrations. The demonstrations that I perform in this section will teach you how to perform some basic <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/course-introduction/">virtual machine</a> management tasks. You learn how to <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-starting-and-restarting-a-vm/">start</a> and <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-stopping-a-vm/">stop VMs</a>, using the Azure portal. And you’ll learn how to <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-redeploying-a-vm/">redeploy VMs</a> using the Azure portal. We’ll wrap things up by <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-resizing-a-vm/">resizing a virtual machine</a>, using the <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Azure</a> portal.</p>
<p>So now that you know what we’re going to cover, let’s dive in.</p>
<h1 id="DEMO-Starting-and-Restarting-a-VM"><a href="#DEMO-Starting-and-Restarting-a-VM" class="headerlink" title="DEMO: Starting and Restarting a VM"></a>DEMO: Starting and Restarting a VM</h1><p>Hello, and welcome back. In this brief demonstration, I’m going to show you how to simply start and stop a <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/course-introduction/">virtual machine</a>. And I’m going to explain a little bit about what happens during these processes.</p>
<p>On the screen here, you can see I’m logged into my <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Azure</a> portal, and I’m on the Overview page for VMO2. The virtual machine is currently in the stopped state, and it’s deallocated. Now, what this means is that this VM will not incur any compute charges. And it won’t incur compute charges because it’s in the deallocated state.</p>
<p>Now had this VM been in the stopped state, then this VM, although not running, would continue to incur compute charges. So that’s an important difference to recognize when you have a virtual machine in the stopped state. If you want to be sure that your VM isn’t incurring charges, you need to make sure that it’s in the deallocated state here.</p>
<p>Oftentimes, if you shut down the virtual machine from the OS from within the OS using the shutdown command, you’ll find that your VM sits in that stopped state, but continues to be allocated and running up charges. So anytime you stop a machine, you want to do it through the Azure portal or maybe through PowerShell.</p>
<p>So I have this machine in the stopped state. What I’m going to do here is simply start him up by clicking Start in the top menu here. We can see that the state of our VM is now shown as running. So at this point, it’s obviously incurring compute charges. In situations where I simply need to reboot my VM, instead of going through a complete stop, deallocate, start process, I can use the restart process here.</p>
<p>So let’s go ahead and restart the VM. It asks me if I’m sure. And we’ll go ahead and click Yes. Now when we restart a VM, it never gets deallocated. Now that’s important because if you have dynamically allocated public IPs, or private IPs for the VM, when a VM is deallocated, those IP addresses can change.</p>
<p>Since a restart doesn’t deallocate the VM, those IP addresses won’t change. And we can see here that the restart has already completed and our VM is running. In the next brief lesson, I’ll show you the process of <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-stopping-a-vm/">stopping a VM</a> and explain what happens when that VM is stopped.</p>
<h1 id="DEMO-Stopping-a-VM"><a href="#DEMO-Stopping-a-VM" class="headerlink" title="DEMO: Stopping a VM"></a>DEMO: Stopping a VM</h1><p>Hello and welcome back. In the previous lesson, we walked through the process of <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-starting-and-restarting-a-vm/">starting a VM</a> and restarting a VM. And I explained a little bit of the things that happen during those processes. In this demonstration here, I just want to show you what happens during a VM stop.</p>
<p>So on the screen, I’m looking at the overview page for VM02. We can see that the VM is in the running state. To stop the VM through the portal, I simply click stop at the top here and then I can see I get this warning about my public IP address. What’s happening here is Azure’s telling me that once this machine is stopped, it’s going to go into the deallocated state and when that happens, the dynamic public IP address can go away. And if I cancel out of here, I can show you why this happens.</p>
<p>Back on the overview page, if I click the IP address that’s associated with my VM, the public IP address, we can see that the assignment is dynamic. So a dynamic public IP can go away and reset to another value when a machine is stopped and deallocated. Once that machine comes back up, that IP address can change.</p>
<p>Now if I set this IP to static, what’ll happen is the VM may be rebooted. Now let’s discard this and we’ll go back out to our VM02 virtual machine. Now if we go back into the process of stopping it, again, it asks us if we want to reserve it. We’ll tell it yes and then we’ll stop it.</p>
<p>If we go ahead and click our IP here, we can see that Azure has now set it to static for us. So now, that IP address will persist throughout stops and restarts even though the VM deallocates.</p>
<p>If we bounce back to our VM02, we’ll refresh here, we can see that it’s deallocating and now that it’s in a stopped state, we can see the IP address hasn’t changed. If I start him back up, we can see the IP remains the same. So with that, you now know how to stop a VM from the Azure portal and you know a little bit about what happens with the public IP address.</p>
<p>Now one thing I do want to mention is that when a VM stops, there’s a process that happens under the covers that you don’t see. What happens when you click stop here, you’re sending that stop signal to Microsoft Azure. At that point, what <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Microsoft Azure</a> does is it sends a signal to the guest OS on that virtual machine and it gives that guest OS a chance to shut down. It’s usually around 30 seconds or so.</p>
<p>So what it’ll do is it’ll allow that VM to shut down the OS. Once that OS is shut down, then Azure will come back and actually stop the VM and deallocate it. So that’s why when you stop a VM and start it back up, you won’t typically see any kind of errors revolving around dirty shutdowns because that’s what’s happening.</p>
<p>You’re telling Azure to shut it down, Azure’s going to the OS saying hey we’re gonna power you off, go ahead and do your shutdown routine. The OS does the shutdown, Azure then continues through and then does the shutdown, does the stop, and then does the deallocation. So that’s kind of the process that occurs when you stop a <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/course-introduction/">virtual machine</a>.</p>
<h1 id="DEMO-Redeploying-a-VM"><a href="#DEMO-Redeploying-a-VM" class="headerlink" title="DEMO: Redeploying a VM"></a>DEMO: Redeploying a VM</h1><p>Hello, and welcome back. In this demonstration, I am going to show you how to redeploy a <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/course-introduction/">virtual machine</a>. Now what happens when you redeploy a virtual machine is essentially the VM is moved to a new Azure node on the underlying hardware. You would typically redeploy a virtual machine if you’re having trouble SSH into it, or RDP into it. Or if an application is having issues with connectivity.</p>
<p>Before that move happens, the VM is powered off and then powered back on that new node. I should point out that all the configuration for that VM remains the same. The only thing that changes is the underlying physical node that the VM relies on.</p>
<p>On the screen here, I’m logged in to my Azure portal and I’m at the overview page for VMO two, and this is my Linux machine. To redeploy this VM, all I need to do is scroll down to near the bottom. Under support and troubleshooting, and you’ll have this option to redeploy.</p>
<p>If we click on redeploy here, what I’m getting here is a note from Azure telling me that if I redeploy my virtual machine, it’s going to migrate it to a new host. It also warns me that the VM is going to be <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-starting-and-restarting-a-vm/">restarted</a>. And if there’s any data on the temporary drive, we’re going to lose that. It also warns me that during a redeployment, the VM is unavailable, which makes sense, you’re moving it to another host.</p>
<p>To begin the redeployment, we simply click the blue redeploy button down here at the bottom, and it begins the redeployment process. This process doesn’t take long, but it does cause an outage. So you need to keep that in mind in a production environment.</p>
<p>If we click on our bell up here, we can see that the redeployment is occurring. If we scroll over and go back into our overview, you can actually see that the redeployment is already finished. If we click on our overview here, we can see our VM is already running. There’s nothing in the overview page that will tell you anything is different. It’s just the underlying hardware that’s changed.</p>
<p>So there’s nothing you can see here. But what <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Azure</a> has done is taken that machine, moved it to new hardware and then brought it back up on that new hardware. And that’s pretty much it. And like I said, the only time you’re going to really encounter redeployment in a production environment, will be situations where you can’t remote to that VM or if the application loses connectivity.</p>
<h1 id="DEMO-Resizing-a-VM"><a href="#DEMO-Resizing-a-VM" class="headerlink" title="DEMO: Resizing a VM"></a>DEMO: Resizing a VM</h1><p>Hello and welcome to resizing a VM. In this demonstration, I’m going to show you how to perform a basic resize of a Windows virtual machine. On the screen here you can see I’m logged into my <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Azure</a> portal and I have the Overview page on screen here for my VM01 virtual machine, which is a Windows Server 2016 machine.</p>
<p>Now when you create a VM, the size that you choose isn’t permanent. You can actually scale the VM up or down by changing the size of that VM, if necessary. Now there are a few caveats when resizing VMs.</p>
<p>For starters, if the new VM size that I want to change my virtual machine to whether it’s either scaling it up or scaling it down if that size isn’t available on the underlying hardware cluster in Azure, what I would have to do is deallocate my VM first.</p>
<p>Now as long as my chosen size, the new size that I want to go to, is available on that cluster, then I don’t have to deallocate anything. The other caveat is that if my current virtual machine uses premium storage, I need to make sure that my new size that I want to resize that VM to, is an S version of the size. I need to do this so that the new VM size supports the premium storage that I’m using.</p>
<p>So for example here, the size of my VM as it’s currently composed, is Standard DS2 v2. You notice the S here in the size. If I were to try and resize this VM to Standard D2 v2 or D1 v2 or some other standard size without the S, I couldn’t do it because the new size doesn’t support any premium storage that I might be using. So keep that in mind, if you’re going to resize a virtual machine, you need to make sure that if you’re using premium storage, that the new size that you choose, can also support that premium storage.</p>
<p>Now one other caveat I want to mention about resizing a VM, is how it relates to an availability set.</p>
<p>Now if we click on Availability set here for VM01, we can see I have it in MYAVAILSET, so this virtual machine is in an availability set. If the new size that I want to resize my VM to, is not on the hardware cluster, again it’s not available, what I would have to do is take all VMs that are in that availability set, now in this case I only have the one, but if I had say two or three or four machines in an availability set, if I wanted to resize this one VM and the new size wasn’t included or wasn’t offered or available on the current cluster that’s hosting the VM, what I would need to do is not only deallocate this VM to resize it, but I’d also have to deallocate all of my other VMs and possibly resize those as well.</p>
<p>So there’re the three caveats for resizing a VM. And just to recap, if I resize a VM to a size that’s not available on the underlying cluster, I need to deallocate the VM first before resizing it. When I do resize the VM, if the current VM supports or is using, I should say, premium storage, the new size that I select also needs to support premium storage that only makes sense. </p>
<p>And then lastly, if I’m resizing a VM in an availability set that contains other VMs, if the new size is not available on the underlying cluster, not only do I need to deallocate the VM that I’m resizing, but I also need to <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-stopping-a-vm/">stop</a> and <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-resizing-a-vm/">resize</a> the other VMs in the availability set in the same fashion.</p>
<p>So let’s go ahead and perform a basic resize here for VM01. To do this it’s pretty straightforward. From the Overview page, what I can do here under Settings is select Size. If I choose Size here, we can see all of the similar VM sizes that are available to me based on my default filters here.</p>
<p>So what’s happening here, we’re looking at all of the smaller VMs that are general purpose and that support Premium disk. So from here we can see our current size is DS2 v2. What we’ll do here is resize this virtual machine to a DS3 v2, so we’ll select DS3 v2 and click Resize.</p>
<p>If we open the Overview page here, we can see that the VM is already starting back up as a DS3 v2. We can see that the resize action is still occurring, but we’re already in the process here. Go ahead and refresh here. And we can see now our VM is now running, but it’s now a Standard DS3 v2 virtual machine with 4 CPUs and 14 gig of RAM. And that’s all there really is to it.</p>
<p>In this case, my new size was available on the underlying cluster so I wasn’t prompted to deallocate the VM in any way. And remember that’s important because of the public IP address. If you have a dynamic address, you could lose that if you’re deallocating a machine. But in any event, that’s the process for resizing a <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/course-introduction/">virtual machine</a> using the Azure portal.</p>
<h1 id="Section-Four-Conclusion"><a href="#Section-Four-Conclusion" class="headerlink" title="Section Four Conclusion"></a>Section Four Conclusion</h1><p>Congratulations, you’ve come to the end of basic management tasks. Let’s review what you’ve learned.</p>
<p>In this section you watched a handful of demonstrations that taught you how to <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-starting-and-restarting-a-vm/">start</a> and <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-stopping-a-vm/">stop VMs</a>, how to <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-redeploying-a-vm/">redeploy a VM</a>, and how to <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-resizing-a-vm/">resize a VM</a>.</p>
<p>At this point you should be able to comfortably handle <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/course-introduction/">basic VM management</a> tasks through the <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Azure</a> portal.</p>
<h1 id="Course-Conclusion"><a href="#Course-Conclusion" class="headerlink" title="Course Conclusion"></a>Course Conclusion</h1><p>Congratulations. You’ve come to the end of <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/course-introduction/">Getting Started with Azure virtual Machines</a>. Let’s review what you’ve learned.</p>
<p>We started things off by covering what <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/what-is-a-virtual-machine/">virtual machines are</a> and what <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/related-resouces/">resources</a> are necessary before deploying a virtual machine. We also covered <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/azure-vm-pricing/">Azure VM pricing</a> and the different <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/virtual-machine-options/">virtual machine options</a> that are available to you.</p>
<p>We then took a look at the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/section-two-introduction/">different high-availability features</a> that are available. You learned about <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/availability-sets-and-availability-zones/">availability sets and availability zones</a>. You also got to see a demonstration of how to <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-create-an-availability-set/">create an availability set</a>, using the <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/">Azure</a> portal.</p>
<p>Later on, we dove into the deployments of both <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-deploying-and-connecting-to-a-windows-virtual-machine-via-the-azure-portal/">Windows virtual machines</a> and <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-deploying-and-connecting-to-a-linux-virtual-machine-via-the-azure-portal/">Linux virtual machines</a>. You saw a demonstration of how to deploy each, and how to connect to each. You learned how to connect to a Windows VM using RDP and how to connect to a Linux VM via SSH, using putty.</p>
<p>We wrapped things up by covering <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/section-four-introduction/">basic management tasks</a>. You learned how to <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-starting-and-restarting-a-vm/">start VMs</a>, <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-stopping-a-vm/">stop VMs</a>, <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-redeploying-a-vm/">redeploy VMs</a>, and <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/getting-started-with-azure-virtual-machines-988/demo-resizing-a-vm/">resize VMs</a>.</p>
<p>At this point, you should have a basic understanding of Azure virtual machines, how to deploy them, how to configure them, and how to connect to them. You should also know how to perform basic VM management tasks.</p>
<p>To learn more about Azure virtual machines, you can, and should, read Microsoft’s published documentation. Be sure to also watch for new <a target="_blank" rel="noopener" href="https://cloudacademy.com/library/azure/courses/">courses</a> on Cloud Academy, because we’re always publishing new ones. Be sure to give this course a rating, and if you have any questions or comments, please let us know. Thanks for watching and happy learning!</p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/11/18/AZ-104-Synchronize-Files-Across-Servers-with-Azure-File-Sync-10/" rel="prev" title="AZ-104-Synchronize-Files-Across-Servers-with-Azure-File-Sync-10">
      <i class="fa fa-chevron-left"></i> AZ-104-Synchronize-Files-Across-Servers-with-Azure-File-Sync-10
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/11/18/AZ-104-Knowledge-Check-Getting-Started-with-Azure-Virtual-Machines-12/" rel="next" title="AZ-104-Knowledge-Check-Getting-Started-with-Azure-Virtual-Machines-12">
      AZ-104-Knowledge-Check-Getting-Started-with-Azure-Virtual-Machines-12 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Course-Introduction"><span class="nav-number">1.</span> <span class="nav-text">Course Introduction</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Section-One-Introduction"><span class="nav-number">2.</span> <span class="nav-text">Section One Introduction</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#What-is-a-Virtual-Machine"><span class="nav-number">3.</span> <span class="nav-text">What is a Virtual Machine?</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Related-Resources"><span class="nav-number">4.</span> <span class="nav-text">Related Resources</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Azure-VM-Pricing"><span class="nav-number">5.</span> <span class="nav-text">Azure VM Pricing</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Virtual-Machine-Options"><span class="nav-number">6.</span> <span class="nav-text">Virtual Machine Options</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Section-One-Conclusion"><span class="nav-number">7.</span> <span class="nav-text">Section One Conclusion</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Section-Two-Introduction"><span class="nav-number">8.</span> <span class="nav-text">Section Two Introduction</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Availability-Sets-and-Availability-Zones"><span class="nav-number">9.</span> <span class="nav-text">Availability Sets and Availability Zones</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#DEMO-Create-an-Availability-Set"><span class="nav-number">10.</span> <span class="nav-text">DEMO: Create an Availability Set</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Section-Two-Conclusion"><span class="nav-number">11.</span> <span class="nav-text">Section Two Conclusion</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Section-Three-Introduction"><span class="nav-number">12.</span> <span class="nav-text">Section Three Introduction</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Creating-and-Connecting-to-Azure-VMs"><span class="nav-number">13.</span> <span class="nav-text">Creating and Connecting to Azure VMs</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#DEMO-Deploying-and-Connecting-to-a-Windows-Virtual-Machine-via-the-Azure-Portal"><span class="nav-number">14.</span> <span class="nav-text">DEMO: Deploying and Connecting to a Windows Virtual Machine via the Azure Portal</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#DEMO-Deploying-and-Connecting-to-a-Linux-Virtual-machine-via-the-Azure-Portal"><span class="nav-number">15.</span> <span class="nav-text">DEMO: Deploying and Connecting to a Linux Virtual machine via the Azure Portal</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Section-Three-Conclusion"><span class="nav-number">16.</span> <span class="nav-text">Section Three Conclusion</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Section-Four-Introduction"><span class="nav-number">17.</span> <span class="nav-text">Section Four Introduction</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#DEMO-Starting-and-Restarting-a-VM"><span class="nav-number">18.</span> <span class="nav-text">DEMO: Starting and Restarting a VM</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#DEMO-Stopping-a-VM"><span class="nav-number">19.</span> <span class="nav-text">DEMO: Stopping a VM</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#DEMO-Redeploying-a-VM"><span class="nav-number">20.</span> <span class="nav-text">DEMO: Redeploying a VM</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#DEMO-Resizing-a-VM"><span class="nav-number">21.</span> <span class="nav-text">DEMO: Resizing a VM</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Section-Four-Conclusion"><span class="nav-number">22.</span> <span class="nav-text">Section Four Conclusion</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Course-Conclusion"><span class="nav-number">23.</span> <span class="nav-text">Course Conclusion</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Hang Zhang"
      src="/images/123456.gif">
  <p class="site-author-name" itemprop="name">Hang Zhang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">2736</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">72</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/zh375636" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zh375636" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:hang.zhang.network@gmail.com" title="E-Mail → mailto:hang.zhang.network@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hang Zhang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>



// 在最后添加
<script src="/js/code-unfold.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : '40GUvOAaitQh1SZe7ua9cvss-MdYXbMMI',
      appKey     : 'iUO2yON0j55WMdu59zx12dCG',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
