<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="IntroductionHi and welcome to the 9th course in Cloud Academy’s Linux Certification Preparations series. This course will cover Linux systems services, part of the requirements for the LPIC 102 exam">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux-LPIC-102-LPIC-1-102-Linux-certification---Linux-System-Services-4-of-6-7">
<meta property="og:url" content="https://example.com/2022/11/19/Linux-LPIC-102-LPIC-1-102-Linux-certification-Linux-System-Services-4-of-6-7/index.html">
<meta property="og:site_name" content="Hang&#39;s Blog">
<meta property="og:description" content="IntroductionHi and welcome to the 9th course in Cloud Academy’s Linux Certification Preparations series. This course will cover Linux systems services, part of the requirements for the LPIC 102 exam">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-11-19T05:11:50.000Z">
<meta property="article:modified_time" content="2022-11-21T01:20:34.000Z">
<meta property="article:author" content="Hang Zhang">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://example.com/2022/11/19/Linux-LPIC-102-LPIC-1-102-Linux-certification-Linux-System-Services-4-of-6-7/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Linux-LPIC-102-LPIC-1-102-Linux-certification---Linux-System-Services-4-of-6-7 | Hang's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hang's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/19/Linux-LPIC-102-LPIC-1-102-Linux-certification-Linux-System-Services-4-of-6-7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Linux-LPIC-102-LPIC-1-102-Linux-certification---Linux-System-Services-4-of-6-7
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-19 01:11:50" itemprop="dateCreated datePublished" datetime="2022-11-19T01:11:50-04:00">2022-11-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-20 21:20:34" itemprop="dateModified" datetime="2022-11-20T21:20:34-04:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LPIC-1-102/" itemprop="url" rel="index"><span itemprop="name">LPIC-1-102</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/19/Linux-LPIC-102-LPIC-1-102-Linux-certification-Linux-System-Services-4-of-6-7/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/19/Linux-LPIC-102-LPIC-1-102-Linux-certification-Linux-System-Services-4-of-6-7/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <span id="more"></span>

<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>Hi and welcome to the 9th course in Cloud Academy’s Linux Certification Preparations series. This course will cover Linux systems services, part of the requirements for the LPIC 102 exam. We’ll learn some of the basics of managing email accounts and directing email messages to individual and alias accounts. Although we won’t actually go into the process of configuring an email server, that’s not required for the LPIC 1 exams. We’re going to learn how to maintain an accurate system time for the computers you manage and how to sync your systems to Internet time through NTP, the network time protocol. We’ll explore the Linux logging system. You can, and in fact, must closely monitor your system performance and security through your log files, but you’ll also need to maintain the logs themselves, especially to make sure that log files don’t become unmanageably large.</p>
<p>And finally we’ll learn how to use the common Unix printing system, CUPS, to manage your printers and print jobs.</p>
<h1 id="System-time"><a href="#System-time" class="headerlink" title="System time"></a>System time</h1><p>Back in the localisation lecture from our Linux administration course, we discussed maintaining accurate timezone settings on Linux systems through the usr&#x2F;share&#x2F;zoneinfo, etc&#x2F;timezone, and etc&#x2F;localtime files. Here we’re going to discuss a critically important task of maintaining an accurate system time. While it’s always nice to know that the time displayed in the clock at the corner of your desktop is accurate, this will be especially important when you’re managing applications that require resource coordination across a network or over the Internet. If even one node is set to an incorrect time, you can expect to experience some really weird behavior.</p>
<h3 id="Controlling-Linux-system-clocks-using-hwclock"><a href="#Controlling-Linux-system-clocks-using-hwclock" class="headerlink" title="Controlling Linux system clocks using hwclock"></a>Controlling Linux system clocks using hwclock</h3><p>First of all, however, we’ll need to distinguish between two separate and often contradicting computer time values, the hardware clock and system time. The hardware clock, also known as the real-time clock or RTC or the bias clock or the CMOS clock, is a time and date setting maintained in your motherboard’s firmware and is often powered even when a system is off by a CMOS battery. While such a steady value is a necessary element of the boot process and basic hardware operation, it’s not particularly reliable.</p>
<p>It can quickly fall out of sync with more accurate network time sources. For that reason, your operating system will usually make use of system time, which ideally is continually updated from a network time protocol or NTP server. You can display your current hardware time with hwclock -r. hwclock –hctosys will take the current hardware time value and apply it to the system clock. Of course, you can also do the opposite. That is, apply the system value to the hardware time using hwclock –systohc. This can be useful to update a hardware clock value that’s fallen far out of sync with your network adjusted system time.</p>
<p>Remembering which of these two command arguments will set which value can be a bit confusing, but I’m afraid that the LPIC exam will simply expect you to know it. You can also set your hardware clock with either coordinated universal time, UTC, which is more or less simply changeable with Greenwich Mean Time, or local system time. hwclock –UTC or –localtime will control that setting, although either way, hwclock -r will continue to display a local time.</p>
<p>Finally, you can set the hardware time and date using hwclock –set –date following this format.</p>
<p>Let’s review what we’ve seen so far. Computers keep time in two ways, through the hardware clock and through system time. You can control the hardware clock with hwclock. -r displays the current time. –hctosys will apply the hardware time to the system time. –systohc will apply the system time to the hardware clock. –UTC tells a hardware clock to use coordinated universal time, while –localtime applies a local time. hwclock –set lets you manually set the time.</p>
<h3 id="Using-NTP-to-manage-your-Linux-system-time"><a href="#Using-NTP-to-manage-your-Linux-system-time" class="headerlink" title="Using NTP to manage your Linux system time"></a>Using NTP to manage your Linux system time</h3><p>When accurate timekeeping is important, you want to make use of an NTP server through the ntpd daemon. If you don’t need to install full NTP connectivity but want to manually update your time, you could use ntpdate from the command line. This can especially helpful for mobile devices that might not have regular access to real-time servers. ntpdate is also useful as a preparation for full NTP configuration to make sure that your current time isn’t too far off from the official value. In some cases, if you haven’t got an NTP server configured and assuming that you’re running a Debian-based Linux distribution, you may want to use ntpdate -debian, which will by default poll the ntp.ubuntu.com server. Since ntpd generally won’t be installed by default, you can run your distribution’s package manager to bring it on board. Let’s make sure that the service is actually running. ntpq will print out a list of peers currently available to NTP.</p>
<p>Now let’s take a look at &#x2F;etc&#x2F;ntp.com to make sure everything is configured the way we like. The entries that interest us most right now are the server lines. Each of these defines a single upstream NTP server, which our system will query for the current time. You’ll notice that each of the servers in our configuration is part of the pool.ntp.org system. Now will be a good time to explain what that’s all about. NTP servers are arranged in layers, each of which is called a stratum. An NTP server that gets its data directly from a time producer like the US Naval Observatory in Bethesda, Maryland, is considered stratum 1. A server that gets its data from a stratum 1 server is known as stratum 2 and so on until stratum 15. To make sure that too many NTP clients can’t overwhelm a single stratum 1 server, it’s highly recommended that you tell your client to make its request from a pool of servers. The pool will automatically distribute requests among its servers by random distribution.</p>
<p>By default, Ubuntu installations will point to ubuntu.pool.ntp.org servers, which you could replace with the address of local network NTP servers or other offsite servers that are nevertheless accessible to you with lower latency. Our configuration also provides a non-pool fallback server, in case pool servers are inaccessible. Many admins will also add a local hosting address for this setting. The drift file that might sometimes be found in &#x2F;var&#x2F;lib&#x2F;ntp is interesting as it contains a number that’s the result of tracking the milliseconds that your local time might have drifted from your time server over the past while. This can be useful for software with built-in algorithms compensating for potential discrepancies.</p>
<h3 id="NTP-and-slewing-stepping-and-insane-time"><a href="#NTP-and-slewing-stepping-and-insane-time" class="headerlink" title="NTP and slewing, stepping, and insane time"></a>NTP and slewing, stepping, and insane time</h3><p>There are three more terms you’ll really want to understand, slewing, stepping, and insane time. When NTP updates your clock, it’ll first check to see how far up it’s drifted from the true time. If it’s more than 128 milleseconds off, NTP will correct the time in relatively large steps called stepping. If the difference is smaller than 128 milliseconds, then NTP will make its adjustments in smaller gradients using the process called slewing. If your system time is more than 1024 seconds off, then it’s considered to be using insane time, and NTP will ignore this as source of accurate time.</p>
<p>Let’s review. You can update your system time using ntpdate or ntpdate-debian. ntpq will display available peers. The NTP settings are kept in the &#x2F;etc&#x2F;ntp.com file. Ideally we connect to a server that’s close to a stratum zero server with as low a latency connection to us as possible and part of a traffic distributing pool. &#x2F;var&#x2F;lib&#x2F;ntp can contain a numeric record of a historic drift between our system and a time source. Slewing is the process of gradually adjusting the time that’s not too far from the true time. Stepping is the process of more quickly making that adjustment using larger steps, and insane time is a system time that’s more than 1024 seconds off.</p>
<h1 id="Logging"><a href="#Logging" class="headerlink" title="Logging"></a>Logging</h1><p>Whether you are trying to figure out what keeps making your system crash, whether hackers have found their way inside, or why your PHP code isn’t working, logs can contain the answers you’re looking for. In this video, we’ll learn about some of the more common Linux system logs and how to configure them so that their precious data will be available when you need it. Most Linux logs will live in or below the &#x2F;var&#x2F;log directory.</p>
<h3 id="Configuring-and-managing-Linux-logs"><a href="#Configuring-and-managing-Linux-logs" class="headerlink" title="Configuring and managing Linux logs"></a>Configuring and managing Linux logs</h3><p>As you can see, there are log files specific to many system functions like boot, and on this Fedora system, Yum. How log messages are handled is on systems using systemd controlled by the journald service. You can query the contents of the systemd journal using journalctl. If you want to go right to the end of the file, which can be very long, add -e. You can also use journalctl to manage the journal files.</p>
<p>Journalctl –diskusage will tell you how much space the files are currently using. You can edit journal behavior through the &#x2F;etc&#x2F;systemd&#x2F;journald.conf file. System max use and system max file size will, for instance, control how large your system files will be allowed to grow. The logger tool is something that on first glance may seem a bit a silly. Using logger on the command line, you can manually send the text screen to a log file you specified, but since you are the one writing it, why would you need a record? Like anything else on Linux, whatever you do from the command line can also be done as part of a script. So imagine that you’ve written a script that executes some process. Since you may not be around when a script is ran to find out whether, say, the process exceeded or not, inserting a logger line into the script can create a record that will include not only your text string, but the process ID, user, and a timestamp.</p>
<p>Using -p , you can specify a facility name. Meaning, the name of the target log file, and level name, like alert, crit, and warn. This command will send this message to the printer log as an alert.</p>
<p>These are the valid facility names along with their numeric equivalents. And these are the valid level names.</p>
<p>Since just about everything that happens on a Linux system will generate log entries, you can easily imagine how the logs themselves can grow. I’ve seen log files approaching terabytes in size. You don’t want to lose any important data, but you also don’t want your drives to be choked by older logs. The accepted solution is to rotate your log files at set times, with older files being permanently deleted or moved into archive storage. Log rotation is controlled by a file in the etc directory called, appropriately enough, logrotate.conf. In this case, most logs will be rotated every week with expired files being kept for three weeks after that. As we can see, once a log is rotated out, meaning it is renamed with a suffix based on the current date, a new entry file will be created to receive new messages in its place. Files can also be compressed to save space.</p>
<p>The truth is that not all logs are controlled from logrotate.conf. Note the reference to the &#x2F;etc&#x2F;logrotate.d directory. That’s where the RPM package manager drops configuration files for the logs associated with its packages. The include statement pointing to this directory in logrotate.conf will ensure that these config files are read.</p>
<h3 id="Log-files-on-systemd"><a href="#Log-files-on-systemd" class="headerlink" title="Log files on systemd"></a>Log files on systemd</h3><p>Distributions not yet using systemd will often use syslog or rsyslog to control logging. Older Ubuntu systems, for instance, will have a file named etc&#x2F;rsys slash log.conf to control many logging parameters. That file also points to configuration files in the etc&#x2F;rsyslog.d directory that control log behavior. Syslog -ng is another logging control system that adds functionality like content-based filtering and TCP network transfers. On some systems, klogd will control kernel message prioritizing. The LPIC expects you to be aware of these alternate non-systemd systems.</p>
<p>Let’s review. Most log files are kept in the &#x2F;var&#x2F;log directory. Journalctl can be used to read entries in the systemd journal. Journal behavior can be controlled from the &#x2F;etc&#x2F;systemd&#x2F;journald.conf file. Logger will send a text message to a log file. Logger -p can specify facility and level names. You can control log rotation through &#x2F;etc&#x2F;logrotate.conf. Finally, you should be aware of alternate logging systems like syslog, rsyslog, syslog -ng, and klogd.</p>
<h3 id="Managing-logs-on-AWS-with-CloudWatch-and-CloudTrail"><a href="#Managing-logs-on-AWS-with-CloudWatch-and-CloudTrail" class="headerlink" title="Managing logs on AWS with CloudWatch and CloudTrail"></a>Managing logs on AWS with CloudWatch and CloudTrail</h3><p>Now we’ll talk just a bit about logging on AWS. The Amazon CloudWatch service allows you to monitor system activity from multiple resources. You can configure CloudWatch to track and generate alarms based on your usage metrics from your AWS account resources, or even monitor and manage the traditional log data produced by Linux instances running on EC2. Amazon’s CloudTrail tracks and records all API calls received by your AWS resources. CloudTrail logs are saved to Amazon’s Object Storage Service, S3. As these logs grow in size, you can rotate and archive them in much the same way we do with logrotate, using S3 bucket versioning accompanied by life cycle rules that archive older logs to Glacier, Amazon’s cheaper long-term storage service.</p>
<h1 id="Mail"><a href="#Mail" class="headerlink" title="Mail"></a>Mail</h1><p>Despite many earnest predictions over the years, email use doesn’t seem to be in any serious danger of disappearing any time soon. And despite the fact that just about everyone uses sophisticated web-based email servers like Gmail, there’s still plenty of demand for locally configured email services. That’s why the LPIC still requires that you’re at least generally familiar with the four main MTA packages: qmail, Postfix, Sendmail and Exim. Even though qmail is not currently maintained and Exim by reputation isn’t as secure as the others, they’re among those found in active deployments. MTA, by the way, stands for mail transport agent.</p>
<h3 id="Managing-email-on-Linux"><a href="#Managing-email-on-Linux" class="headerlink" title="Managing email on Linux"></a>Managing email on Linux</h3><p>The fact is that while there are many MTA programs available for Linux, for the most part, they’re all functionally quite similar. In fact, I believe that they all share a common mail framework, Mailutils. Don’t think that there aren’t significant differences in policy and behavior between these packages, but they’re certainly not important for the LPIC exam. As it happens, we’re going to work with Postfix, Ubuntu’s default MTA. We’ll assume that both the Postfix and mailutils packages have been installed. To send mail from the command line, you use, “sendmail -t” and the name of the recipient. Since in my case Postfix is configured to only work locally, I’ll send it to a local user, Tony. You could include a subject line using “Subject:”, and then as many lines of text as you need. To save and send your email, type a period on an empty line.</p>
<p>Let’s switch users and become Tony to see if the mail has arrived. By the way, all mail messages are kept in files in the &#x2F;var&#x2F;mail directory. You can also use aliases to address emails. A mail alias is really just a name that can be invoked to send a single email to multiple recipients. You can create a new alias by editing the &#x2F;etc&#x2F;aliases file. By default, you’ll generally already have one existing alias, Postmaster, that is mapped to the root user. Let’s add a new alias, Developers, which would include all the developers working for our company. To initialize the mail database, we’ll need to run “newaliases.” Now let’s send an email to the whole group.</p>
<p>To make sure it worked, we’ll switch users to a different user and check his mail. Well, that worked. By the way, on a normal system you obviously shouldn’t be doing quite so much poking around in user accounts. These are all fictional accounts on this LXE virtual machine I created especially for this video. If there is a guy named Frank on my system, I certainly haven’t met him.</p>
<p>Besides alias groups, you can also create automatic email forwarders using a “.forward” file in your home directory.</p>
<p>Let’s create one for Frank. Notice the dot before the file name. This adds the file attribute, “hidden.” We’ll now add an email recipient to the file, say, Ubuntu, and log out of Frank’s account and into Tony’s. There we’ll fire off a quick email to Frank, log back into Frank’s account to see if there was any mail. Nothing. Now we’ll exit a few shells until we get back to Ubuntu and check for new mail there. And he’s got new mail, just as we expected.</p>
<p>You should also be aware of the mailq command, which will list all pending messages still waiting to be sent. Our queue is currently empty.</p>
<p>Let’s review. You can send email using sendmail adding “-T” and the recipient address. Emails are stored in files in &#x2F;var&#x2F;mail. You can add an alias group to the &#x2F;etc&#x2F;aliases file and initialize the mail DB using “newaliases.” You can create a mail forwarder for an individual user by creating a “.forward” file in his home directory. And mailq will display all emails currently pending.</p>
<h3 id="SES-Amazon’s-SMTP-email-service"><a href="#SES-Amazon’s-SMTP-email-service" class="headerlink" title="SES: Amazon’s SMTP email service"></a>SES: Amazon’s SMTP email service</h3><p>Like just about everything else, Amazon also does email. AWS has an industrial strength SMTP server for large volumes of outgoing mail called SES, simple email service. SES can handle key tasks like message authentication and programming APIs.</p>
<h1 id="Printers"><a href="#Printers" class="headerlink" title="Printers"></a>Printers</h1><h3 id="Using-CUPS-to-manage-Linux-printers"><a href="#Using-CUPS-to-manage-Linux-printers" class="headerlink" title="Using CUPS to manage Linux printers"></a>Using CUPS to manage Linux printers</h3><p>Along with printers themselves, the way Linux manages printing has evolved over the last 20 years. We’ll look at the command line printing tools a bit later, but these days your primary connection to printer drivers and configuration comes through CUPS, the Common Unix Printing System, and your primary CUPS interface works through a browser via the address local host:631. Oddly enough, the CUPS package is managed by Apple. Yes, that Apple. Most Linux distributions have graphic software tools to manage printing, but they’re really just front ends to the CUPS server. The main CUPS configuration file, &#x2F;etc&#x2F;cups&#x2F;cupsd.conf can be viewed and edited in the command line, but it is also accessible through the Edit Configuration File link in the admin tab.</p>
<p>The admin tab also provides links to help you add and manage printers, and manage print jobs. Clicking on add class allows you to create and manage printer classes. A printer class is a group of printers that are all equally accessible. When a job is directed to the group, it’ll be sent to the first available printer.</p>
<h3 id="Managing-printers-from-the-Linux-command-line"><a href="#Managing-printers-from-the-Linux-command-line" class="headerlink" title="Managing printers from the Linux command line"></a>Managing printers from the Linux command line</h3><p>Should the need arise, you can actually print from the terminal either existing files or command line text itself. The good news is that the LP program draws its settings from your CUPS configuration and knows all about your printer and its drivers. Once again, if you’re not sure why you’d ever want to print from the command line, just remember that Bash scripts can come will all kinds of strange use cases. But even better, it can be a really fun way to scare the daylights out of some guy dozing off at his workstation a few offices down.</p>
<p>At any rate, you can print using LP or LPR followed by a filename. If you’ve got more than one printer associated with your computer, you can specify it by adding a -d switch followed by the name of the printer driver. This is a driver from my Brother laser printer. You can also print directly from the command line by leaving the filename out altogether. You enter the text you’d like printed on subsequent lines and complete the job with control+d.</p>
<p>To view the jobs pending in your print queue, use LPQ or lpstat. The jobs we just created are still in the queue because my printer happens to be turned off right now. If you’d like to delete a print job, note its job number from LPQ and use LPRM. To remove all jobs in the queue, type the minus sign in place of a job number. Running LPQ again shows us that the queue is now empty. You can use LPQ and LPRM to work with all system print jobs even those launched from GUI applications.</p>
<p>As is true of pretty much all Linux processes, your first front line tool for troubleshooting print jobs or printer drivers that aren’t working the way they should is logs. While the most current printer log files are available from the CUPS browser console, if you need to see older, backup versions, you’ll need to go to the &#x2F;var&#x2F;log&#x2F;cups directory. The two log types we’re interested in are access log and error log. Incidentally you can quickly view the older compressed .gc backup files without having to actually decompress them by using zcat or zless. If you want your printer to reject all new jobs sent to it, you can use CUPS reject.</p>
<p>If you want to open the printer up to new jobs, use CUPS accept. Let’s review. The Common Unix Printing System accessible through local host:631 is a browser interface for managing printers, printer classes, and jobs. You can also control your printer from the command line. LP and a filename will print a file.</p>
<p>LPQ will display the print queue. LPRM will delete a print job. Print-related logs are kept in the &#x2F;var&#x2F;log&#x2F;cups directory. CUPS reject will reject new jobs, and CUPS accept will reopen the printer to new jobs.</p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/11/19/Linux-LPIC-102-Creating-an-EBS-Backed-Linux-AMI-6/" rel="prev" title="Linux-LPIC-102-Creating-an-EBS-Backed-Linux-AMI-6">
      <i class="fa fa-chevron-left"></i> Linux-LPIC-102-Creating-an-EBS-Backed-Linux-AMI-6
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/11/19/Linux-LPIC-102-LPIC-1-102-Linux-certification-Linux-Networking-5-of-6-8/" rel="next" title="Linux-LPIC-102-LPIC-1-102-Linux-certification---Linux-Networking-5-of-6-8">
      Linux-LPIC-102-LPIC-1-102-Linux-certification---Linux-Networking-5-of-6-8 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Introduction"><span class="nav-number">1.</span> <span class="nav-text">Introduction</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#System-time"><span class="nav-number">2.</span> <span class="nav-text">System time</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Controlling-Linux-system-clocks-using-hwclock"><span class="nav-number">2.0.1.</span> <span class="nav-text">Controlling Linux system clocks using hwclock</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Using-NTP-to-manage-your-Linux-system-time"><span class="nav-number">2.0.2.</span> <span class="nav-text">Using NTP to manage your Linux system time</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NTP-and-slewing-stepping-and-insane-time"><span class="nav-number">2.0.3.</span> <span class="nav-text">NTP and slewing, stepping, and insane time</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Logging"><span class="nav-number">3.</span> <span class="nav-text">Logging</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Configuring-and-managing-Linux-logs"><span class="nav-number">3.0.1.</span> <span class="nav-text">Configuring and managing Linux logs</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Log-files-on-systemd"><span class="nav-number">3.0.2.</span> <span class="nav-text">Log files on systemd</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Managing-logs-on-AWS-with-CloudWatch-and-CloudTrail"><span class="nav-number">3.0.3.</span> <span class="nav-text">Managing logs on AWS with CloudWatch and CloudTrail</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Mail"><span class="nav-number">4.</span> <span class="nav-text">Mail</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Managing-email-on-Linux"><span class="nav-number">4.0.1.</span> <span class="nav-text">Managing email on Linux</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SES-Amazon%E2%80%99s-SMTP-email-service"><span class="nav-number">4.0.2.</span> <span class="nav-text">SES: Amazon’s SMTP email service</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Printers"><span class="nav-number">5.</span> <span class="nav-text">Printers</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Using-CUPS-to-manage-Linux-printers"><span class="nav-number">5.0.1.</span> <span class="nav-text">Using CUPS to manage Linux printers</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Managing-printers-from-the-Linux-command-line"><span class="nav-number">5.0.2.</span> <span class="nav-text">Managing printers from the Linux command line</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Hang Zhang"
      src="/images/123456.gif">
  <p class="site-author-name" itemprop="name">Hang Zhang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">2653</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/zh375636" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zh375636" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:hang.zhang.network@gmail.com" title="E-Mail → mailto:hang.zhang.network@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hang Zhang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>



// 在最后添加
<script src="/js/code-unfold.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : '40GUvOAaitQh1SZe7ua9cvss-MdYXbMMI',
      appKey     : 'iUO2yON0j55WMdu59zx12dCG',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
