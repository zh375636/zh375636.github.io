<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="IntroductionIn this rather brief course, we’re going to explore some basic but critical Linux administration tasks. We’ll talk about organizing and protecting system resources through managing user">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux-LPIC-102-LPIC-1-102-Linux-certification---Linux-Administration-3-of-6-4">
<meta property="og:url" content="https://example.com/2022/11/19/Linux-LPIC-102-LPIC-1-102-Linux-certification-Linux-Administration-3-of-6-4/index.html">
<meta property="og:site_name" content="Hang&#39;s Blog">
<meta property="og:description" content="IntroductionIn this rather brief course, we’re going to explore some basic but critical Linux administration tasks. We’ll talk about organizing and protecting system resources through managing user">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-11-19T05:11:46.000Z">
<meta property="article:modified_time" content="2022-11-21T01:18:12.000Z">
<meta property="article:author" content="Hang Zhang">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://example.com/2022/11/19/Linux-LPIC-102-LPIC-1-102-Linux-certification-Linux-Administration-3-of-6-4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Linux-LPIC-102-LPIC-1-102-Linux-certification---Linux-Administration-3-of-6-4 | Hang's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Hang's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hang's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/19/Linux-LPIC-102-LPIC-1-102-Linux-certification-Linux-Administration-3-of-6-4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Linux-LPIC-102-LPIC-1-102-Linux-certification---Linux-Administration-3-of-6-4
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-19 01:11:46" itemprop="dateCreated datePublished" datetime="2022-11-19T01:11:46-04:00">2022-11-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-20 21:18:12" itemprop="dateModified" datetime="2022-11-20T21:18:12-04:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LPIC-1-102/" itemprop="url" rel="index"><span itemprop="name">LPIC-1-102</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/19/Linux-LPIC-102-LPIC-1-102-Linux-certification-Linux-Administration-3-of-6-4/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/19/Linux-LPIC-102-LPIC-1-102-Linux-certification-Linux-Administration-3-of-6-4/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <span id="more"></span>

<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>In this rather brief course, we’re going to explore some basic but critical Linux administration tasks. We’ll talk about organizing and protecting system resources through <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/lpic1-linux-administration/users-and-groups/">managing user accounts and groups</a>.</p>
<p>We’ll become familiar with the system files that track user and group configurations as part of that process.</p>
<p>We’ll also learn how to <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/lpic1-linux-administration/job-scheduling/">schedule</a> regular or one-time tasks so they can be reliably executed even if you’re not around to set them off. And we’ll see how the computers you administrate can be optimized for your particular geographic region by setting the proper time zone and system <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/lpic1-linux-administration/localisation/">localization</a> variables. Let’s get started.</p>
<h1 id="Users-and-Groups"><a href="#Users-and-Groups" class="headerlink" title="Users and Groups"></a>Users and Groups</h1><h3 id="Managing-Linux-user-accounts"><a href="#Managing-Linux-user-accounts" class="headerlink" title="Managing Linux user accounts"></a>Managing Linux user accounts</h3><p>Managing users and groups on your system is about as basic an administration task as you can imagine. So you may wonder why it took the <a target="_blank" rel="noopener" href="https://cloudacademy.com/course/lpic1-linux-administration/introduction-4/">LPIC</a> exam objective so long to get here. The answer? I haven’t a clue, but since we’re here, we might as well get the job done. We’re going to talk about managing both user accounts and groups, and also the system files to track user group configurations.</p>
<p>We’ll begin by using useradd to create a new user account. We use -m to tell Linux to create a new directory in the &#x2F;home directory, which by default will be given the same name as the user.</p>
<p>And Terry is the name we’d like to give this user account. That’s it. But if we leave it there, the account might not be very useful since it doesn’t yet have a password. For that, we’ll use the passwd command. Note that for some reason that there is no O or R in the command name, it’s passwd.</p>
<p>Passwd will prompt you to enter a new password once, and then a second time to ensure that you haven’t mistyped. There are other arguments you can add to the useradd command. -e will set a date by which the account will automatically expire. -G will add the new user to an existing group. You will often use -G sudo to add the user to the sudo group, assuming, of course, that he’s going to be an admin. -p allows you to add a password without the need to run passwd later. Note though that you can only add encrypted passwords using this argument. -s will specify the user’s default log in shell if you don’t want the system default to apply, and -u allows you to manually specify a user ID.</p>
<p>Naturally, there are many more arguments that are documented in the useradd command file. Removing the user is done through userdel, user delete. Adding the -r argument will also remove the user’s home directory along with his mail spool if there is one.</p>
<p>Usermod will, as the name suggests, modify a user’s account settings. Usermod -m and -d create a new home directory for an existing user. -e will set or change an account expiry date, while dash -G will change the status of the user’s group membership. That is to say if the user is not yet a member of the specified group, he’ll be added. If he is already a member, he will be removed. -l will allow you to change the log in name for your user. Dash -L will lock password access to an account preventing the user from using his password to log in. Dash -U will unlock the account, re-enabling the original password. Speaking of expiry dates, you can also control account best before dates directly from the command line using change age or C-H-A-G-E. chage –list Max, for instance, will return the time until Max’s account expires, which is never in this case, but also the current controls in his password when it was last changed, when it will expire, and then the minimums and maximums you’ve set for creating new passwords.</p>
<p>There’s obviously a security concern with users who keep old and usually weak passwords for years, so change age allows admins to force users to step up their game. You can set the minimum number of days between password changes using change age -m, followed by the number of days and the user name. Running change age with uppercase M as an argument will set the maximum number of days before a new password is required. Change age with -W will set the number of days before password expires that a user will receive a warning message. In this case, the default is already seven.</p>
<p>You may wonder why this kind of control is necessary. After all, we’re talking about accounts on a single computer. Just how many users are there likely to be? This might be a point if we’re talking about people sitting down in front of most home PCs, but for set ups where users need to log in via secure shell, SSH, remote sessions, it’s a different story. In that context, it shouldn’t surprise you to learn that it’s quite common for server profiles to host remote visits from all kinds of developers and admins. Properly organizing and securing their accounts is therefore a significant concern.</p>
<p>Let’s review. You can create a new user with a new home directory using useradd -m. Adding -g will allow you to add the new user to a group. -p lets you set up an encrypted password. -s will specify which shell the user will use, and -u allows you to manually set the user ID. You can add a regular password with passwd followed by the username. Userdel will delete the user. You can use usermod -m to change a user’s home directory, -e to set an account expiry date, -g to add the user to or from a group, -l to change his log in name, -L to lock the password, and -U to unlock the password. Change age –list will list the user’s account limits. -n and a numeric value will set the minimum time for password change. Dash -M will set the maximum time, and -w will set the warning time.</p>
<h3 id="Working-with-Linux-groups"><a href="#Working-with-Linux-groups" class="headerlink" title="Working with Linux groups"></a>Working with Linux groups</h3><p>Let’s discuss groups. Groups are treated by your system pretty much the same way as users, but their function is a bit different. When you create a group, you assign permissions over specific system resources, but that by itself is meaningless because groups never do anything on their own. Rather, by adding system or logging users to a group, they are automatically given all the powers of the group. To take an example we’ve already seen, when the user joins the sudo group, he or she is allowed all the administrative powers that come with sudo.</p>
<p>Interestingly, Amazon’s AWS controls resource access for users enrols in very much the same way through identity and access management IAM groups.</p>
<p>The Linux groups tool kit works a lot like the useradd and usermod commands. Groupadd will create a group. Groupdel will remove or delete an existing group, and groupmod will modify a group’s values. -n, for instance, allows you to change the group’s name. You enter the new name immediately after -n, and then the name of the existing group.</p>
<h3 id="Using-Debian’s-adduser-and-deluser-rather-than-useradd-and-userdel"><a href="#Using-Debian’s-adduser-and-deluser-rather-than-useradd-and-userdel" class="headerlink" title="Using Debian’s adduser and deluser rather than useradd and userdel"></a>Using Debian’s adduser and deluser rather than useradd and userdel</h3><p>While the LPIC wants you to understand the workings of useradd and groupadd and their command families, you should also be aware that Debian distributions, which include Ubuntu, also use the variants adduser, deluser, and addgroup. These commands are more than just the old useradd and userdel with different names. They’re much more simple to use. So for instance, adduser and addgroup will automatically create ID values in line with Debian policies, and adduser will automatically create a home directory for the new user, populated with your system scale for configuration, which we’ll discuss a bit later, and require that you create a password right then.</p>
<p>Nonetheless, don’t lose sight of the fact that the LPIC exam will only deal with the more universal useradd. And either way, useradd and its friends work on all Linux systems. Finally, let’s explore some of the files Linux uses to store user and group profiles. The &#x2F;etc&#x2F;password file contains key information on each user on the system. Considering that on currently any virtual LXC container that really only exists for demonstration purposes, there do seem to be a few more users than you’d expect. Most of these like daemon, bin, and sys are actually system users. You can tell them apart from regular users by their user IDs called UID. System users will have IDs below 1000, while regular user IDs are usually 1000 and above.</p>
<p>The &#x2F;etc&#x2F;shadow file, which requires admin permission to view, also contains information on regular and system users, but it’s different information. Primarily for our purposes, shadow contains an encrypted version of the user’s password and any date restrictions on his account. &#x2F;etc&#x2F;group contains basic information about all current groups including the group ID, GID, and a list of all members. You can manually add a user to a group by editing this file and adding the user name to a group. Just remember not to insert any space in the line because that will mess things up royally. You can display information from these files using the get end get entry command. This example will politely ask getend to read the password file and display the entry for the user Ubuntu.</p>
<p>We mentioned the skeleton directory a little bit earlier, so we should perhaps give it some flesh and explain just what it is. If you’d like every new user to automatically be created with certain common files and directories in his home directory, you can place them in the &#x2F;etc&#x2F;skel directory. Copies of any files down there will be placed in new users’ directories ready for use.</p>
<p>Let’s review what we’ve seen. Groupadd will create a new group, groupdel will delete a group, and groupmod -n followed by new name and then the existing name will change its name. The &#x2F;etc&#x2F;passwd file contains basic user data like user IDs. &#x2F;etc&#x2F;shadow contains encrypted versions of user passwords, and &#x2F;etc&#x2F;group contains information about all system groups. Getend displays data directly from any of its user data files, and the &#x2F;etc&#x2F;skel directory contains files you’d like to be automatically included with new user home directories.</p>
<h1 id="Job-Scheduling"><a href="#Job-Scheduling" class="headerlink" title="Job Scheduling"></a>Job Scheduling</h1><p>While you can certainly execute a Linux process directly from the command line or through a script, there will definitely be times when that’s not practical. Perhaps, for instance, you’d like to make sure that your server data is backed up late each night at a time when no one is likely to be logged in and working, for when you yourself are planning to be comfortably sleeping in bed or perhaps you just want to make sure that the regular backups actually happen and aren’t forgotten.</p>
<h3 id="Scheduling-Linux-tasks-with-cron-and-at"><a href="#Scheduling-Linux-tasks-with-cron-and-at" class="headerlink" title="Scheduling Linux tasks with cron and at"></a>Scheduling Linux tasks with cron and at</h3><p>Whatever the need, unattended jobs can easily be scheduled using either the cron system or the At command. But first we’ll talk about cron. The key file holding the whole thing up is crontab, which lives in the &#x2F;etc directory. crontab is basically a script that regularly checks the cron.daily, cron.weekly, and cron.monthly directories, all of which exist in &#x2F;etc for their own scripts. As you can easily guess on your own, scripts that have been saved to cron.daily are supposed to be run each day. Those in cron.weekly are to be run each week, and cron.monthly scripts are to be run once a month.</p>
<p>If you’d like your script to run once a day and you’re not particular exactly when it’s run, then you’d simply save the script to the &#x2F;etc&#x2F;cron.daily directory, make sure it’s executable using change mode, and crontab will do its magic from then on. Let’s take a closer look at the contents of my crontab file. You’ll notice that the first line is commented out with the hash symbol, but it provides the column headers. The first column, therefore, represents how many minutes into the hour you’d like the command that follows to execute. In the case of the first command, that would be 17 minutes. The second column, H, describes in which hour of the day you’d like it to happen. The second through fourth lines will all take place in the sixth hour of the day, but our first command, because it contains a star, will execute in the 17th minute of every hour of the day. DOM stands for Day of the Month. Again, the star means that it will happen every day. The MON column sets the month, and, again, the star tells cron that it should happen in every month. And the final scheduling column sets the day of the week, meaning even if you set the command to execute on every calendar day of the month, it will only happen if the calendar day happens to fall out on a specified day of the week.</p>
<p>As you can see, the cron.weekly job will only execute on day seven, which is Sunday. Note, by the way, that crontab expects minutes in an hour to be numbered from 0 to 59, hours in a day from 0 to 23, days of the month from 1 to 31, and days of the week from 0 to 6. In this last case, however, Sunday can be represented by either zero or seven.</p>
<p>Now let’s look at the commands themselves. In each case, the system will CD to the root directory, and run all the files in the indicated directory using run-parts. The –report parameter will output the results of the command. The final three lines will first test for the existence of executable status of the anachron file. Only if it does not exist will it then run the files in &#x2F;etc&#x2F;cron.daily, weekly, and monthly.</p>
<p>Although the LPIC exam in its current form doesn’t yet require this, you should probably be aware that crontab functions can now also be performed on computers running systemD by systemD timers.</p>
<p>You can’t completely understand the cron system without awareness of a few other configuration files. The files found in the &#x2F;etc&#x2F;cron.d directory, for instance, work much the same way as crontab entries, but they also have a user field, populated by Root in this case. This is because cron.d scripts are run as a particular user, rather than automatically as Root.</p>
<h3 id="Working-with-anacron-jobs"><a href="#Working-with-anacron-jobs" class="headerlink" title="Working with anacron jobs"></a>Working with anacron jobs</h3><p>Finally, the &#x2F;etc&#x2F;anachrontab file is the configuration file for Anacron. Anachron runs regular jobs pretty much the same way that cron does, but it doesn’t assume that your computer will always be on. So if, for example, you have a regularly scheduled cron task that’s meant to run in the middle of the night, but you often turn your computer off for the night, then cron won’t be very helpful for you. To deal with this, the Anacrontab file doesn’t offer you the option of scheduling tasks for specific times during the day, but rather once daily, weekly, or monthly. Anacron will take care of the rest. Each line in the Anacrontab includes two columns of numbers. The first number is the number of days between executions. One, obviously, would indicate that the job is to be executed each day, and seven that it should be run every week. The at monthly value is a special value indicating one execution per month.</p>
<p>The second column tells Anacron how long to wait after a system boot before executing the command. The third column is the job identifier, and the final column contains the command line itself, which, in this case, is no different from what we found in the crontab file.</p>
<p>It’s time to review what we’ve seen so far. Scripts can be executed on a schedule set in the &#x2F;etc&#x2F;crontab file, schedules are set by minute, hour, day of the month, month, and day of the week. Scripts found in the cron.daily, cron.weekly, and cron.monthly directories are traditionally executed either through crontab or the &#x2F;etc&#x2F;anacrontab file, which runs jobs a set time after system boot. Jobs associated with specific users besides Root can be executed through the &#x2F;etc&#x2F;cron.d directory.</p>
<p>Now let’s discuss At. If you need to run a process just once, but you’re not going to be around to start it manually, you can use the At command to schedule it. I should note that At is not always installed by default, but can be added to your system using apt-get install at.</p>
<p>At is set up in two stages. You must first set the time you’ll want the job to run, and then the job details themselves. Scheduling is actually completely intuitive. Your scheduling command begins with the word at, which can be followed by an execution time that’s relative to the current time. So, for instance, you can type in now plus 30 minutes, which will start the process exactly 30 minutes from now. You can also use absolute local system times like 1430 meaning 2:30PM, which will run the command the next time the system clock hits 1430, whether that’s today’s 1430 or today’s 1430 has already passed, tomorrow. Plain English expressions will also work. Thus, at noon will run at 1200 hours. At midnight, at 0000 hours, and at tea time, believe it or not, will run at 1600 hours, which is when those under the influence of her Britannic Majesty’s Commonwealth take their mid afternoon break. At will also understand 2:00PM tomorrow or 5:00PM today.</p>
<p>Now that we know how to set the schedule, let’s create an actual job. We’ll use at 1330 to order up a job for 1:30 this afternoon. Now, we’ll simply type a command, say, a script located in my home directory called logrotate.sh. You can hit enter if you’d like to add another line of code or, when we’re done, control+d to finish the job configuration. Now, if nothing changes and, assuming that my computer will actually be running at 1:30, my script will be executed.</p>
<p>We can list all pending jobs with their ID numbers using at q. And we could remove a job using at rm, followed by the job’s ID. Batch works much the same way as At, but will only execute if the system load levels permit it. Not that I suspect you ever would, but be careful not to confuse our Linux batch with the old DOS batch file scripts, which of course weren’t nearly as much fun.</p>
<p>The directories in &#x2F;var&#x2F;spool&#x2F;cron are where pending at or crontab jobs belonging to regular users are kept. We’ll need to be sudo to enter these directories, so I’ll run sudo su. You can control which users can submit At jobs through the at.allow, or at.deny files in the etc directory. at.allow is a white list, meaning that if it exists, then only those users listed will be permitted to use At. If at.allow does not exist, then the at.deny file will act as a black list, preventing any user listed from using At, permitting everyone else. You can see that my at.deny file contains a long list of mostly system users, but all normal users are not blocked. The cron.allow and cron.deny files provide similar control access for cron jobs.</p>
<p>Let’s review the At command. You first schedule a job using relative time designations like now plus 20 minutes or now plus 2 hours, or absolute designations, like today at 2:30PM, noon, or 1445. Once you’ve scheduled a job, you can enter just about any command or list of commands on the command line, and hit control+d to finish. At Q will list all currently pending jobs, while at rm and the job ID will delete a pending job. At or crontab jobs belonging to regular users are kept in &#x2F;var&#x2F;cron, and access to the At or cron systems can be controlled through the at.deny, at.allow, cron.deny, and cron.allow files.</p>
<h1 id="Localisation"><a href="#Localisation" class="headerlink" title="Localisation"></a>Localisation</h1><p>Whether you are responsible for an application server hosting Internet services or a PC designed for local use, part of your job as an administrator is to make sure your system settings are appropriate for your users and geographic location. In this video, we’re going to learn how to identify and manage your system time zone settings and how to make sure your environment variables known as your locale properly reflect your needs.</p>
<h3 id="Managing-system-time-zones-in-Linux"><a href="#Managing-system-time-zones-in-Linux" class="headerlink" title="Managing system time zones in Linux"></a>Managing system time zones in Linux</h3><p>We’ll start with your time zone settings. Your current system time zone is stored in the &#x2F;etc&#x2F;timezone file. In my case, I’m in the American region, and within that, Toronto. You can also see that by running the date command, which displays the full current date and time. All the data for all available timezone is stored in the user share zone info directory. You can CD into the particular region, like America in my case, and find the file matching your zone. If the time zone setting is wrong or if your trans-continental flight is just landing and you want to keep your laptop in the loop, you can update it by creating a symbolic link linking the &#x2F;etc&#x2F;localtime file to the appropriate file in this directory. In my case, it would look like this. Alternatively, you can run tzselect and work through the menus to select your location. There’s currently a bug affecting the tzselect on some systems. The alternative is to run sudo dpkg-reconfigure tzdata to have the same effect. A third method is to directly edit the &#x2F;etc&#x2F;timezone file. The LPI-C wants you to know about the time date CTL program, which controls time and time zone settings for Linux distributions running system D. As you can see, time date CTL by itself will display some useful information. You should be aware, however, that not all timedatectl features - like set-time or set-timezone - will necessarily work on all systems. If timedatectl isn’t available by default on your computer, you can install it to Debian-based systems like Ubuntu and Mint, using apt-get install systemd-services.</p>
<p>To review, the &#x2F;etc&#x2F;timezone file contains your current time zone setting files in the user share zone info directory or present all available time zone locations. You can set the value of your &#x2F;etc&#x2F;localtime file by linking to it from a file and user share zone info, or you can set your zone using tzselect. timedatectl manages time zones for systemd machines.</p>
<h3 id="Managing-Linux-system-locales"><a href="#Managing-Linux-system-locales" class="headerlink" title="Managing Linux system locales"></a>Managing Linux system locales</h3><p>Now let’s look at system locales. Where you live in a world, will often determine how you visually represent all kinds of things, including the way you spell certain words, display dates in short form, or even numbers in currency so that your system software should be able to more effectively respond to your specific needs. Linux needs to set environment variables either globally or for specific use categories. To list your current environment variables, you can run locale. The first value is LANG, L-A-N-G, which when populated, will override all other values. In my case, the language of LANG is set to English, the country to Canada, CA, and the character encoding is UTF 8.</p>
<p>Currency, numbers including decimals and dates will all be displayed according to Canadian standards, whatever those are. I believe that the default paper size of LC underscore paper refers to letter format, which is slightly different than the A4 size popular in Europe. LC measurement would refer to Canada’s metric system as opposed to various versions of imperial units. By the way, there are a number of alternative character encoding settings besides UTF 8, including ISO 8859 and the very simple but absolutely reliable ASCII. Locale -a will display all available locale settings. Using C as a value for LANG can be very useful in some server scripting environments as it provides an environment that’s very compatible with syntax from the C programming language, the language with which most operating systems were written.</p>
<p>That pretty much takes care of identifying the values you’ve got right now, but we’ll also need to know how to change them. Environment values are kept in the user bin locale file. But since that’s a binary file, they can’t be edited. You could use export to set a particular value for this shell session only. However, once you log out or reboot, you’ll find yourself back to your original default. One way to change the default value is to edit the locale file that’s in the &#x2F;etc&#x2F;default directory.</p>
<p>Let’s review. The locale command will display your current local settings. The LANG equals value, if populated, will override all other locale values. LANG equals C will set your environment to emulate the C language as closely as possible. Export will change your locale settings for the session, and the contents of &#x2F;etc&#x2F;default locale determines the system default values.</p>
<p>While we’re on the topic of locale, there’s a very annoying bug I’ve noticed when running an Ubuntu virtual machine instance on Amazon’s AWS. While executing certain operations like package management, you sometimes face a locale cannot set LC all to default locale, no such file or directory error. This won’t usually be a big deal, that it can be easily resolved although I can’t understand why it happens in the first place. To fix the problem, first make sure that the locale you’d like to use is available by running locale gen. Then edit the &#x2F;etc&#x2F;environment file so that it includes an LC all equals line with your particular locale choice.</p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/11/19/Linux-LPIC-102-LPIC-1-102-Linux-certification-Linux-Desktops-2-of-6-3/" rel="prev" title="Linux-LPIC-102-LPIC-1-102-Linux-certification---Linux-Desktops-2-of-6-3">
      <i class="fa fa-chevron-left"></i> Linux-LPIC-102-LPIC-1-102-Linux-certification---Linux-Desktops-2-of-6-3
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/11/19/Linux-LPIC-102-Expanding-EBS-Volumes-on-Linux-Instances-5/" rel="next" title="Linux-LPIC-102-Expanding-EBS-Volumes-on-Linux-Instances-5">
      Linux-LPIC-102-Expanding-EBS-Volumes-on-Linux-Instances-5 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Introduction"><span class="nav-number">1.</span> <span class="nav-text">Introduction</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Users-and-Groups"><span class="nav-number">2.</span> <span class="nav-text">Users and Groups</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Managing-Linux-user-accounts"><span class="nav-number">2.0.1.</span> <span class="nav-text">Managing Linux user accounts</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Working-with-Linux-groups"><span class="nav-number">2.0.2.</span> <span class="nav-text">Working with Linux groups</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Using-Debian%E2%80%99s-adduser-and-deluser-rather-than-useradd-and-userdel"><span class="nav-number">2.0.3.</span> <span class="nav-text">Using Debian’s adduser and deluser rather than useradd and userdel</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Job-Scheduling"><span class="nav-number">3.</span> <span class="nav-text">Job Scheduling</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Scheduling-Linux-tasks-with-cron-and-at"><span class="nav-number">3.0.1.</span> <span class="nav-text">Scheduling Linux tasks with cron and at</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Working-with-anacron-jobs"><span class="nav-number">3.0.2.</span> <span class="nav-text">Working with anacron jobs</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Localisation"><span class="nav-number">4.</span> <span class="nav-text">Localisation</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Managing-system-time-zones-in-Linux"><span class="nav-number">4.0.1.</span> <span class="nav-text">Managing system time zones in Linux</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Managing-Linux-system-locales"><span class="nav-number">4.0.2.</span> <span class="nav-text">Managing Linux system locales</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Hang Zhang"
      src="/images/123456.gif">
  <p class="site-author-name" itemprop="name">Hang Zhang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">2736</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">72</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/zh375636" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zh375636" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:hang.zhang.network@gmail.com" title="E-Mail → mailto:hang.zhang.network@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hang Zhang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>



// 在最后添加
<script src="/js/code-unfold.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : '40GUvOAaitQh1SZe7ua9cvss-MdYXbMMI',
      appKey     : 'iUO2yON0j55WMdu59zx12dCG',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
