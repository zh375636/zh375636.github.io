<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="IntroThis is the fifth of the sixth courses preparing you for the LPIC-1 Linux Server Professional certification exam 102. With this course we turn our attention to network management. We’ll learn a">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux-LPIC-102-LPIC-1-102-Linux-certification---Linux-Networking-5-of-6-8">
<meta property="og:url" content="https://example.com/2022/11/19/Linux-LPIC-102-LPIC-1-102-Linux-certification-Linux-Networking-5-of-6-8/index.html">
<meta property="og:site_name" content="Hang&#39;s Blog">
<meta property="og:description" content="IntroThis is the fifth of the sixth courses preparing you for the LPIC-1 Linux Server Professional certification exam 102. With this course we turn our attention to network management. We’ll learn a">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-11-19T05:11:51.000Z">
<meta property="article:modified_time" content="2022-11-21T01:24:06.000Z">
<meta property="article:author" content="Hang Zhang">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://example.com/2022/11/19/Linux-LPIC-102-LPIC-1-102-Linux-certification-Linux-Networking-5-of-6-8/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Linux-LPIC-102-LPIC-1-102-Linux-certification---Linux-Networking-5-of-6-8 | Hang's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hang's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/19/Linux-LPIC-102-LPIC-1-102-Linux-certification-Linux-Networking-5-of-6-8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Linux-LPIC-102-LPIC-1-102-Linux-certification---Linux-Networking-5-of-6-8
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-19 01:11:51" itemprop="dateCreated datePublished" datetime="2022-11-19T01:11:51-04:00">2022-11-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-20 21:24:06" itemprop="dateModified" datetime="2022-11-20T21:24:06-04:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LPIC-1-102/" itemprop="url" rel="index"><span itemprop="name">LPIC-1-102</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/19/Linux-LPIC-102-LPIC-1-102-Linux-certification-Linux-Networking-5-of-6-8/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/19/Linux-LPIC-102-LPIC-1-102-Linux-certification-Linux-Networking-5-of-6-8/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <span id="more"></span>

<h1 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h1><p>This is the fifth of the sixth courses preparing you for the LPIC-1 Linux Server Professional certification exam 102. With this course we turn our attention to network management. We’ll learn about many of the basic of TCPIP, including configuring and maintaining effective IP addressing, network protocols and ports.</p>
<p>We’ll also learn about the IF config tool and it’s eventual replacement, IP, and learn to setup DNS client services, aliases and hosts. Finally, we’ll be introduced to some of Linux’s powerful network troubleshooting tools, like netstat, netcat and traceroute. Once you finish this course, there will be only one more to complete the LPIC-1 series, covering the hugely important topic of system security.</p>
<h1 id="Network-Addressing-Protocols"><a href="#Network-Addressing-Protocols" class="headerlink" title="Network Addressing Protocols"></a>Network Addressing Protocols</h1><p>Networking is about effectively identifying connected resources and controlling traffic between them, allowing what should be allowed and blocking what shouldn’t. Without accurate identification, reliable communications and secure routing would, of course, be impossible. TCP&#x2F;IP networks currently use one of two kinds of IP addresses for this identification, IPv4 and IPv6. IPv4 addresses, which are written in four numeric octets, each made up of numbers between 0 and 255, are divided into two sections, networks and nodes. The network section defines the address ranges a given network has available for individual devices like computers or smartphones, while the nodes section contains the endpoint addresses for these devices.</p>
<p>Since IP addresses can have different combinations of networks and nodes, we use network masks to communicate the format we’re using. Let me explain using an example. Here’s a sample IPv4 address.</p>
<h3 id="Network-addressing-with-IPv4-IPs"><a href="#Network-addressing-with-IPv4-IPs" class="headerlink" title="Network addressing with IPv4 IPs"></a>Network addressing with IPv4 IPs</h3><p>Let’s say that the first three octets, whose current values are 192, 168, and 0, are all going to be network addresses. And the final octet, the 1, is for nodes. This means that the network or, more accurately, the subnet, identified as 192.168.0 can have a theoretical maximum of 256 devices attached to it: 192.168.0.1, 192.168.0.2, 192.168.0.3 etc., all the way to 254 since 0 and 255 are normally reserved addresses.</p>
<p>Similarly, we could use 19.168.1 as an entirely different subnet able to assign device addresses between 192.168.1.1 and 192.168.1.254. The netmask to identify such a three-octet network will be 255.255.255.0. A zero always represents network nodes, while the 255s are notations representing networks. If we wanted to use only two octets as network addresses leaving the other two for network nodes, we would use a netmask of 255.255.0.0. This would allow more that 65,000 possible device addresses. That’s 256 squared, but limit us to only 65,000 possible subnets. Another way of describing such a network using CIDR, Classless Inter-Domain Routing notation, will be to add a slash 16 to the end of the address. In other words, keeping in mind that each octet is made up of 8 bits, 16 of the 32 total bits available will be network addresses, and 16 will be nodes.</p>
<p>Our earlier example, 255.255.255.0 could similarly be described as 192.168.0.0&#x2F;24. To make it just a bit more complicated, you can also reserve only part of an octet for network addresses. Suppose you know that you’ll never have more than a few devices attached to each of your subnets and you’d like to keep your options open for as many subnets as possible, you might want to reserve only, say, 128 nodes. In that case, you could define your subnet as 192.168.0.0&#x2F;28, where 28 is four bits higher than 24 and four lower than 32.</p>
<p>Incidentally, you can Google subnet calculator for helping figuring out the proper CIDR settings for your network.</p>
<p>Even though mathematically there are more than four billion usable IPv4 addresses available, the many billions of Internet-connected devices would by now have long exhausted the supply. The protocol that has kept us going for the past couple of decades of growth is the reserving of these three address ranges for private networks using NAT, Network Address Translation. NAT allows port forwarding of a single public facing IP address to be used to route incoming and outgoing traffic to many thousands of local devices that individually have no public face at all. Addresses within these three private ranges cannot be reached from the Internet, but they can be reused simultaneously within millions of private networks that don’t communicate directly with each other. IPv4 addresses are divided into classes. The value of the first octet of all Class A addresses will lie between 1 and 127. Class B addresses are between 128 and 191, and Class C falls between 192 and 223. If you’re still awake at this point, you’ll have noticed two interesting things. One, that those classes don’t cover the values between 224 and 256. This is because addresses above 223 are part of Class D and E ranges, which serve other functions. And two, that each of our three private NAT address ranges falls within a different one of the first three classes. I’m sure that there’s some very good architectural reason for this, but I’m afraid it’s beyond me.</p>
<h3 id="Network-addressing-with-IPv6-IPs"><a href="#Network-addressing-with-IPv6-IPs" class="headerlink" title="Network addressing with IPv6 IPs"></a>Network addressing with IPv6 IPs</h3><p>There’s a second solution to the problem of the diminishing supply of IPv4 addresses, IPv6. While IPv4 addresses are 32-bit, meaning they’re made up of four 8-bit octets, IPv6 addresses are 128-bit, meaning that there are two to the 128 possible addresses - enough to keep us going for a very long time. Once IPv6 is fully implemented, there’ll be no need for NAT addressing and avoiding address conflicts will be much simpler.</p>
<p>An IPv6 address is made up of eight hexadecimal numbers separated by colons. Multiple fields equaling zero can be represented by double colons. Therefore an address like this one could also be written this way.</p>
<p>Let’s review. IPv4 addresses consist of four octets divided between network addresses and device nodes. The netmask or the CIDR slash notation tells routing software which octets are for networks and which are for individual devices. You can reserve only some addresses within an octet for networks. Private net networks allowed no direct access to the Internet but have addresses in three ranges reserved for them. IPv6 addresses contain 32 bits in eight fields of hexadecimal numbers and therefore promise a virtually unlimited number of unique addresses.</p>
<h1 id="TCP-Networking"><a href="#TCP-Networking" class="headerlink" title="TCP Networking"></a>TCP Networking</h1><h3 id="Understanding-TCP-x2F-IP-networking-protocols"><a href="#Understanding-TCP-x2F-IP-networking-protocols" class="headerlink" title="Understanding TCP&#x2F;IP networking protocols"></a>Understanding TCP&#x2F;IP networking protocols</h3><p>In the previous video we learned about how IP addresses are used to identify network devices. While those addresses do point requests in the right direction, there are still two more things you’ll need to specify to ensure successful data transfers, the network protocol and network port. The network protocol defines how devices will communicate with each other, including how to establish connections, organize packets of data, and in some cases, how to compress or encrypt data. The three protocols the LPIC expects you to understand are TCP, UDP, and ICMP.</p>
<p>Perhaps the most common higher level protocol you will use is the Transmission Control Protocol TCP. In fact, the original Internet Protocol Suite, will often be referred to as TCP&#x2F;IP. Largely because of it’s built-in reliability, TCP is used to carry most web traffic, emails, and file transfers. Data is automatically broken down into small packets, transferred, and then reassembled at the target. TCP includes packet verification in its data stream deliveries.</p>
<p>For transfers that don’t require error checking, like streaming audio and video or VOIP, the quicker and connection-less User Datagram Protocol UDP is often used, while UDP has no delivery conformation or verification, it does provide checksums.</p>
<p>The Internet Controlled Message Protocol, ICMP, is a very simple way for network devices to quickly exchange some basic information. The ping tool uses ICMP to check if a host is online and available for connectivity. You point ping to an IP or DNS address and it will send small packages with a request that they be echoed back. ping will immediately report its results. Network ports allow a single IP address to be used for multiple purposes. They can also be used to make it harder for unauthorized users to gain access to your resources.</p>
<h3 id="Becoming-familiar-with-standard-and-non-standard-networking-ports"><a href="#Becoming-familiar-with-standard-and-non-standard-networking-ports" class="headerlink" title="Becoming familiar with standard and non-standard networking ports"></a>Becoming familiar with standard and non-standard networking ports</h3><p>There are, by accepted convention, three kinds of network ports. Well known ports, that we’ll explore in a minute; ICANN registered ports that have been reserved for specific commercial protocols; and dynamic ports that are available for anyone to use on an ad hoc basis. All well known ports fall between ports one and 1,023. ICANN registered ports can lie between 1024 and 49,151. Dynamic ports start at 49,152 and continue up to the highest port number, 65,535. You must be aware of these rules to avoid conflicts or security vulnerabilities. When you address traffic to a host using a non-standard port, they’ll need to specify the port after a colon that follows the address itself. If a single address is host to more than one service you may have to specify which service you’re after.</p>
<p>This host can be used for either HTTP or FTP access. Technically speaking you should have to add a port like 80 or 443 to web addresses that you visit, but your browser will usually do that for you invisibly.</p>
<p>As advertised, we’ll now look at some of the more common well known ports. The LPIC exam expects you to be familiar with the function of each of these. Port 20 is used for FTP file transfers, while 21 is for FTP data control. Port 22 is used by SSH, which is something you’ll definitely need to know if you plan to set up virtual private networks, VPCs, on Amazon’s AWS. 23 is used by Telnet, bear in mind that while Telnet is still useful for certain temporary and local functions it is inherently insecure and is not appropriate for most purposes. Port 25 is set aside for SMTP, the Simple Mail Transfer Protocol. 53, is a port used for domain name service, DNS. A fact that explains why AWS named its DNS service Root 53.</p>
<p>80, is for insecure HTTP traffic. The kind that for now at least makes up the majority of web traffic. There is currently a growing movement to convince all website administrators around the internet to switch their sites to secure HTTP or HTTPS, which as we’ll see in a minute uses Port 443. Port 110 is for the POP3 post office protocol for retrieving email messages over a TCP&#x2F;IP connection. 123 is used by NTP, Network Time Protocol. 139 is for NetBios, which controls local communications at the session layer. The Internet Message Access Protocol, IMAP, uses Port 143. IMAP, like POP3, allows for the retrieval of email messages. 161 is used by Simple Network Managing Protocol SNMP, a protocol for managing devices on IP networks. SNMP activity can be controlled by SNMP trap, which uses the next port up, 162. Port 389 is used for LDAP, Lightweight Directory Access Protocol. 443 is, as we mentioned earlier, for secure HTTP traffic and 465 is for Sysco’s URL Rendezvous directory. Port 514 when accessed using the UDP protocol is often monitored for system data by Syslog. Since UDP is unreliable its usage now recommends using TCP, supporting Transport Layer Security, TLS, on Port 6514. Port 514 can also be used over TCP for automatic authentication for shell session. Port 636 is used for secure LDAP using SSL. 993 is for secure IMAP, IMAP-S and 995 is for secure POP3.</p>
<h1 id="Network-Configuration"><a href="#Network-Configuration" class="headerlink" title="Network Configuration"></a>Network Configuration</h1><h3 id="Managing-network-interfaces-and-routes"><a href="#Managing-network-interfaces-and-routes" class="headerlink" title="Managing network interfaces and routes"></a>Managing network interfaces and routes</h3><p>Now that we’ve discussed network addressing and transfer protocols, we’ll have to learn how to configure and manage network interfaces and routes to ensure reliable connectivity. Most modern Linux distributions would do a pretty good job of automatically pointing a standard network interface device like an ethernet card to a DHCP server during the installation process. However, there will definitely be times when you’ll need a non-standard connectivity profile, and for that, you’re going to have to know both what to configure and how. First of all, it’ll be helpful to understand how Linux identifies network interfaces. Depending on the specific distribution you’re using, an ethernet interface might be called some variation of eth0, eth1, eth2, or em0, em1, and so on. While wireless interfaces are likely designated as wlan0 or wlan1. If you’d like to see which interfaces are currently active on your system, you could run ifconfig, or on newer systems, ip a. This shows us a device called eth0, its mac or hardware address, and IPv4 and IPv6 IP addresses. If the interface you’re looking for doesn’t show up, perhaps because something is keeping it from being loaded at boot time, you can search through dmesg greping for possible names. If you’re confident that your interface is properly configured, you can bring it up using either ifup or ip link set dev, which applies the set command to the object and type link specifying eth1 as the link and telling Linux to bring the device up. If your interface has not been configured, you can do that either from the command line, as we’ll see in a moment, or by editing a configurable file. On Ubuntu, for instance, the &#x2F;etc&#x2F;network&#x2F;interfaces file contains editable settings for each device. On Fedora, you’ll find individual files in the &#x2F;etc&#x2F;sys&#x2F;config&#x2F;network-scripts directory.</p>
<p>As I mentioned just before, you can also configure an interface directly from the command line. Using ip, you can add a static IP address and set its netmask using ip a add followed by the address, a slash, and then the netmask. In this case, that’s 255.255.255.0. You then specify the device name, eth1 in our case. Since I don’t actually have a device named eth1 in this system, this command will obviously fail. Assuming that eth1 did exist, you would now need to restart the interface using ip link set dev. If you’d like to shut an interface down, perhaps in order to change its configuration or to restart it if it’s not responding the way it should, you can use ip link set dev eth1 down. As we mentioned earlier, these last two functions can also be performed using a lot fewer keystrokes using ifup and ifdown. I would note that if you’re logged in remotely to a server through SSH, you’ve got to be very careful bringing interfaces up or down as it could easily kill your current session and force you to travel to the server to restart it.</p>
<p>Let’s review. ifconfig by itself will display information on all the network interfaces currently running on your system. ip a is a newer way of doing the same thing. ifup and ifdown or ip link set dev&#x2F;eth1 up or down will start or stop an interface.</p>
<h3 id="Configuring-network-routes-and-aliases"><a href="#Configuring-network-routes-and-aliases" class="headerlink" title="Configuring network routes and aliases"></a>Configuring network routes and aliases</h3><p>Interface information is kept in files like etc&#x2F;network&#x2F;interfaces on Debian systems and within the etc&#x2F;sysconfig&#x2F;networkscripts directory on others. You can use ip a add to set a value for a device from the command line. To be properly configured, a device needs an IP address and a subnet, both of which we’ve already discussed, but it also requires a default gateway router address so processes can find their way out of the computer and on to the wider network, and in some cases, an identifiable host name.</p>
<p>We’ll talk about both of those now. The route command will display the current system route table. In this case, we can see that the network gateway runs through 10.0.31 using eth0. If we wanted to manually change the default route, we would run the route add default command entering the IP address of the new route that we would like to use. GW, by the way, stands for gateway. Using ip, you would use route add default via followed by the new route IP address. If you’re trying to connect to a new router using DHCP, meaning you’d like the router to assign your computer a dynamic IP address, you might have to run dhclient from the command line to start that process off manually. dhclient, by the way, stands for dynamic host configuration protocol client. So that local processes and authorized network clients should be able to properly identify your computer, it should have a host name. This name, often the name you gave your computer during installation, is contained in a very simple file in the etc directory called host name. You can edit this file whenever you like, but you should also remember to update another file, &#x2F;etc&#x2F;host, which maps your host name to appropriate IP addresses. In this case, 127.0.1.1. You can add an alias name to the same line if you like. You can also add ip alias pairs to this file to make external connections easier. This example will make the letter G an alias for the IP address of Google.com. You can then simply run any local command, say, wget g and access the site. Finally, the etc&#x2F;nsswitch.conf file contains pointers to various system configuration files. It also tells you the order by which resources will be consulted by the system. So in our case, the system is looking for a mac address known here as ethers. We’d first look through a DB (files like &#x2F;etc&#x2F;passwd or &#x2F;etc&#x2F;shadow are considered DBs for this purpose), and then through system files. The “compat” method, will sync entries in a file like passwd by following inline instructions (usually a leading + or - sign).</p>
<p>Let’s do some review. Route will display your current routing information, while route add default gw or ip route add default via will edit it. dhclient can be used to manually establish your computer as a DHCP client. The &#x2F;etc&#x2F;hosting file contains your system’s host name, and &#x2F;etc&#x2F;host maps DNS names and aliases to IP addresses. The etc&#x2F;nsswitch.conf file points to various kinds of configuration data.</p>
<h3 id="Working-with-AWS-Virtual-Private-Clouds-VPCs"><a href="#Working-with-AWS-Virtual-Private-Clouds-VPCs" class="headerlink" title="Working with AWS Virtual Private Clouds (VPCs)"></a>Working with AWS Virtual Private Clouds (VPCs)</h3><p>Now is probably a good time to take a quick look at Amazon Web Services Virtual Private Clouds, VPCs. VPCs are AWS’s primary networking architecture and are designed to help you effectively and securely manage all a project’s compute resources. Any traffic moving within a VPC or to or from any external networks must successfully pass through a number of layers before it can reach its target, starting from the outer edge as an Internet gateway, which must be referenced by a route table before allowing anything through. Route tables in turn can be connected to individual subnets, whose access is controlled by access control lists, ACLs. Once past an ACL into a subnet, traffic will still fail to reach a computer database instance unless it’s allowed by the rules of that instance’s security group. And of course, as we’ve seen, you can further take advantage of various local security tools within an instance, which after all, is nothing more or less than a server.</p>
<h1 id="Network-DNS-client-side"><a href="#Network-DNS-client-side" class="headerlink" title="Network DNS (client side)"></a>Network DNS (client side)</h1><h3 id="Domain-Name-Service-DNS-mapping-IP-addresses-to-domain-names"><a href="#Domain-Name-Service-DNS-mapping-IP-addresses-to-domain-names" class="headerlink" title="Domain Name Service (DNS): mapping IP addresses to domain names"></a>Domain Name Service (DNS): mapping IP addresses to domain names</h3><p>As part of the last video we briefly discussed configuring a host name for your system. As we mentioned, host names make it possible to refer to individual computers by name without having to remember their IP addresses. If this is useful for your local system, it’s a thousand times more true for network resources. If you want to be able to use google.com in your browser or in scripts rather than having to remember its IP address, then you’ll need access to a good DNS server to perform your address translation for you. The first place we’ll have to visit is the &#x2F;etc&#x2F;resolv.conf file, resolv by the way is spelled without an E. This version contains only one of the two kinds of entries that are normally found. In our case it identifies two possible system name servers as 10.0.3.1 and 10.0.0.1, this means the DNS translation request will be sent to DNS servers on either of those two hosts.</p>
<p>In addition however you will often find a search entry which defines search domains to use for queries that don’t include their own fully qualified domain names. If for example there’s an entry search myplace.com in resolv.com, then searching for a simple text stream will return all matches from myplace.com. On Debian systems you can enter their DNS values in the appropriate entry from the &#x2F;etc&#x2F;network&#x2F;interfaces files. In this example we’re going to use 208.67.222.222 and 208.67.220.220, which are OpenDNS’s name servers. Host is a DNS lookup tool for converting domain names to IP addresses and IP addresses to domain names. We’ll use it to find out the IP address for gmail.com and the host name from my own systems IP address. DIG, which stands for domain information groper, will return much more information than host. The answer section in this dig operation shows us Gmail’s a record.</p>
<p>If there was an authority section in this response, it would contain the DNS name server with authority over this name. DIG also shows us some stats associated with this particular request. In case DIG is not installed by default on your system you can, at least on Debian systems, download it as part of the DNS Utils package. On first glance the getent tool might seem a bit redundant, running getent with passwd for instance, will return all the entries found in the local &#x2F;etc&#x2F;passwd file, but then running cat &#x2F;etc&#x2F;passwd would do exactly the same thing.</p>
<p>Why do we need a separate command like getent? I believe the real value of getent is in the fact that it will even return entries available only through network sources. Such as LDAP set ups.</p>
<h1 id="Network-Troubleshooting"><a href="#Network-Troubleshooting" class="headerlink" title="Network Troubleshooting"></a>Network Troubleshooting</h1><p>In previous videos from this course, we discussed how to identify, configure, and start network interfaces. Now it’s time to learn about troubleshooting connections when things don’t work. So we’ll assume that our interface shows up in dmesg, as it should, and that ifconfig or ip a reports that it has an appropriate IP address. We’ll also assume that the route command shows a working route to a live network gateway. But you’re still not sure that you’re properly connected. Does Linux offer any diagnostic tools? You bet it does. A whole whack of them.</p>
<h3 id="Using-ping-route-traceroute-tracepath-and-netcat-to-troubleshoot-Linux-network-problems"><a href="#Using-ping-route-traceroute-tracepath-and-netcat-to-troubleshoot-Linux-network-problems" class="headerlink" title="Using ping, route, traceroute, tracepath, and netcat to troubleshoot Linux network problems"></a>Using ping, route, traceroute, tracepath, and netcat to troubleshoot Linux network problems</h3><p>The first weapon you should pull out is the simplest, ping. As we’ve mentioned before, ping sends very small data packets to an address you specify, using the ICMP protocol, and requests that the packets are echoed back. When they are, then we’ll know two things: that the host you’re accessing is, in fact, available, but also that you have network connectivity, at least that far. You should first try an internet-based host, like Google.com. Or if you’re not sure you’ve got DNS service, and easy to remember IP address, like 8.8.8.8, which happens to be Google’s name server. If either of these work, then you’ll know that connectivity is not your problem. If they don’t work, then it’s time for plan B, identifying the shaky link in the network. You could try pinging your gateway address, meaning the address of the device, like a router linking you to the larger network. If you don’t know your gateway address, you can usually figure it out by looking at your own system IP address, using ifconfig or ip a.</p>
<p>In my case, if the IP address is 10.0.3.133, then the gateway is probably 10.0.3.1. You can run route to confirm this. Now let’s ping 10.0.3.1. If that works, then the problem most likely exists somewhere between the router and your internet provider.</p>
<p>If you can’t ping your router, then you should check the hardware connection, whether wired or wireless, that connects your PC to the router. It can’t hurt to confirm that the router is plugged in and powered on. Believe me, you wouldn’t be the first guy to miss that one. You can also use trace route against a network address to display information about each step packets take along their journey.</p>
<p>Traceroute, or its newer cousin, trace path will often show you exactly where connectivity breaks down. Incidentally, ping, traceroute, and tracepath all have special versions for handling IPv6 connectivity, called appropriately enough, ping6, traceroute6, and tracepath6.</p>
<p>Actually, getting your system ready for IPv6 can be a bit complicated, and is beyond the scope of the LPIC-1 exam. Now what if you’ve got all of the network and internet connectivity you need, but you’re having trouble accessing a particular host that’s supposed to be available. Or what if somebody’s having trouble accessing your service. You should test to make sure the necessary ports are open. From a different computer or network, you can use a terrific little tool called netcat.</p>
<p>While you should bear in mind that netcat, which can also be used as NC, is not at all secure, it can be used to create quick host client network connections for communications or even streaming files, but it can also be used to test for open ports. Here, we’ll run it with -Z and -V against Google.com to see if the http port 80 is open. If the port you need was not open, this test would fail and you’d be much closer to figuring out your problem.</p>
<p>You can also run netcat against a range of ports, but that can take a very long time. Netstat can check for listening and non-listening sockets, to confirm that the sockets you need are accessible. Finally, netstat -s can show you a really useful diagnostic data for each network protocol.</p>
<p>Let’s review. You can use ping to test for connectivity to specified hosts, route to display your gateway address, trace route or trace path to track packets along their network journey, netcat to check for open ports, and netstat to check for listening and non-listening sockets. You should be aware that ping6, traceroute6, and tracepath6 are all versions of those tools, meant for IPv6 systems.</p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/11/19/Linux-LPIC-102-LPIC-1-102-Linux-certification-Linux-System-Services-4-of-6-7/" rel="prev" title="Linux-LPIC-102-LPIC-1-102-Linux-certification---Linux-System-Services-4-of-6-7">
      <i class="fa fa-chevron-left"></i> Linux-LPIC-102-LPIC-1-102-Linux-certification---Linux-System-Services-4-of-6-7
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/11/19/Linux-LPIC-102-LPIC-1-102-Linux-certification-Linux-Security-6-of-6-9/" rel="next" title="Linux-LPIC-102-LPIC-1-102-Linux-certification---Linux-Security-6-of-6-9">
      Linux-LPIC-102-LPIC-1-102-Linux-certification---Linux-Security-6-of-6-9 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Intro"><span class="nav-number">1.</span> <span class="nav-text">Intro</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Network-Addressing-Protocols"><span class="nav-number">2.</span> <span class="nav-text">Network Addressing Protocols</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Network-addressing-with-IPv4-IPs"><span class="nav-number">2.0.1.</span> <span class="nav-text">Network addressing with IPv4 IPs</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Network-addressing-with-IPv6-IPs"><span class="nav-number">2.0.2.</span> <span class="nav-text">Network addressing with IPv6 IPs</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#TCP-Networking"><span class="nav-number">3.</span> <span class="nav-text">TCP Networking</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Understanding-TCP-x2F-IP-networking-protocols"><span class="nav-number">3.0.1.</span> <span class="nav-text">Understanding TCP&#x2F;IP networking protocols</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Becoming-familiar-with-standard-and-non-standard-networking-ports"><span class="nav-number">3.0.2.</span> <span class="nav-text">Becoming familiar with standard and non-standard networking ports</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Network-Configuration"><span class="nav-number">4.</span> <span class="nav-text">Network Configuration</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Managing-network-interfaces-and-routes"><span class="nav-number">4.0.1.</span> <span class="nav-text">Managing network interfaces and routes</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Configuring-network-routes-and-aliases"><span class="nav-number">4.0.2.</span> <span class="nav-text">Configuring network routes and aliases</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Working-with-AWS-Virtual-Private-Clouds-VPCs"><span class="nav-number">4.0.3.</span> <span class="nav-text">Working with AWS Virtual Private Clouds (VPCs)</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Network-DNS-client-side"><span class="nav-number">5.</span> <span class="nav-text">Network DNS (client side)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Domain-Name-Service-DNS-mapping-IP-addresses-to-domain-names"><span class="nav-number">5.0.1.</span> <span class="nav-text">Domain Name Service (DNS): mapping IP addresses to domain names</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Network-Troubleshooting"><span class="nav-number">6.</span> <span class="nav-text">Network Troubleshooting</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Using-ping-route-traceroute-tracepath-and-netcat-to-troubleshoot-Linux-network-problems"><span class="nav-number">6.0.1.</span> <span class="nav-text">Using ping, route, traceroute, tracepath, and netcat to troubleshoot Linux network problems</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Hang Zhang"
      src="/images/123456.gif">
  <p class="site-author-name" itemprop="name">Hang Zhang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">2736</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">19</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/zh375636" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zh375636" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:hang.zhang.network@gmail.com" title="E-Mail → mailto:hang.zhang.network@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hang Zhang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>



// 在最后添加
<script src="/js/code-unfold.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : '40GUvOAaitQh1SZe7ua9cvss-MdYXbMMI',
      appKey     : 'iUO2yON0j55WMdu59zx12dCG',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
