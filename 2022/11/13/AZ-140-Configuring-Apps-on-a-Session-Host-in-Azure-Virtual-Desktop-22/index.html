<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="IntroductionHello and welcome to this course on installing and configuring applications on a session host. My name is Shabba Azdah and I’ll be your instructor for this course. I am an Azure Virtual">
<meta property="og:type" content="article">
<meta property="og:title" content="AZ-140-Configuring-Apps-on-a-Session-Host-in-Azure-Virtual-Desktop-22">
<meta property="og:url" content="https://example.com/2022/11/13/AZ-140-Configuring-Apps-on-a-Session-Host-in-Azure-Virtual-Desktop-22/index.html">
<meta property="og:site_name" content="Hang&#39;s Blog">
<meta property="og:description" content="IntroductionHello and welcome to this course on installing and configuring applications on a session host. My name is Shabba Azdah and I’ll be your instructor for this course. I am an Azure Virtual">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-11-13T23:09:55.000Z">
<meta property="article:modified_time" content="2022-11-20T23:20:04.000Z">
<meta property="article:author" content="Hang Zhang">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://example.com/2022/11/13/AZ-140-Configuring-Apps-on-a-Session-Host-in-Azure-Virtual-Desktop-22/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>AZ-140-Configuring-Apps-on-a-Session-Host-in-Azure-Virtual-Desktop-22 | Hang's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Hang's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hang's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/13/AZ-140-Configuring-Apps-on-a-Session-Host-in-Azure-Virtual-Desktop-22/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          AZ-140-Configuring-Apps-on-a-Session-Host-in-Azure-Virtual-Desktop-22
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-13 19:09:55" itemprop="dateCreated datePublished" datetime="2022-11-13T19:09:55-04:00">2022-11-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-20 19:20:04" itemprop="dateModified" datetime="2022-11-20T19:20:04-04:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AZ-140/" itemprop="url" rel="index"><span itemprop="name">AZ-140</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/13/AZ-140-Configuring-Apps-on-a-Session-Host-in-Azure-Virtual-Desktop-22/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/13/AZ-140-Configuring-Apps-on-a-Session-Host-in-Azure-Virtual-Desktop-22/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <span id="more"></span>

<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>Hello and welcome to this course on installing and configuring applications on a session host. My name is Shabba Azdah and I’ll be your instructor for this course. I am an Azure Virtual Desktop specialist and I’ve been working in the Microsoft Cloud services for several years. Specifically with Azure Virtual Desktop since its inception and multiple Azure-focused certifications. My contact information is available on the screen. Please feel free to reach out to me with any questions, comments or concerns, and I’ll be happy to discuss these with you. For any other issues, you can always get in touch with us here at Cloud Academy by sending an email to <a href="mailto:&#115;&#x75;&#x70;&#x70;&#x6f;&#114;&#x74;&#x40;&#99;&#108;&#111;&#117;&#x64;&#97;&#99;&#97;&#x64;&#101;&#x6d;&#x79;&#46;&#99;&#111;&#109;">&#115;&#x75;&#x70;&#x70;&#x6f;&#114;&#x74;&#x40;&#99;&#108;&#111;&#117;&#x64;&#97;&#99;&#97;&#x64;&#101;&#x6d;&#x79;&#46;&#99;&#111;&#109;</a>. One of our Cloud experts will follow up with you.</p>
<p>This course is intended for anyone planning to take the Azure Virtual Desktop specialty exam and anyone interested in learning how to deploy an Azure Virtual Desktop environment. By the end of this course, you will have knowledge on configuring dynamic application delivery by using MSIX app attach, implementing application masking, deploying an application as a remote app, implementing and managing One Drive for business for a multi-session environment, implementing and managing Microsoft teams AV redirect, implementing and managing browsers and internet access for Azure Virtual Desktop, creating and configuring an application group, troubleshooting application issues related to Azure Virtual Desktop.</p>
<p>To get the most from this course, you should have an administrator-level understanding of Azure Cloud services. When I created this course, all information was current. Feedback on course content hosted by Cloud Academy is always appreciated and encouraged as it allows us as trainers to improve, which helps all of our students taking courses in the future. If you have any feedback, positive or negative, it would be greatly appreciated if you could contact supportcloudacademy.com. If you notice any updates or corrections, please reach out to us. Thank you.</p>
<h1 id="Configuring-Dynamic-Application-Delivery-with-MSIX-App-Attach"><a href="#Configuring-Dynamic-Application-Delivery-with-MSIX-App-Attach" class="headerlink" title="Configuring Dynamic Application Delivery with MSIX App Attach"></a>Configuring Dynamic Application Delivery with MSIX App Attach</h1><p>Welcome to this module on configuring dynamic application delivery by using MSIX App Attach. We’ll cover the following topics. We’ll start off by discussing what is MSIX App Attach. Next, how does MSIX App Attach work.</p>
<p>We’ll finish off with a demo of setting up a file share for MSIX App Attach. Let’s start off by discussing what MSIX App Attach is. MSIX is a Windows app package format that provides modern packaging experience to all Windows applications. It allows you to create a separation between the user’s data, the operating system, and the applications. MSIX removes the need for repackaging when delivering the applications dynamically. It also allows you to reduce the amount of time it takes users to log into the AVD session, but also reduces the amount of infrastructure required, which also lowers cost. Now we know what MSIX App Attach is.</p>
<p>Let’s discuss how it works. It follows the following steps&#x2F;stages. First we have the stage step, which is when the MSIX App Attach notifies the OS file application is available and that the virtual disk that contains the MSIX package is available. Next, we have the registration step. This is when the MSIX App Attach uses a per user process to make the application available to users. Moving on, we have the delayed registration step. This is when the complete registration of the app is delayed until the user decides to run it. Once you have used the app and have finished, we then have the deregistration step, where the application is no longer available to the user after you sign out.</p>
<p>Finally, we have the D stage step. In this, the application is no longer available from the session host after a shutdown or restart of the VM. The steps we have just discussed all happen in the background, and the user does not experience this. As a user, you sign into the AVD remote desktop application as normal and select the hotspot you want to utilize. The user profile is unloaded from an Azure file share and then the MSIX App Attach applications are registered to the session host VM for the user. To complete this module, we’re going to complete a walk-through demo of setting up a file share, specifically an Azure file share for MSIX App Attach.</p>
<p>Here we are logged into our AD DS server and we need to create a new security group for our session host. We need to create a new security group in this domain, which will need to be synchronized to as Azure AD. Once we have created this group, in our case we call it session host, we then need to add the session host object into this group. Once we have finished this task, we need to complete an Azure AD connect sync, so we can have a way or we can force the sync with PowerShell. We are now in the Azure portal and have navigated to the storage account.</p>
<p>If you have not already done so, you will need to create the storage account or even Azure file share. And if you have followed previous Cloud Academy modules on then AZ-140 certification path, you have already completed this when creating the user profile share, including joining the storage account to your AD DS domain. We already have the storage account and I’ve created a new file share called MSIX. However, we need to assign the relevant storage roles to the session host security group, admins, and to the users who will be accessing the applications. We click on ‘Add Role Assignment’ and first assign the storage file data SMB share contributor role to the session host security group.</p>
<p>You’ll need to follow the same process, but assign the users the storage file data SMB share contributor role and the storage file data SMB share elevated contributor role to the administrators. We now need to mount the share to a VM so we can assign the relevant NTFS permissions. If you never get to this Azure storage account and the MSIX share you created, click on ‘Connect’ and then select the Active Directory authentication method.</p>
<p>Finally, copy the script to a notepad as we are going to run this in our VM to mount the share. The final step in this demo is to mount the share to our domain joined VM and add the NTFS permissions. We run the PowerShell script we copied earlier and run this with elevated privileges. Once this has run successfully, we navigate to Windows Explorer and go to the Map Drive. We can then go to the properties of the share and add the relevant NTFS permissions, including granting full control of the share to admins and read, execute, read on this folder content access to the session host group and the users.</p>
<h1 id="Deploying-an-Application-as-a-RemoteApp"><a href="#Deploying-an-Application-as-a-RemoteApp" class="headerlink" title="Deploying an Application as a RemoteApp"></a>Deploying an Application as a RemoteApp</h1><p>Welcome to this module on deploying an application as a Remote App. We will cover the following topics in this module. We’ll explain what remote app is from an Azure virtual desktop perspective. We’ll then explain the requirements we need to be met before you can deploy a remote app. We will complete this module by doing a demo of deploying a remote app in AVD. Let’s start this module by discussing what a remote app actually is. It’s essentially application streaming as a service, which means you are using as your virtual desktop to deliver apps to your customers over a secure network via virtual machines.</p>
<p>Although you are streaming the apps via virtual machine, you do need to grant the user access to the desktop by the specific remote app you are streaming. The custom app is streamed from a session host, meaning you need to ensure that app is installed on the golden image you have utilized for the existing session host. Now we understand what a remote app is, let’s talk about some of the requirements you need to have in place before deploying it. You need to have your custom app in place. This includes MSIX space applications, something we already discussed in this module, or an application that is already installed on your deployed session host. You need to ensure you have an identity, so credentials to your domain. This will be used to grant access to the host pool that is hosting the remote app within your AVD environment.</p>
<p>Finally, we need to ensure you have an Azure subscription. It will not be possible to deploy an AVD resource without this. So, it is the most vital requirement. In the final lecture of this module, we’ll complete a walk-through demo of deploying an application as a remote app. Here we are back in the Azure portal and we are going to navigate to the Azure virtual desktop service and click on application groups. We already have an existing application group for our AVD pooled host pool, but we’ll create a new one for our remote app. We need to enter all the relevant details like subscription, resource group, and the host pool you want to associate with this remote app. We then give it an appropriate name and click on ‘Next’. Here, we want to select the application which is installed on the session host that we want to create as a remote app. In our case, it’s his notepad. We have to save this and add the users who need to have access to this remote app. We then associate it with an existing or new workspace. Configure any advanced settings or tags. In our case, we do not, and then review and create.</p>
<h1 id="Implementing-and-Managing-OneDrive-for-Business-for-a-Multi-Session-Environment"><a href="#Implementing-and-Managing-OneDrive-for-Business-for-a-Multi-Session-Environment" class="headerlink" title="Implementing and Managing OneDrive for Business for a Multi-Session Environment"></a>Implementing and Managing OneDrive for Business for a Multi-Session Environment</h1><p>Welcome to this module on implementing and managing OneDrive for business for a multi-session environment. We’ll cover the following topics in this module. We’ll first do an overview of OneDrive for business with AVD. We’ll end this module with demo of installing and deploying OneDrive sync app per machine. Let’s start off by looking at an overview of OneDrive for business. It is supported in the following environments: Windows 10, both 32 bit and 64 bit architecture, where it supports VHDX files, Windows 7, both 32 and 64 bit architecture, where it supports VHD files. It is also supported on Windows Server OS versions 2008 R2 through to 2019, excluding Windows 7 2012. It supports VHDX files with all the Windows Server OS apart from service files on a R2, where it supports VHD files. It also supports non-persistent environments that have FSLogix apps or FSLogix office content.</p>
<p>Finally, you need to ensure you have a Microsoft 365 subscription that supports operating system we mentioned earlier in this lecture. In the final lecture of this module, we’ll complete a walkthrough demo of installing the OneDrive sync app per machine. Here we are logged into our session host and we are going to use PowerShell to install OneDrive per machine. We have already downloaded the onedrive.exe file, so that’s from PowerShell as admin, and change the directory to the folder where the install file is stored. We then need to run the command with the all users parameter, so OneDrive installs for all users, not just the one we are logged in with. Once the install is completed, we can browse to the start menu and see if OneDrive for business is installed. And browse to program files (x86)\Microsoft OneDrive directory, which confirms this has been installed on the virtual machine, rather than the user’s local profile.</p>
<h1 id="Implementing-and-Managing-Microsoft-Teams-AV-Redirect"><a href="#Implementing-and-Managing-Microsoft-Teams-AV-Redirect" class="headerlink" title="Implementing and Managing Microsoft Teams AV Redirect"></a>Implementing and Managing Microsoft Teams AV Redirect</h1><p>Welcome to this module on implementing and managing Microsoft Teams AV. In this module, we’ll cover the following topics: We’ll discuss the RDP redirection properties that need to be in place for Microsoft Teams, we’ll finish this module by doing a run through demo of installing and configuring the Microsoft Teams desktop app.</p>
<p>Let’s start this module by discussing the RDP redirection properties that need to be in place to enable Microsoft Teams to work within the AVD environment. RDP redirection is not needed if you are utilizing media optimization within your Azure Virtual Desktop environment. If you are using media optimization, then there are three redirection properties you need to set. You first need to enable audio capture from the RDP properties. We need to ensure you set the audio mode to one if it is not already done so.</p>
<p>Finally, you need to redirect the local device’s camera via RDP properties. In the final lecture of this module, we’ll complete a walk through demo of installing the Microsoft Teams desktop app. Here we are logging to our session host and before we install anything, we need to configure a registry entry. Let’s open the registry editor and navigate to HKEY_local_machine software Microsoft Teams. If a team key is not there, you can create this. We then want to create a D word key with the name is AVD environment. I will set value to one. Once we have set this we need to download and install the Teams WebSocket service.</p>
<p>As you can see, we have already downloaded the install file along with the Teams install package for later. We follow the instructions on Teams WebSocket service install until this is completed. The final part of this demo is to install the Microsoft Teams MSI package which we are going to do via PowerShell. There are two types of install method, either per user install or the per machine install. We are going to complete the per machine install commander, which is MSIexec&#x2F;I and then the path to the MSI&#x2F;L*V. And then the file path to the install log file. All user equals one. We have saved our MSL file to the C temp directory, which is the same location we will start our installation log file. Once this is completed, we are ready to use Microsoft Teams.</p>
<h1 id="Implementing-and-Managing-Browsers-and-Internet-Access-for-AVD-Sessions"><a href="#Implementing-and-Managing-Browsers-and-Internet-Access-for-AVD-Sessions" class="headerlink" title="Implementing and Managing Browsers and Internet Access for AVD Sessions"></a>Implementing and Managing Browsers and Internet Access for AVD Sessions</h1><p>Welcome to this module on implementing and managing browsers and internet access for Azure Virtual Desktop sessions. We will cover the following topics in this module. We’ll discuss managing internet access for AVD. We’ll finish this module by talking about managing browsers on a session host.</p>
<p>Let’s start off by talking about managing internet access for Azure Virtual Desktop. There are multiple methods in which you can control and manage into the access from Azure Virtual Desktop. You can implement network security groups, NSG, to create inbound and outbound rules on what parts are able to route out to the internet. You can implement an Azure firewall within your AVD environment to filter traffic inbound and outbound to the internet. This allows you more flexibility and control than an LSG, as well as additional security measures for internet access, like web filtering.</p>
<p>You can also implement a network virtual appliance, NVA, which includes third-party firewalls have the same control and flexibility as an Azure firewall for internet access. Depending on your requirements, you can block or allow access to the internet from your AVD session host. Finally, as we touched on earlier, you can filter access to the internet from AVD by using features like web filtering to block certain categories of websites like gambling.</p>
<p>In the final section of this module, we are going to discuss managing browsers on a session host. There are multiple methods you can utilize to deploy browsers within a session host. You can publish an application using MSIX App Attach or a Remote app. You can facilitate this by using the New-AzWvdApplication commander in PowerShell. If the browser needs to be standard for all users, you can include it as part of your golden image, which ensures it is applied to all session hosts. Finally, Azure Virtual Desktop Windows 10 session hosts support multiple browsers, including Google Chrome, Mozilla Firefox, and Edge Chromium.</p>
<h1 id="Creating-and-Configuring-an-Application-Group"><a href="#Creating-and-Configuring-an-Application-Group" class="headerlink" title="Creating and Configuring an Application Group"></a>Creating and Configuring an Application Group</h1><p>Welcome to this module on creating and configuring an application group. We will look at the following topics in this module. We’ll explain what application group is within an AVD environment. In the final lecture of this module, we’ll complete a walk-through demo of creating, configuring an application group. Let’s start this module by explaining what an application group is. It is a collection of remote applications that you published within the Azure Virtual Desktop environment. You must associate the application group with a pooled host pool only, not a personal host pool. You can publish both Windows desktop and remote app within an application group. Finally, you can create an application group using the Azure portal, PowerShell, and Azure CLI.</p>
<p>In the demo at the end of this module, we’ll show how to create an application group via the Azure portal. In the final lecture of this module, we’ll complete a demo walk-through of configuring an application group for your PowerShell. We saw in the remote app module, how to create an application group via that Azure portal earlier. In this demo we’re going to create an application group as a remote app with PowerShell. Here we are in the Azure portal and we are going to use the Azure Cloud Shell with PowerShell to run our commanders.</p>
<p>First command that we want to run is the new AZ WVD application group. Well, we need to specify the name we want to give the new application group, the name of our resource group, the type of application group we want to create, in our case this is a remote app, and then the host pool Arm path. At the end, we need to specify the region we want the application group to exist in. Next, we need to find the name of the app earliest we want to configure as our remote app. So, to get this information we run the get dash is at WVD start menu item, where we specify our application group name, and resource group name. This will output all the apps on the start menu and the alias name. So, we can specify this in the next command that we need to run.</p>
<p>Finally, we run the new AZ WVD application commander where we can specify that app alias we documented from the commander before as well as our group name; name we want to give the app and the resource group name. Once these three commanders are completed, we have provisioned our application group.</p>
<h1 id="Troubleshooting-Application-Issues-Related-to-AVD"><a href="#Troubleshooting-Application-Issues-Related-to-AVD" class="headerlink" title="Troubleshooting Application Issues Related to AVD"></a>Troubleshooting Application Issues Related to AVD</h1><p>Welcome to this module on troubleshooting application issues related to Azure Virtual Desktop. We will discuss the following topics in this module. We’ll discuss information gathering and about application issues related to AVD. We’ll finish off the module by looking at performance counters. Let’s start this module by discussing information gathering when troubleshooting application issues in AVD.</p>
<p>Generally, poor application performance is very hard to diagnose. You need to start this process by first collecting information on CPU usage, memory usage, and storage disk input&#x2F;output metric. However, the data alone is not enough to find root cause issues with application performance. We need to use performance counters if we want to use the information you have gathered to find the root cause of an application performance issue.</p>
<p>The user input delay counter can help you quickly identify the root cause for bad end-user RDP experiences including poor application performance. This count measures how long any user input stays in the queue before it’s picked up by a process. It works both locally and in remote sessions. You need to enable a register key under HK Local Machine, System, CurrentControlSet, Control, Terminal Server, and create a REG_DWORD key called EnableLagCounter, then set it to the value of one. Finally, you need to use the Performance Monitor Windows application to review the performance counters once you have enabled them and restarted your session host.</p>
<h1 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h1><p>We covered a lot of ground in this course, including several important topics around installing and configuring apps on a session host. We started the course by discussing Configuring Dynamic Application delivery by using MSIX App Attach.</p>
<p>In this section, we explained what MSIX app attach is, how it works, and finished off with a demo of setting up a file share for MSIX App Attach. We then moved on to the topic of implementing app masking, where we explained what FSLogix Application Masking is and then completed the section with the demo of implementing FSLogix App masking on a session host. The third section of this course saw us cover Deploying an Application as a RemoteApp, in which we focused initially on explaining what RemoteApp is, what its requirements are, and again finished up with the demo of deploying a RemoteApp via the Azure Portal.</p>
<p>Next, we moved on to discussing, implementing, and managing OneDrive for Business for Multi-Session Environments. In this section, we discussed an overview of OneDrive for Business and finished off with a demo of installing OneDrive sync app per machine version. Following on from here, we tackled the topic Implementing and Managing Microsoft Teams AV. We initially focused on talking about RDP redirection properties within AVD that needs to be in place before implementing Microsoft Teams. We finished the section off by completing a walk-through demo of installing Microsoft Teams desktop app. We continued with the course and moved on to the topic of implementing and managing browsers and Internet access for Azure Virtual desktop.</p>
<p>In this short section, we discussed managing Internet access and managing browsers on a session host. In the penultimate section of this course, we discussed creating and configuring application group. Here, we explained what an application group is, followed by a demo of configuring application group via Azure PowerShell in the Azure Portal. In the final section of this course, we had a closer look at troubleshooting application issues related to Azure Virtual Desktop. Here, we covered information gathering and finally discussed performance counters.</p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/11/13/AZ-140-Knowledge-Check-Configuring-User-Experience-Settings-in-Azure-Virtual-Desktop-21/" rel="prev" title="AZ-140-Knowledge-Check-Configuring-User-Experience-Settings-in-Azure-Virtual-Desktop-21">
      <i class="fa fa-chevron-left"></i> AZ-140-Knowledge-Check-Configuring-User-Experience-Settings-in-Azure-Virtual-Desktop-21
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/11/13/AZ-140-Implementing-Business-Continuity-for-Azure-Virtual-Desktop-23/" rel="next" title="AZ-140-Implementing-Business-Continuity-for-Azure-Virtual-Desktop-23">
      AZ-140-Implementing-Business-Continuity-for-Azure-Virtual-Desktop-23 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Introduction"><span class="nav-number">1.</span> <span class="nav-text">Introduction</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Configuring-Dynamic-Application-Delivery-with-MSIX-App-Attach"><span class="nav-number">2.</span> <span class="nav-text">Configuring Dynamic Application Delivery with MSIX App Attach</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Deploying-an-Application-as-a-RemoteApp"><span class="nav-number">3.</span> <span class="nav-text">Deploying an Application as a RemoteApp</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Implementing-and-Managing-OneDrive-for-Business-for-a-Multi-Session-Environment"><span class="nav-number">4.</span> <span class="nav-text">Implementing and Managing OneDrive for Business for a Multi-Session Environment</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Implementing-and-Managing-Microsoft-Teams-AV-Redirect"><span class="nav-number">5.</span> <span class="nav-text">Implementing and Managing Microsoft Teams AV Redirect</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Implementing-and-Managing-Browsers-and-Internet-Access-for-AVD-Sessions"><span class="nav-number">6.</span> <span class="nav-text">Implementing and Managing Browsers and Internet Access for AVD Sessions</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Creating-and-Configuring-an-Application-Group"><span class="nav-number">7.</span> <span class="nav-text">Creating and Configuring an Application Group</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Troubleshooting-Application-Issues-Related-to-AVD"><span class="nav-number">8.</span> <span class="nav-text">Troubleshooting Application Issues Related to AVD</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Summary"><span class="nav-number">9.</span> <span class="nav-text">Summary</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Hang Zhang"
      src="/images/123456.gif">
  <p class="site-author-name" itemprop="name">Hang Zhang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">2736</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">72</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/zh375636" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zh375636" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:hang.zhang.network@gmail.com" title="E-Mail → mailto:hang.zhang.network@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hang Zhang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>



// 在最后添加
<script src="/js/code-unfold.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : '40GUvOAaitQh1SZe7ua9cvss-MdYXbMMI',
      appKey     : 'iUO2yON0j55WMdu59zx12dCG',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
html>
