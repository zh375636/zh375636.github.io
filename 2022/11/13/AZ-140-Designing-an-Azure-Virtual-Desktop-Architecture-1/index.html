<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Designing an Azure Virtual Desktop Architecture - IntroductionHello, and welcome to this course on Designing an Azure Virtual Desktop Architecture. My name is Shabaz Darr and I’ll be your instructor f">
<meta property="og:type" content="article">
<meta property="og:title" content="AZ140-Designing-an-Azure-Virtual-Desktop-Architecture-1">
<meta property="og:url" content="https://example.com/2022/11/13/AZ-140-Designing-an-Azure-Virtual-Desktop-Architecture-1/index.html">
<meta property="og:site_name" content="Hang&#39;s Blog">
<meta property="og:description" content="Designing an Azure Virtual Desktop Architecture - IntroductionHello, and welcome to this course on Designing an Azure Virtual Desktop Architecture. My name is Shabaz Darr and I’ll be your instructor f">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-11-13T18:59:38.000Z">
<meta property="article:modified_time" content="2022-11-14T10:32:12.000Z">
<meta property="article:author" content="Hang Zhang">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://example.com/2022/11/13/AZ-140-Designing-an-Azure-Virtual-Desktop-Architecture-1/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>AZ140-Designing-an-Azure-Virtual-Desktop-Architecture-1 | Hang's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hang's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://example.com/2022/11/13/AZ-140-Designing-an-Azure-Virtual-Desktop-Architecture-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/123456.gif">
      <meta itemprop="name" content="Hang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hang's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          AZ140-Designing-an-Azure-Virtual-Desktop-Architecture-1
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-13 14:59:38" itemprop="dateCreated datePublished" datetime="2022-11-13T14:59:38-04:00">2022-11-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-14 06:32:12" itemprop="dateModified" datetime="2022-11-14T06:32:12-04:00">2022-11-14</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2022/11/13/AZ-140-Designing-an-Azure-Virtual-Desktop-Architecture-1/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/11/13/AZ-140-Designing-an-Azure-Virtual-Desktop-Architecture-1/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Designing-an-Azure-Virtual-Desktop-Architecture-Introduction"><a href="#Designing-an-Azure-Virtual-Desktop-Architecture-Introduction" class="headerlink" title="Designing an Azure Virtual Desktop Architecture - Introduction"></a>Designing an Azure Virtual Desktop Architecture - Introduction</h1><p>Hello, and welcome to this course on Designing an Azure Virtual Desktop Architecture. My name is Shabaz Darr and I’ll be your instructor for this course. I am an Azure Virtual Desktop Specialist and have been working with Microsoft Cloud and Azure for several years, specifically with Azure Virtual Desktop since its inception, and have multiple Azure-focused certifications. My contact information is available on the screen. Please feel free to reach out to me with any questions, comments, or concerns, and I will be happy to discuss these with you. For any other issues you can always get in touch with us here at Cloud Academy by sending an email to <a href="mailto:support@cloudacademy.com">support@cloudacademy.com</a>, and one of our cloud experts will follow up with you.</p>
<p>This course is intended for people that are planning on taking the Azure Virtual Desktop Specialty exam, and anyone who is interested in learning how to deploy an Azure Virtual Desktop environment. By the end of this course, you will have knowledge on: Assessing existing physical and virtual environments, assessing network requirements for AVD, recommending an OS for an AVD implementation, planning and configuring name resolution, planning host pool architecture, recommending resource groups, subscriptions, and management groups, configuring location for AVD metadata, and calculating and recommending a configuration for performance requirements.</p>
<p>To get the most from this course, you should have an administrator-level understanding of Azure cloud services.</p>
<p>Feedback on course content hosted by Cloud Academy is always appreciated and encouraged, as it allows us as trainers to improve which helps all of our students taking courses in the future. If you have any feedback, positive or negative, it would be greatly appreciated if you could contact <a href="mailto:support@cloudacademy.com">support@cloudacademy.com</a>.</p>
<p>Please note, that at the time of writing this content, all course information was accurate. To accommodate new features and services, Microsoft regularly updates exam guidelines and measured skills. This may result in certain elements of discrepancy appearing in the content over time. Please contact us if you find any outdated content at <a href="mailto:support@cloudacademy.com">support@cloudacademy.com</a>. This will allow us to update the course during the next release cycle. Thank you.</p>
<h1 id="Azure-Virtual-Desktop-Overview"><a href="#Azure-Virtual-Desktop-Overview" class="headerlink" title="Azure Virtual Desktop Overview"></a>Azure Virtual Desktop Overview</h1><p>Welcome to this module on Azure Virtual Desktop overview. In this module, we will cover the following topics. What is the Azure Virtual Desktop? Where we’ll discuss some of the high-level features of this service. How does it work? Well, we’ll look at how organizations can utilize this service and Azure Virtual Desktop use cases. This is where we’ll talk about some of the different workloads and use cases that can take advantage of this cloud service.</p>
<p>We are first going to look at what Azure Virtual Desktop is. It is Microsoft’s cloud hosted virtual desktop infrastructure, better known as BDI solution, which allows you to move your end-user compute workloads into the cloud. It is only VDI solution that supports a Windows 10 Enterprise multi-session operating system, which means this particular OS can only be provisioned within Azure. Azure Virtual Desktop is secure by design as the backbone of this infrastructure is hosted within the Microsoft cloud ecosystem. However, we’ll talk about that in more detail later in this module.</p>
<p>It simplifies everyday management tasks by allowing you to utilize Azure’s automation services and tasks like Azure automate and auto-scale. These two integrations are outside of the scope of this course. However, they are discussed in later courses for this certification. Azure Virtual Desktop allows organizations to lower compute costs by allowing them to utilize auto shut down features and auto scaling to scale virtual machines in and out, depending on peak usage times or core business hours.</p>
<p>We are now going to discuss how it works. Azure Virtual Desktop allows users to remotely connect from anywhere and from multiple device types to a host cloud environment. This environment consists of host pools with virtual machine session hosts and application groups that consist of full Windows 10 desktop or remote published applications. You can integrate Azure Virtual Desktop with other services, as well as your on premises infrastructure if you have resources hosted within your physical offices, that need to be accessed.</p>
<p>I mentioned earlier in this module that Azure Virtual Desktop is secure by design. And this is because the backbone infrastructure is hosted by Microsoft. The Microsoft-managed components include web access. This component enables the end user to gain access to Azure Virtual Desktop and the virtual applications via HTML5-compatible internet browser. Connection broker, user connections to the remote desktop and remote applications are managed by this component of Azure Virtual Desktop.</p>
<p>Gateway access, this component allows remote users to connect to Azure Virtual Desktop resources from any device that is connected to the internet. Extensibility components, Azure Virtual Desktop can be managed by utilizing Windows PowerShell or the rest APIs that are provided. It also allows for support of third-party tools. Diagnostics, this event-based aggregator marks each action which is made by either a user or an administrator on the Azure Virtual Desktop deployment as a failure or a success. There are also specific components that are managed by the consumer, i.e. the organization. </p>
<p>The consumer-managed components include Azure Active Directory, Azure Virtual Desktop uses Azure Active Directory better known as Azure AD to manage identity and access better known as IAM. Azure Virtual Network, Azure Virtual Desktop compute resources use the Azure Virtual Network, better known as a vNet to communicate privately with over compute resources and between virtual machines. We will discuss network topology in more detail later in this course.</p>
<p>Session hosts, session hosts are virtual machines, better known as VMs that roam within your host pool. We will look at host pools and session hosts in more detail later in this course. Azure Virtual Desktop Workspace, this component manages session hosts and publishes the host pool resources. There are two types of Azure Virtual Desktop deployments which have very similar requirements. However, they both offer different benefits. We first have hybrid deployments, which is integration services that requires some type of additional infrastructure, whether hosted on premises or in the cloud. </p>
<p>In a hybrid Azure Virtual Desktop environment an Azure AD tenant is a requirement, which is the base of the identity and access management solutions. You also need to have a domain controller, which can be a physical or virtual service hosted on premises or a virtual machine hosted with Azure. An Azure subscription is required, which enables you to provision all the Azure Virtual Desktop services within your own tenant.</p>
<p>The second type of the deployment is a cloud-only deployment. The main difference with this type of deployment is instead of a domain controller, you utilize an Azure Active Directory Domain Services tenant, which is Microsoft domain controller as a service. You still need an Azure AD tenant and a subscription. Azure Virtual Desktop is accessed via an application called the Remote Desktop Client, which is supported on the following operating systems, Windows client, which can be downloaded via a web browser, Apple iOS client, which can be downloaded via the Apple store, Android client, which can be downloaded via the Play Store and macOS client, which can be downloaded via web browser.</p>
<p>In the final part of this module, we’re going to take a look at the different use cases of what Azure Virtual Desktop can be used for. The first use case is probably the one that has been utilized for the most and that is to facilitate remote working. You can have users working from locations outside your corporate offices network and access all the company resources they need via Azure Virtual Desktop. We then have organizations who are using Azure Virtual Desktop to replace their physical end user devices and move those workloads into Azure Virtual Desktop by utilizing the Windows 10 multi-session OS and published applications.</p>
<p>Another common use case has been development teams implementing development environments to test systems and applications outside their production environments in a sandbox Azure Virtual Desktop tenant. Organizations have also started to use Azure Virtual Desktop in their disaster recovery and business continuity plans. So in the event of a disaster, they can implement remote working quickly and effectively if required.</p>
<h1 id="Assessing-Existing-Physical-and-Virtual-Environments"><a href="#Assessing-Existing-Physical-and-Virtual-Environments" class="headerlink" title="Assessing Existing Physical and Virtual Environments"></a>Assessing Existing Physical and Virtual Environments</h1><p>Welcome to this module on assessing existing physical and virtual environments. In this module, we’ll cover the following topics. Proof of concept and how these can help you assess various elements of your existing infrastructure and how they will perform in the cloud. Assess Azure Virtual Desktop deployments where we’ll go into detail on those various elements you should assess and why. The different type of user personas and why they are important to understand. And understanding your application groups and how they function in a cloud environment.</p>
<p>A proof of concept is when you deploy services outside your production environment to allow you to understand what application, network and performance requirements will be before it moves into production. There are traditionally three stages in a proof of concept. The first stage is assess. The data you obtain from assessing the different applications and workloads will allow you to understand the number of simultaneous user sessions and the number of virtual machines you would need to facilitate those sessions.</p>
<p>Stage two is to migrate. You use the data obtained from the assess stage to provision new host pools and integrate the additional services, including FSLogix profile containers and RemoteApp application groups. The third stage is release. It is at this stage that you start to run performance testing to better understand network and application latency and start to allow users onto the environment to gain better feedback.</p>
<p>In this next part of the module, we’ll take a more in depth look at the assessment element of Azure Virtual Desktop. There are multiple components that are evaluated during the assessment stage, including: User personas, which we’ll talk about in further detail shortly. Virtual Machines to understand size requirements as well as user session capacity. Applications to understand which ones need to be part of the Windows image, and which ones can be deployed outside of the Windows image. </p>
<p>Data, which we’ll discuss in more detail shortly. User profiles, which are grouping users into different categories based on their workloads. One of the most important components to assess is data. When we talk about data, we do not just mean files and folders, but more information on various elements. The first of those elements is obtaining data on desktops. What applications do users have installed on their desktop and what are their requirements? We then have data on users. Which department are they in? Where do they access shares from? What applications do they individually use? </p>
<p>Finally, we have data on workloads where we can have light, medium, heavy or power user workloads. We need to understand these users that are classed under each of these type of categories. We mentioned user personas earlier. Specifying personas will happen by categorizing user based on the following criteria: Personal pools. We need to understand if users require their own personal virtual machine, or if they’re able to use pooled compute resources. There could be various reasons for requiring a personal VM, for example, compliance reasons. Density. Do certain users need greater performance density? An example of this would be having less users per CPU. We need to understand density information to ensure we size host pools correctly. Performance. Do certain users need to have higher performing virtual machines? For example, because they use an app that requires higher memory usage? Graphical processing. Better known as GPU, do specific users need to have graphics-intensive virtual machines due to their job role? Business function. Are you able to group a set of users under a single business area to allow easier cost management? Azure region. If you have a global user base, do they need to operate within that specific geographic location? Or for latency reasons is it better provisioning specific resources in closer locations for certain users? User count. We need to understand how many users will fit under each persona. Maximum session count. We’ll need to understand how many users will be connecting concurrently and from which region The final part of the assessment, but just as important as the other parts is the application groups. We need to understand which applications need to be part of a golden image that will be deployed to the session hosts. Which users will need to use Office applications? Or will they only need access to specific Office apps? Will applications be compatible with the virtual desktop environment? Which business critical apps will need to be part of the image or which ones can be published outside the image?</p>
<h1 id="Assessing-Network-Capacity-and-Speed-Requirements-for-Azure-Virtual-Desktop"><a href="#Assessing-Network-Capacity-and-Speed-Requirements-for-Azure-Virtual-Desktop" class="headerlink" title="Assessing Network Capacity and Speed Requirements for Azure Virtual Desktop"></a>Assessing Network Capacity and Speed Requirements for Azure Virtual Desktop</h1><p>Welcome to this module on Assessing Network Capacity and Speed Requirement for Azure Virtual Desktop. In this module we will cover the following topics:</p>
<ul>
<li>We will be taking a closer look at an Azure Virtual Desktop network architecture and the various ports and traffic flows</li>
<li>Next, we will look at the different types of network connectivity for Azure Virtual Desktop</li>
<li>Finally, we will look to understand some of the causes of connection latency in Azure Virtual Desktop</li>
</ul>
<p>Let’s start by looking at the network architecture for Azure Virtual Desktop</p>
<p>First, we can see all the connection sources which include the client device from which they are making the connection to Azure Virtual Desktop, the session host virtual machine, the internet, Active Directory Domain Services and Azure AD.</p>
<p>If we look closer at the Client connection, this flows via the Internet before it hits the Azure Virtual Desktop infrastructure. As we can see it makes three types of connection but all using the https port, which is 443. The purple line shows it making the Azure AD authentication, the red line signifies the feed subscription connection, and the dashed line signifies the Reverse Connection Transport connection. We will discuss this connection type in more detail shortly</p>
<p>We now see the additional authentication type connections that are made, initially from the session host to the Active Directory Domain Services on port 443 using Reverse Connect Transport, and then the Azure AD Connect traffic also using port 443.</p>
<p>The session hosts are also making connections to both the RD Gateway and RD Broker services. As we can see with this thick blue line, the connection to the RD Gateway is done on port 443 using Reverse Connect Transport. The connection to the RD Broker uses the RD Agent communication connection type, also on port 443</p>
<p>We now move on to looking at the different connection types. There are four main connectivity types that are utilized in Azure Virtual Desktop:</p>
<ul>
<li>First, we have Session Connectivity. As we saw in the architecture diagram earlier, session connectivity uses the remote desktop protocol, better known as RDP port to deliver remote display and input capabilities.</li>
<li>We then have Reverse Connect Transport, which is utilized to create the connection to the remote session on Azure Virtual Desktop</li>
<li>With the Session Host Communication Channel, when the Azure Virtual Desktop session initially starts there is a service called Remote Desktop Agent Loader service which creates a constant channel with Azure Virtual Desktop</li>
<li>Finally, the Connection Security. All connections that are made from clients and sessions hosts to the Azure Virtual Desktop infrastructure use TLS 1.2</li>
</ul>
<p>Let’s now move on to understanding connection latency in Azure Virtual Desktop. </p>
<p>There are a number of different things that can cause network latency when using Azure Virtual Desktop. As a service, Azure Virtual Desktop is globally available so as long as you have an internet connection and a supported device to use, you can connect to it.</p>
<p>It is not available in every region, so it is location dependent, however the list of supported regions is always growing. </p>
<p>Network latency can be difficult to predict or control, however Microsoft have and Azure Virtual Desktop Experience Estimator tool that assists organizations on deciding the best region which will allow them to improve latency of their session hosts. It is recommended that organizations should use this tool every 3 months to help manage network latency issues.</p>
<h1 id="Recommending-an-OS-for-Azure-Virtual-Desktop"><a href="#Recommending-an-OS-for-Azure-Virtual-Desktop" class="headerlink" title="Recommending an OS for Azure Virtual Desktop"></a>Recommending an OS for Azure Virtual Desktop</h1><p>Welcome to this module on Recommending an OS for Azure Virtual Desktop. In this module, we’ll cover the following topics: We’ll look at the virtual machine OS images that are supported in Azure Virtual Desktop that you need to consider when making recommendations. Lastly, we will discuss the various deployment options which support the different operating systems and why this is important to think about when making recommendations. Let’s start by looking at supported virtual machine OS images.</p>
<p>Azure Virtual Desktop only supports Windows operating systems for its session host virtual machines. The following Windows OS are supported: Windows 10 Enterprise multi-session. This OS is only support in Azure and enables multiple concurrent user sessions. Windows 10 Enterprise, which has the same features as Windows 10 Enterprise multi-session but without allowing concurrent user sessions. Windows 7 Enterprise. This OS is still available for businesses and in Azure Virtual Desktop for more legacy workloads.</p>
<p>Windows Server 2022 has recently become available for Azure Virtual desktop. Windows Server 2019, 2016, and 2012 R2 are additionally supported with Azure Virtual Desktop session host VMs. Now you understand the supported operating system for Azure Virtual Desktop, you also need to look at the different deployment options for these operating systems support. The first deployment option we have is from the Azure Image Gallery. All operating systems we have discussed support this method of deployment. We then have Manual virtual machine deployment which is again supported by all the operating system types we have discussed so far.</p>
<p>Azure Resource Manager, better know as ARM template deployment is only supported with Windows 10 Enterprise multi-session, version 1909 and later, Windows 10 Enterprise version 1909 and later and Windows Server 2016. ARM templates allow us to automate virtual machine deployment. The final deployment method available for Azure Virtual Desktop is provisioning host pools on the Azure Marketplace. This has the same OS support as ARM templates, Windows 10 Enterprise multi-session, version 1909 and later, Windows 10 Enterprise, version 1909 and later, and Windows Server 2016.</p>
<h1 id="Planning-and-Configuring-Name-Resolution-for-Active-Directory-and-Azure-AD-Domain-Services"><a href="#Planning-and-Configuring-Name-Resolution-for-Active-Directory-and-Azure-AD-Domain-Services" class="headerlink" title="Planning and Configuring Name Resolution for Active Directory and Azure AD Domain Services"></a>Planning and Configuring Name Resolution for Active Directory and Azure AD Domain Services</h1><p>Welcome to this module on Planning and Configuring Name Resolution for Active Directory and Azure AD Domain Services. In this module, we’ll cover the following topics. We’ll discuss Identity and Access Management options, which include: Azure Active Directory, Active Directory topology with Azure Virtual Desktop. Finally, we’ll discuss Azure AD Domain Services, better known Azure AD DS, with Azure Virtual Desktop. Let’s jump straight into Identity and Access Management options.</p>
<p>First, we have Azure Active Directory, which is Microsoft Cloud’s default identity service and it’s with this service that we can integrate features, such as conditional access and multi-factor authentication. We then have Active Directory Domain Services. This is your traditional on-premises identity and access management services where you install the Active Directory role onto a physical or virtual server. The third identity option for Azure Virtual Desktop is Azure Active Directory Domain Services. This is Microsoft’s domain controller as a service. Rather than provisioning a Windows Server to deploy the Active Directory role, you deploy this service and Microsoft manage the domain controller element. At the time of this course, all three options integrate with Azure Virtual Desktop. We will now look at each option in further detail.</p>
<p>First, let’s discuss Azure AD. Azure AD join has only recently been added as an integration feature. This enables administrators to manage the users and devices in a single pane of glass, regardless of the country the user or device reside in. Azure Active Directory can synchronize with Active Directory domain services via the Azure AD Connect sync tool, which in turn allows Azure Virtual Desktop to potentially integrate with applications that are hosted on-premises.</p>
<p>One of the most important features of Azure Active Directory integration enables for Azure Virtual Desktop are the security enhancements, including conditional access policies and multi-factor authentication. Active Directory Domain Services is traditionally a service you deploy on-premises on a virtual machine or a physical server, and allows you to domain join Windows clients. Domain joining your Azure Virtual Desktop session hosts will allow you to integrate the group policy to enhance the management experience. If you want the best of both on-premises and cloud integration, you can apply Hybrid AD join to your session host virtual machines to make use of Azure Active Directory’s enhanced security features but also Endpoint Manager integration.</p>
<p>The final deployment method we’ll discuss is Azure Active Directory Domain services. As I mentioned before, this is a domain controller as a service, so you do not have the headache of managing the Windows operating system, but get almost identical features as Active Directory Domain Services You can domain join your Azure Virtual Desktop session hosts. You even have the LDAP and NTLM support. However, what you do not get is the ability to do a hybrid AD join.</p>
<h1 id="Planning-Host-Pool-Architecture"><a href="#Planning-Host-Pool-Architecture" class="headerlink" title="Planning Host Pool Architecture"></a>Planning Host Pool Architecture</h1><p>Welcome to this module on Planning Host Pool Architecture. In this module, we’ll cover the following topics. I will explain what a pooled host pool is and its benefits. I’ll explain how breadth-first load balancing works. I’ll explain how depth-first load balancing works. We’ll finish this module off by talking about personal host pools and their benefits. A pooled host pool is also known as a non-persistent desktop and shares the session host resources or multiple users at any given time. Non-persistent state means about the settings are not saved unless you use FSLogix for user profile containerization. </p>
<p>There are two types of load balancing algorithms, which we’ll discuss in more detail now. The first load balancing algorithm we have is breadth-first load balancing, which enables you to evenly spread login sessions over all the session host virtual machines in your host pool. As you can see in this graphic, the session logins are spread even across a session host, and the next user it is connected to the session host on the right, indicated by the red circle.</p>
<p>Next, we have depth-first load balancing, which enables you to put all login sessions onto a single host. And only when usage of that session host hits a specific threshold, does it send login connections to another session host, as shown in the graphic. If we look at personal host pools, these are also known as persistent desktops, where settings are saved. You can either directly assign users to session hosts or allow Azure Virtual Desktop to automatically assign users. Whereas pooled host pools are shared resources, personal host pools are one-to-one ratio, so one user to one session host virtual machine.</p>
<h1 id="Recommending-Resource-Groups-Subscriptions-and-Management-Groups"><a href="#Recommending-Resource-Groups-Subscriptions-and-Management-Groups" class="headerlink" title="Recommending Resource Groups, Subscriptions, and Management Groups"></a>Recommending Resource Groups, Subscriptions, and Management Groups</h1><p>Welcome to this module on recommending resource groups, subscriptions and management groups. In this module, we’ll cover the following topics. We’ll discuss what a resource group is. We’ll talk about what a subscription is. I’ll explain what a management group is. Finally, we’ll take a closer look at an example of a typical hierarchical view of all three. A resource group is a logical container that allows you to manage your Azure resources that have been provisioned.</p>
<p>You can create multiple resource groups within your tenant and the number you have is very much dependent on your organization’s use case The resource group is the first logical management layer at which your Azure resources are stored. For example, if you have a number of departments, you might separate those departments’ provisioned resources into their own resource group. A resource group also stores metadata on the services you have placed in it. This is why it is essential that you choose the location of where you want your resource group to be situated carefully, as it needs to be in a country and region your organization’s policies allow.</p>
<p>The next level up in the Azure management hierarchy is a subscription. This is another logical container that stores metadata, and you can have multiple subscriptions within a tenant. You can also have multiple resource groups within a single subscription within multiple regions. You must have at least one subscription within your Azure tenant before you can start provisioning any cloud services, regardless of whether it is infrastructure as a servive, IaaS, software as a service, SaaS, or platform as a services, PaaS. The top level of management within Azure is a management group and much like the levels below it, this too is a logical container.</p>
<p>Management groups enable administrators to manage policies, access and compliance for multiple subscriptions and allow you to propagate settings down the management structure. As mentioned in the last point, you can manage multiple subscriptions within a management group regardless of the locations. In the final part of this module, we’re going to take a look at a typical management hierarchy, which includes management groups and subscriptions.</p>
<p>At the top layer, you have your root management group where you can apply policies and access rights you want to propagate down to the other resources. If we look at the next level down in the hierarchy, we have another layer of management groups that have been separated into departments, but also an enterprise subscription. At this level, an administrator could implement policies and access that are specific to each department.</p>
<p>Another level down, we have branched off into our separate, department-specific management groups where we have a mixture of subscriptions for testing and trials and a management group for production. It is this management group that is linked to the next level down where we have two region-specific management groups, which leads down to the lowest level in this hierarchy that consists of multiple enterprise subscriptions. This type of management hierarchy is typical of what you may find in an enterprise level organization, so it is recommended you take time to think about how this fits your Azure Virtual Desktop environment.</p>
<h1 id="Configuring-a-Location-for-Azure-Virtual-Desktop-Metadata"><a href="#Configuring-a-Location-for-Azure-Virtual-Desktop-Metadata" class="headerlink" title="Configuring a Location for Azure Virtual Desktop Metadata"></a>Configuring a Location for Azure Virtual Desktop Metadata</h1><p>Welcome to this module on configuring a location for Azure Virtual Desktop Metadata. In this module, we’ll cover the following topics. We’ll discuss the different types of information stored by Azure Virtual Desktop. Including customer data and the type of information that is stored as well as its locations. Diagnostic data and the type of information that is stored as well as this locations. Service generated data and the type of information that is stored as well as its locations. Let’s start by looking at customer data that is stored as part of the Azure Virtual Desktop environment.</p>
<p>Azure Virtual Desktop does not store actual user application related data. It does, however, store both, application names and use the principal names. The customer information that is stored is located in the location that is associated with the region the consumer has created that specific resource or object. If we now look at diagnostic metadata that is stored within Azure Virtual Desktop environment, is actually service generated data, which we’ll discuss in further detail shortly.</p>
<p>The diagnostic data that is stored is utilized for troubleshooting, support purposes and to check the health of the Azure Virtual Desktop environment. Diagnostic data is actually sent to two different locations. The first location is the one that is closest to the user in which the infrastructure is present. The second location is where the region where the host pool is located. Service generated data allows Microsoft to keep Azure Virtual Desktop reliable and scalable.</p>
<p>Specifically, traffic patterns, and region specific usage allow Microsoft to keep checks on health and performance of the backend control plan. Once the data is collated, it is sent to all the locations where the service infrastructure is held and then it is sent on to the US region. This includes scrub data, not any customer data. Service generated data is currently supported at limited locations, including the United States, Europe, the UK and Canada. Where is all generally available.</p>
<h1 id="Calculating-and-Recommending-a-Configuration-for-Performance-Requirements"><a href="#Calculating-and-Recommending-a-Configuration-for-Performance-Requirements" class="headerlink" title="Calculating and Recommending a Configuration for Performance Requirements"></a>Calculating and Recommending a Configuration for Performance Requirements</h1><p>Welcome to this module on calculating and recommending a configuration for performance requirements. In this module, we’ll cover the following topics: we will look at understanding the different workloads in Azure Virtual Desktop; we will then take a closer look at virtual machine size guidelines, including: multi-session recommendations for virtual machine sizing, single-session recommendations for virtual machine sizing, general recommendations for virtual machine sizing. Let’s start by looking at the different workloads available with Azure Virtual Desktop.</p>
<p>First, we have light workloads. When we say light workloads, we are talking about users who do basic data entry and use applications such as database apps and command-line apps. Next, we have medium workloads. With this type of workload, we are thinking more in the line of marketing people who use data entry applications, like Microsoft Word. We then move into heavy workloads. And these type of workloads are ideal for content creators who utilize broader Microsoft apps, such as PowerPoint and Outlook. The final workload we need to consider is power workloads. This type of workload suits 3D model makers who use applications such as Adobe products or CAD applications.</p>
<p>Now we understand the different types of Azure Virtual Desktop workloads, let’s take a look at some of the sizing recommendations. We start with some multi-session recommendations you need to be aware of for the exam. Microsoft recommends between 4 and 24 vCPUs for the standard or large environments. All virtual machines should have a minimum of at least two cores when dealing with standard or large environments.</p>
<p>Finally, it is recommended not to exceed 32 cores for any single virtual machine in an Azure Virtual Desktop environment. If we look at single-session recommendations, Microsoft recommends a minimum of 4 vCPUs per session host. For more accurate sizing however, they recommend you reach out to the app-specific vendor and liaise with them to understand more detailed recommendations.</p>
<p>In the final part of this module, we are going to discuss some general recommendations for virtual machine sizing with Azure Virtual Desktop. Microsoft recommends using Premium SSDs for any managed disks for better performance. If you are using the more power workload type, which is suited to graphics-intensive applications, then virtual machines with GPUs are the best fit. The last recommendation is to use the B-series burstable virtual machines for users who do not always utilize the maximum amount of CPU they are provisioned.</p>
<h1 id="Azure-Virtual-Desktop-Summary"><a href="#Azure-Virtual-Desktop-Summary" class="headerlink" title="Azure Virtual Desktop Summary"></a>Azure Virtual Desktop Summary</h1><p>We have covered several important topics in this course. First, we covered an overview of Azure Virtual Desktop, where we talked about what it is, how it works, and some use cases. We then moved on to looking at assessing existing physical and virtual environments. In this part of the course we discussed proof of concept, assessing deployments, user personas, and application groups.</p>
<p>Next came assessing network capacity and speed requirements for Azure Virtual Desktop, where we looked at network architecture, the different connectivity types, and looked at what can cause network latency. Recommending an operating system for Azure Virtual Desktop came next. And in this module, we talked about supported virtual machine images, the different supported and deployment types.</p>
<p>We moved on to look at planning and configuring name resolution for active directory and Azure AD Domain Services, where we talked about Azure AD, Active Directory and Azure AD Demand Services. Next came planning host pool architectures. And in this module, we took a closer look into what pooled and personal host pools are. Coming towards the end of the course, we discussed recommending resource groups, subscription and management groups.</p>
<p>In this module, we covered what a resource group, subscription and management group are, and then looked at hierarchical view of how they are utilized in an enterprise environment. Next, we discussed configuring a location for Azure Virtual Desktop metadata and the different types of data that were stored, including customer data, diagnostic data, and service generated data. </p>
<p>In the final module of this course, we looked at calculating and recommending a configuration for performance requirements. In this module, we look to understanding the different workload types and sizing guidelines for virtual machines.</p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/11/13/huawei-ver22-hcip-notes-27/" rel="prev" title="huawei-ver22-hcip-notes-27">
      <i class="fa fa-chevron-left"></i> huawei-ver22-hcip-notes-27
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/11/13/AZ-140-Knowledge-Check-Designing-an-Azure-Virtual-Desktop-Architecture-2/" rel="next" title="AZ140-Knowledge-Check:Designing-an-Azure-Virtual-Desktop-Architecture-2">
      AZ140-Knowledge-Check:Designing-an-Azure-Virtual-Desktop-Architecture-2 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Designing-an-Azure-Virtual-Desktop-Architecture-Introduction"><span class="nav-number">1.</span> <span class="nav-text">Designing an Azure Virtual Desktop Architecture - Introduction</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Azure-Virtual-Desktop-Overview"><span class="nav-number">2.</span> <span class="nav-text">Azure Virtual Desktop Overview</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Assessing-Existing-Physical-and-Virtual-Environments"><span class="nav-number">3.</span> <span class="nav-text">Assessing Existing Physical and Virtual Environments</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Assessing-Network-Capacity-and-Speed-Requirements-for-Azure-Virtual-Desktop"><span class="nav-number">4.</span> <span class="nav-text">Assessing Network Capacity and Speed Requirements for Azure Virtual Desktop</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Recommending-an-OS-for-Azure-Virtual-Desktop"><span class="nav-number">5.</span> <span class="nav-text">Recommending an OS for Azure Virtual Desktop</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Planning-and-Configuring-Name-Resolution-for-Active-Directory-and-Azure-AD-Domain-Services"><span class="nav-number">6.</span> <span class="nav-text">Planning and Configuring Name Resolution for Active Directory and Azure AD Domain Services</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Planning-Host-Pool-Architecture"><span class="nav-number">7.</span> <span class="nav-text">Planning Host Pool Architecture</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Recommending-Resource-Groups-Subscriptions-and-Management-Groups"><span class="nav-number">8.</span> <span class="nav-text">Recommending Resource Groups, Subscriptions, and Management Groups</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Configuring-a-Location-for-Azure-Virtual-Desktop-Metadata"><span class="nav-number">9.</span> <span class="nav-text">Configuring a Location for Azure Virtual Desktop Metadata</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Calculating-and-Recommending-a-Configuration-for-Performance-Requirements"><span class="nav-number">10.</span> <span class="nav-text">Calculating and Recommending a Configuration for Performance Requirements</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Azure-Virtual-Desktop-Summary"><span class="nav-number">11.</span> <span class="nav-text">Azure Virtual Desktop Summary</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Hang Zhang"
      src="/images/123456.gif">
  <p class="site-author-name" itemprop="name">Hang Zhang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">2653</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/zh375636" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zh375636" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:hang.zhang.network@gmail.com" title="E-Mail → mailto:hang.zhang.network@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hang Zhang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>



// 在最后添加
<script src="/js/code-unfold.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : '40GUvOAaitQh1SZe7ua9cvss-MdYXbMMI',
      appKey     : 'iUO2yON0j55WMdu59zx12dCG',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
